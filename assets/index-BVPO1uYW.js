(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Vv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Pd={exports:{}},Tl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function Fb(){if(G_)return Tl;G_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:f,ref:l!==void 0?l:null,props:c}}return Tl.Fragment=e,Tl.jsx=i,Tl.jsxs=i,Tl}var K_;function Gb(){return K_||(K_=1,Pd.exports=Fb()),Pd.exports}var T=Gb(),jd={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function Kb(){if(Q_)return Te;Q_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),C=Symbol.iterator;function H(V){return V===null||typeof V!="object"?null:(V=C&&V[C]||V["@@iterator"],typeof V=="function"?V:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,W={};function ce(V,Y,ie){this.props=V,this.context=Y,this.refs=W,this.updater=ie||J}ce.prototype.isReactComponent={},ce.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},ce.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function le(){}le.prototype=ce.prototype;function me(V,Y,ie){this.props=V,this.context=Y,this.refs=W,this.updater=ie||J}var ee=me.prototype=new le;ee.constructor=me,Z(ee,ce.prototype),ee.isPureReactComponent=!0;var Ee=Array.isArray;function Ce(){}var D={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(V,Y,ie){var ae=ie.ref;return{$$typeof:r,type:V,key:Y,ref:ae!==void 0?ae:null,props:ie}}function N(V,Y){return R(V.type,Y,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function L(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ie){return Y[ie]})}var I=/\/+/g;function ze(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):Y.toString(36)}function at(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Ce,Ce):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function F(V,Y,ie,ae,_e){var Re=typeof V;(Re==="undefined"||Re==="boolean")&&(V=null);var Ue=!1;if(V===null)Ue=!0;else switch(Re){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(V.$$typeof){case r:case e:Ue=!0;break;case b:return Ue=V._init,F(Ue(V._payload),Y,ie,ae,_e)}}if(Ue)return _e=_e(V),Ue=ae===""?"."+ze(V,0):ae,Ee(_e)?(ie="",Ue!=null&&(ie=Ue.replace(I,"$&/")+"/"),F(_e,Y,ie,"",function(as){return as})):_e!=null&&(O(_e)&&(_e=N(_e,ie+(_e.key==null||V&&V.key===_e.key?"":(""+_e.key).replace(I,"$&/")+"/")+Ue)),Y.push(_e)),1;Ue=0;var Dt=ae===""?".":ae+":";if(Ee(V))for(var ot=0;ot<V.length;ot++)ae=V[ot],Re=Dt+ze(ae,ot),Ue+=F(ae,Y,ie,Re,_e);else if(ot=H(V),typeof ot=="function")for(V=ot.call(V),ot=0;!(ae=V.next()).done;)ae=ae.value,Re=Dt+ze(ae,ot++),Ue+=F(ae,Y,ie,Re,_e);else if(Re==="object"){if(typeof V.then=="function")return F(at(V),Y,ie,ae,_e);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function ne(V,Y,ie){if(V==null)return V;var ae=[],_e=0;return F(V,ae,"","",function(Re){return Y.call(ie,Re,_e++)}),ae}function de(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(ie){(V._status===0||V._status===-1)&&(V._status=1,V._result=ie)},function(ie){(V._status===0||V._status===-1)&&(V._status=2,V._result=ie)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var je=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Qe={map:ne,forEach:function(V,Y,ie){ne(V,function(){Y.apply(this,arguments)},ie)},count:function(V){var Y=0;return ne(V,function(){Y++}),Y},toArray:function(V){return ne(V,function(Y){return Y})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Te.Activity=A,Te.Children=Qe,Te.Component=ce,Te.Fragment=i,Te.Profiler=l,Te.PureComponent=me,Te.StrictMode=s,Te.Suspense=y,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Te.__COMPILER_RUNTIME={__proto__:null,c:function(V){return D.H.useMemoCache(V)}},Te.cache=function(V){return function(){return V.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(V,Y,ie){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ae=Z({},V.props),_e=V.key;if(Y!=null)for(Re in Y.key!==void 0&&(_e=""+Y.key),Y)!w.call(Y,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&Y.ref===void 0||(ae[Re]=Y[Re]);var Re=arguments.length-2;if(Re===1)ae.children=ie;else if(1<Re){for(var Ue=Array(Re),Dt=0;Dt<Re;Dt++)Ue[Dt]=arguments[Dt+2];ae.children=Ue}return R(V.type,_e,ae)},Te.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Te.createElement=function(V,Y,ie){var ae,_e={},Re=null;if(Y!=null)for(ae in Y.key!==void 0&&(Re=""+Y.key),Y)w.call(Y,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(_e[ae]=Y[ae]);var Ue=arguments.length-2;if(Ue===1)_e.children=ie;else if(1<Ue){for(var Dt=Array(Ue),ot=0;ot<Ue;ot++)Dt[ot]=arguments[ot+2];_e.children=Dt}if(V&&V.defaultProps)for(ae in Ue=V.defaultProps,Ue)_e[ae]===void 0&&(_e[ae]=Ue[ae]);return R(V,Re,_e)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(V){return{$$typeof:g,render:V}},Te.isValidElement=O,Te.lazy=function(V){return{$$typeof:b,_payload:{_status:-1,_result:V},_init:de}},Te.memo=function(V,Y){return{$$typeof:_,type:V,compare:Y===void 0?null:Y}},Te.startTransition=function(V){var Y=D.T,ie={};D.T=ie;try{var ae=V(),_e=D.S;_e!==null&&_e(ie,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Ce,je)}catch(Re){je(Re)}finally{Y!==null&&ie.types!==null&&(Y.types=ie.types),D.T=Y}},Te.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Te.use=function(V){return D.H.use(V)},Te.useActionState=function(V,Y,ie){return D.H.useActionState(V,Y,ie)},Te.useCallback=function(V,Y){return D.H.useCallback(V,Y)},Te.useContext=function(V){return D.H.useContext(V)},Te.useDebugValue=function(){},Te.useDeferredValue=function(V,Y){return D.H.useDeferredValue(V,Y)},Te.useEffect=function(V,Y){return D.H.useEffect(V,Y)},Te.useEffectEvent=function(V){return D.H.useEffectEvent(V)},Te.useId=function(){return D.H.useId()},Te.useImperativeHandle=function(V,Y,ie){return D.H.useImperativeHandle(V,Y,ie)},Te.useInsertionEffect=function(V,Y){return D.H.useInsertionEffect(V,Y)},Te.useLayoutEffect=function(V,Y){return D.H.useLayoutEffect(V,Y)},Te.useMemo=function(V,Y){return D.H.useMemo(V,Y)},Te.useOptimistic=function(V,Y){return D.H.useOptimistic(V,Y)},Te.useReducer=function(V,Y,ie){return D.H.useReducer(V,Y,ie)},Te.useRef=function(V){return D.H.useRef(V)},Te.useState=function(V){return D.H.useState(V)},Te.useSyncExternalStore=function(V,Y,ie){return D.H.useSyncExternalStore(V,Y,ie)},Te.useTransition=function(){return D.H.useTransition()},Te.version="19.2.4",Te}var Y_;function Om(){return Y_||(Y_=1,jd.exports=Kb()),jd.exports}var Se=Om();const Jn=Vv(Se);var zd={exports:{}},bl={},Bd={exports:{}},qd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function Qb(){return X_||(X_=1,(function(r){function e(F,ne){var de=F.length;F.push(ne);e:for(;0<de;){var je=de-1>>>1,Qe=F[je];if(0<l(Qe,ne))F[je]=ne,F[de]=Qe,de=je;else break e}}function i(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var ne=F[0],de=F.pop();if(de!==ne){F[0]=de;e:for(var je=0,Qe=F.length,V=Qe>>>1;je<V;){var Y=2*(je+1)-1,ie=F[Y],ae=Y+1,_e=F[ae];if(0>l(ie,de))ae<Qe&&0>l(_e,ie)?(F[je]=_e,F[ae]=de,je=ae):(F[je]=ie,F[Y]=de,je=Y);else if(ae<Qe&&0>l(_e,de))F[je]=_e,F[ae]=de,je=ae;else break e}}return ne}function l(F,ne){var de=F.sortIndex-ne.sortIndex;return de!==0?de:F.id-ne.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var y=[],_=[],b=1,A=null,C=3,H=!1,J=!1,Z=!1,W=!1,ce=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,me=typeof setImmediate<"u"?setImmediate:null;function ee(F){for(var ne=i(_);ne!==null;){if(ne.callback===null)s(_);else if(ne.startTime<=F)s(_),ne.sortIndex=ne.expirationTime,e(y,ne);else break;ne=i(_)}}function Ee(F){if(Z=!1,ee(F),!J)if(i(y)!==null)J=!0,Ce||(Ce=!0,L());else{var ne=i(_);ne!==null&&at(Ee,ne.startTime-F)}}var Ce=!1,D=-1,w=5,R=-1;function N(){return W?!0:!(r.unstable_now()-R<w)}function O(){if(W=!1,Ce){var F=r.unstable_now();R=F;var ne=!0;try{e:{J=!1,Z&&(Z=!1,le(D),D=-1),H=!0;var de=C;try{t:{for(ee(F),A=i(y);A!==null&&!(A.expirationTime>F&&N());){var je=A.callback;if(typeof je=="function"){A.callback=null,C=A.priorityLevel;var Qe=je(A.expirationTime<=F);if(F=r.unstable_now(),typeof Qe=="function"){A.callback=Qe,ee(F),ne=!0;break t}A===i(y)&&s(y),ee(F)}else s(y);A=i(y)}if(A!==null)ne=!0;else{var V=i(_);V!==null&&at(Ee,V.startTime-F),ne=!1}}break e}finally{A=null,C=de,H=!1}ne=void 0}}finally{ne?L():Ce=!1}}}var L;if(typeof me=="function")L=function(){me(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ze=I.port2;I.port1.onmessage=O,L=function(){ze.postMessage(null)}}else L=function(){ce(O,0)};function at(F,ne){D=ce(function(){F(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function(F){switch(C){case 1:case 2:case 3:var ne=3;break;default:ne=C}var de=C;C=ne;try{return F()}finally{C=de}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(F,ne){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var de=C;C=F;try{return ne()}finally{C=de}},r.unstable_scheduleCallback=function(F,ne,de){var je=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?je+de:je):de=je,F){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=de+Qe,F={id:b++,callback:ne,priorityLevel:F,startTime:de,expirationTime:Qe,sortIndex:-1},de>je?(F.sortIndex=de,e(_,F),i(y)===null&&F===i(_)&&(Z?(le(D),D=-1):Z=!0,at(Ee,de-je))):(F.sortIndex=Qe,e(y,F),J||H||(J=!0,Ce||(Ce=!0,L()))),F},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(F){var ne=C;return function(){var de=C;C=ne;try{return F.apply(this,arguments)}finally{C=de}}}})(qd)),qd}var $_;function Yb(){return $_||($_=1,Bd.exports=Qb()),Bd.exports}var Hd={exports:{}},$t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function Xb(){if(J_)return $t;J_=1;var r=Om();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:_,implementation:b}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(y,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,b)},$t.flushSync=function(y){var _=f.T,b=s.p;try{if(f.T=null,s.p=2,y)return y()}finally{f.T=_,s.p=b,s.d.f()}},$t.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(y,_))},$t.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},$t.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var b=_.as,A=g(b,_.crossOrigin),C=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?s.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:C,fetchPriority:H}):b==="script"&&s.d.X(y,{crossOrigin:A,integrity:C,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},$t.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=g(_.as,_.crossOrigin);s.d.M(y,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(y)},$t.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,A=g(b,_.crossOrigin);s.d.L(y,b,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},$t.preloadModule=function(y,_){if(typeof y=="string")if(_){var b=g(_.as,_.crossOrigin);s.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(y)},$t.requestFormReset=function(y){s.d.r(y)},$t.unstable_batchedUpdates=function(y,_){return y(_)},$t.useFormState=function(y,_,b){return f.H.useFormState(y,_,b)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.4",$t}var Z_;function $b(){if(Z_)return Hd.exports;Z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Hd.exports=Xb(),Hd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function Jb(){if(W_)return bl;W_=1;var r=Yb(),e=Om(),i=$b();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return y(h),t;if(d===o)return y(h),n;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var p=!1,E=h.child;E;){if(E===a){p=!0,a=h,o=d;break}if(E===o){p=!0,o=h,a=d;break}E=E.sibling}if(!p){for(E=d.child;E;){if(E===a){p=!0,a=d,o=h;break}if(E===o){p=!0,o=d,a=h;break}E=E.sibling}if(!p)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,C=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),le=Symbol.for("react.consumer"),me=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function ze(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case ce:return"Profiler";case W:return"StrictMode";case Ee:return"Suspense";case Ce:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case me:return t.displayName||"Context";case le:return(t._context.displayName||"Context")+".Consumer";case ee:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:ze(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return ze(t(n))}catch{}}return null}var at=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},je=[],Qe=-1;function V(t){return{current:t}}function Y(t){0>Qe||(t.current=je[Qe],je[Qe]=null,Qe--)}function ie(t,n){Qe++,je[Qe]=t.current,t.current=n}var ae=V(null),_e=V(null),Re=V(null),Ue=V(null);function Dt(t,n){switch(ie(Re,n),ie(_e,t),ie(ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?m_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=m_(n),t=g_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(ae),ie(ae,t)}function ot(){Y(ae),Y(_e),Y(Re)}function as(t){t.memoizedState!==null&&ie(Ue,t);var n=ae.current,a=g_(n,t.type);n!==a&&(ie(_e,t),ie(ae,a))}function $s(t){_e.current===t&&(Y(ae),Y(_e)),Ue.current===t&&(Y(Ue),yl._currentValue=de)}var Js,Zs;function ii(t){if(Js===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Js=n&&n[1]||"",Zs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Js+t+Zs}var yo=!1;function os(t,n){if(!t||yo)return"";yo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var z=q}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(q){z=q}t.call(Q.prototype)}}else{try{throw Error()}catch(q){z=q}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),p=d[0],E=d[1];if(p&&E){var x=p.split(`
`),j=E.split(`
`);for(h=o=0;o<x.length&&!x[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===x.length||h===j.length)for(o=x.length-1,h=j.length-1;1<=o&&0<=h&&x[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(x[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||x[o]!==j[h]){var G=`
`+x[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{yo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ii(a):""}function _o(t,n){switch(t.tag){case 26:case 27:case 5:return ii(t.type);case 16:return ii("Lazy");case 13:return t.child!==n&&n!==null?ii("Suspense Fallback"):ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return os(t.type,!1);case 11:return os(t.type.render,!1);case 1:return os(t.type,!0);case 31:return ii("Activity");default:return""}}function vo(t){try{var n="",a=null;do n+=_o(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _t=Object.prototype.hasOwnProperty,Ot=r.unstable_scheduleCallback,sr=r.unstable_cancelCallback,jh=r.unstable_shouldYield,au=r.unstable_requestPaint,tn=r.unstable_now,ls=r.unstable_getCurrentPriorityLevel,Eo=r.unstable_ImmediatePriority,To=r.unstable_UserBlockingPriority,ar=r.unstable_NormalPriority,zh=r.unstable_LowPriority,ou=r.unstable_IdlePriority,lu=r.log,uu=r.unstable_setDisableYieldValue,jn=null,Bt=null;function An(t){if(typeof lu=="function"&&uu(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(jn,t)}catch{}}var dt=Math.clz32?Math.clz32:hu,cu=Math.log,Ws=Math.LN2;function hu(t){return t>>>=0,t===0?32:31-(cu(t)/Ws|0)|0}var ri=256,us=262144,vt=4194304;function si(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ai(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,d=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~d,o!==0?h=si(o):(p&=E,p!==0?h=si(p):a||(a=E&~t,a!==0&&(h=si(a))))):(E=o&~d,E!==0?h=si(E):p!==0?h=si(p):a||(a=o&~t,a!==0&&(h=si(a)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:h}function zn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Bh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fu(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function oi(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function cs(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qh(t,n,a,o,h,d){var p=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,x=t.expirationTimes,j=t.hiddenUpdates;for(a=p&~a;0<a;){var G=31-dt(a),Q=1<<G;E[G]=0,x[G]=-1;var z=j[G];if(z!==null)for(j[G]=null,G=0;G<z.length;G++){var q=z[G];q!==null&&(q.lane&=-536870913)}a&=~Q}o!==0&&hs(t,o,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(p&~n))}function hs(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-dt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function bo(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-dt(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function So(t,n){var a=n&-n;return a=(a&42)!==0?1:fs(a),(a&(t.suspendedLanes|n))!==0?0:a}function fs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Oi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function du(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:P_(t.type))}function Bn(t,n){var a=ne.p;try{return ne.p=t,n()}finally{ne.p=a}}var qn=Math.random().toString(36).slice(2),Et="__reactFiber$"+qn,Lt="__reactProps$"+qn,li="__reactContainer$"+qn,ea="__reactEvents$"+qn,Hh="__reactListeners$"+qn,mu="__reactHandles$"+qn,gu="__reactResources$"+qn,ui="__reactMarker$"+qn;function ta(t){delete t[Et],delete t[Lt],delete t[ea],delete t[Hh],delete t[mu]}function ci(t){var n=t[Et];if(n)return n;for(var a=t.parentNode;a;){if(n=a[li]||a[Et]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=b_(t);t!==null;){if(a=t[Et])return a;t=b_(t)}return n}t=a,a=t.parentNode}return null}function wn(t){if(t=t[Et]||t[li]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function mn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function hi(t){var n=t[gu];return n||(n=t[gu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Tt(t){t[ui]=!0}var Ao=new Set,wo={};function fi(t,n){di(t,n),di(t+"Capture",n)}function di(t,n){for(wo[t]=n,t=0;t<n.length;t++)Ao.add(n[t])}var Ro=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Io={},Co={};function pu(t){return _t.call(Co,t)?!0:_t.call(Io,t)?!1:Ro.test(t)?Co[t]=!0:(Io[t]=!0,!1)}function na(t,n,a){if(pu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function gn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function bt(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function or(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function xo(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,d.call(this,p)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ye(t){if(!t._valueTracker){var n=or(t)?"checked":"value";t._valueTracker=xo(t,n,""+t[n])}}function ds(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=or(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function mi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ms=/[\n"\\]/g;function sn(t){return t.replace(ms,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ia(t,n,a,o,h,d,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ut(n)):t.value!==""+Ut(n)&&(t.value=""+Ut(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?No(t,p,Ut(n)):a!=null?No(t,p,Ut(a)):o!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ut(E):t.removeAttribute("name")}function yu(t,n,a,o,h,d,p,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){Ye(t);return}a=a!=null?""+Ut(a):"",n=n!=null?""+Ut(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),Ye(t)}function No(t,n,a){n==="number"&&mi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function lr(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Ut(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function _u(t,n,a){if(n!=null&&(n=""+Ut(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ut(a):""}function ur(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(at(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Ut(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Ye(t)}function an(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Do(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||vu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Oo(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Do(t,h,o)}else for(var d in n)n.hasOwnProperty(d)&&Do(t,d,n[d])}function ra(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(t){return cr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Hn(){}var Mo=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hr=null,gi=null;function gs(t){var n=wn(t);if(n&&(t=n.stateNode)){var a=t[Lt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ia(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Lt]||null;if(!h)throw Error(s(90));ia(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&ds(o)}break e;case"textarea":_u(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&lr(t,!!a.multiple,n,!1)}}}var aa=!1;function fr(t,n,a){if(aa)return t(n,a);aa=!0;try{var o=t(n);return o}finally{if(aa=!1,(hr!==null||gi!==null)&&(dc(),hr&&(n=hr,t=gi,gi=hr=null,gs(n),t)))for(n=0;n<t.length;n++)gs(t[n])}}function Fn(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Lt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ps=!1;if(In)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){ps=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{ps=!1}var pi=null,Vo=null,ys=null;function ko(){if(ys)return ys;var t,n=Vo,a=n.length,o,h="value"in pi?pi.value:pi.textContent,d=h.length;for(t=0;t<a&&n[t]===h[t];t++);var p=a-t;for(o=1;o<=p&&n[a-o]===h[d-o];o++);return ys=h.slice(t,1<o?1-o:void 0)}function _s(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Mi(){return!0}function Gn(){return!1}function qt(t){function n(a,o,h,d,p){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Mi:Gn,this.isPropagationStopped=Gn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),n}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=qt(Vi),dr=A({},Vi,{view:0,detail:0}),Lo=qt(dr),mr,oa,_i,la=A({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_i&&(_i&&t.type==="mousemove"?(mr=t.screenX-_i.screenX,oa=t.screenY-_i.screenY):oa=mr=0,_i=t),mr)},movementY:function(t){return"movementY"in t?t.movementY:oa}}),Uo=qt(la),vs=A({},la,{dataTransfer:0}),Tu=qt(vs),bu=A({},dr,{relatedTarget:0}),Es=qt(bu),Po=A({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),Su=qt(Po),ua=A({},Vi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Au=qt(ua),wu=A({},Vi,{data:0}),vi=qt(wu),Ru={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Cu[t])?!!n[t]:!1}function gr(){return xu}var nn=A({},dr,{key:function(t){if(t.key){var n=Ru[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=_s(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Iu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(t){return t.type==="keypress"?_s(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_s(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Nu=qt(nn),Du=A({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ki=qt(Du),u=A({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),m=qt(u),v=A({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=qt(v),U=A({},la,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=qt(U),te=A({},Vi,{newState:0,oldState:0}),Ae=qt(te),mt=[9,13,27,32],Fe=In&&"CompositionEvent"in window,lt=null;In&&"documentMode"in document&&(lt=document.documentMode);var Cn=In&&"TextEvent"in window&&!lt,Ei=In&&(!Fe||lt&&8<lt&&11>=lt),Kn=" ",Qn=!1;function Ts(t,n){switch(t){case"keyup":return mt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ca(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ha=!1;function m1(t,n){switch(t){case"compositionend":return ca(n);case"keypress":return n.which!==32?null:(Qn=!0,Kn);case"textInput":return t=n.data,t===Kn&&Qn?null:t;default:return null}}function g1(t,n){if(ha)return t==="compositionend"||!Fe&&Ts(t,n)?(t=ko(),ys=Vo=pi=null,ha=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ei&&n.locale!=="ko"?null:n.data;default:return null}}var p1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!p1[t.type]:n==="textarea"}function Rg(t,n,a,o){hr?gi?gi.push(o):gi=[o]:hr=o,n=Ec(n,"onChange"),0<n.length&&(a=new yi("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var jo=null,zo=null;function y1(t){l_(t,0)}function Ou(t){var n=mn(t);if(ds(n))return t}function Ig(t,n){if(t==="change")return n}var Cg=!1;if(In){var Fh;if(In){var Gh="oninput"in document;if(!Gh){var xg=document.createElement("div");xg.setAttribute("oninput","return;"),Gh=typeof xg.oninput=="function"}Fh=Gh}else Fh=!1;Cg=Fh&&(!document.documentMode||9<document.documentMode)}function Ng(){jo&&(jo.detachEvent("onpropertychange",Dg),zo=jo=null)}function Dg(t){if(t.propertyName==="value"&&Ou(zo)){var n=[];Rg(n,zo,t,Rn(t)),fr(y1,n)}}function _1(t,n,a){t==="focusin"?(Ng(),jo=n,zo=a,jo.attachEvent("onpropertychange",Dg)):t==="focusout"&&Ng()}function v1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ou(zo)}function E1(t,n){if(t==="click")return Ou(n)}function T1(t,n){if(t==="input"||t==="change")return Ou(n)}function b1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var pn=typeof Object.is=="function"?Object.is:b1;function Bo(t,n){if(pn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!_t.call(n,h)||!pn(t[h],n[h]))return!1}return!0}function Og(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mg(t,n){var a=Og(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Og(a)}}function Vg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Vg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function kg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=mi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=mi(t.document)}return n}function Kh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var S1=In&&"documentMode"in document&&11>=document.documentMode,fa=null,Qh=null,qo=null,Yh=!1;function Lg(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yh||fa==null||fa!==mi(o)||(o=fa,"selectionStart"in o&&Kh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),qo&&Bo(qo,o)||(qo=o,o=Ec(Qh,"onSelect"),0<o.length&&(n=new yi("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=fa)))}function bs(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var da={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionrun:bs("Transition","TransitionRun"),transitionstart:bs("Transition","TransitionStart"),transitioncancel:bs("Transition","TransitionCancel"),transitionend:bs("Transition","TransitionEnd")},Xh={},Ug={};In&&(Ug=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function Ss(t){if(Xh[t])return Xh[t];if(!da[t])return t;var n=da[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Ug)return Xh[t]=n[a];return t}var Pg=Ss("animationend"),jg=Ss("animationiteration"),zg=Ss("animationstart"),A1=Ss("transitionrun"),w1=Ss("transitionstart"),R1=Ss("transitioncancel"),Bg=Ss("transitionend"),qg=new Map,$h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$h.push("scrollEnd");function Yn(t,n){qg.set(t,n),fi(n,[t])}var Mu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xn=[],ma=0,Jh=0;function Vu(){for(var t=ma,n=Jh=ma=0;n<t;){var a=xn[n];xn[n++]=null;var o=xn[n];xn[n++]=null;var h=xn[n];xn[n++]=null;var d=xn[n];if(xn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}d!==0&&Hg(a,h,d)}}function ku(t,n,a,o){xn[ma++]=t,xn[ma++]=n,xn[ma++]=a,xn[ma++]=o,Jh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Zh(t,n,a,o){return ku(t,n,a,o),Lu(t)}function As(t,n){return ku(t,null,null,n),Lu(t)}function Hg(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-dt(a),t=d.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),d):null}function Lu(t){if(50<cl)throw cl=0,ld=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ga={};function I1(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,n,a,o){return new I1(t,n,a,o)}function Wh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Li(t,n){var a=t.alternate;return a===null?(a=yn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Fg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Uu(t,n,a,o,h,d){var p=0;if(o=t,typeof t=="function")Wh(t)&&(p=1);else if(typeof t=="string")p=Ob(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=yn(31,a,n,h),t.elementType=R,t.lanes=d,t;case Z:return ws(a.children,h,d,n);case W:p=8,h|=24;break;case ce:return t=yn(12,a,n,h|2),t.elementType=ce,t.lanes=d,t;case Ee:return t=yn(13,a,n,h),t.elementType=Ee,t.lanes=d,t;case Ce:return t=yn(19,a,n,h),t.elementType=Ce,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case me:p=10;break e;case le:p=9;break e;case ee:p=11;break e;case D:p=14;break e;case w:p=16,o=null;break e}p=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return n=yn(p,a,n,h),n.elementType=t,n.type=o,n.lanes=d,n}function ws(t,n,a,o){return t=yn(7,t,o,n),t.lanes=a,t}function ef(t,n,a){return t=yn(6,t,null,n),t.lanes=a,t}function Gg(t){var n=yn(18,null,null,0);return n.stateNode=t,n}function tf(t,n,a){return n=yn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Kg=new WeakMap;function Nn(t,n){if(typeof t=="object"&&t!==null){var a=Kg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:vo(n)},Kg.set(t,n),n)}return{value:t,source:n,stack:vo(n)}}var pa=[],ya=0,Pu=null,Ho=0,Dn=[],On=0,pr=null,Ti=1,bi="";function Ui(t,n){pa[ya++]=Ho,pa[ya++]=Pu,Pu=t,Ho=n}function Qg(t,n,a){Dn[On++]=Ti,Dn[On++]=bi,Dn[On++]=pr,pr=t;var o=Ti;t=bi;var h=32-dt(o)-1;o&=~(1<<h),a+=1;var d=32-dt(n)+h;if(30<d){var p=h-h%5;d=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Ti=1<<32-dt(n)+h|a<<h|o,bi=d+t}else Ti=1<<d|a<<h|o,bi=t}function nf(t){t.return!==null&&(Ui(t,1),Qg(t,1,0))}function rf(t){for(;t===Pu;)Pu=pa[--ya],pa[ya]=null,Ho=pa[--ya],pa[ya]=null;for(;t===pr;)pr=Dn[--On],Dn[On]=null,bi=Dn[--On],Dn[On]=null,Ti=Dn[--On],Dn[On]=null}function Yg(t,n){Dn[On++]=Ti,Dn[On++]=bi,Dn[On++]=pr,Ti=n.id,bi=n.overflow,pr=t}var Ht=null,it=null,Le=!1,yr=null,Mn=!1,sf=Error(s(519));function _r(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fo(Nn(n,t)),sf}function Xg(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[Et]=t,n[Lt]=o,a){case"dialog":Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":case"embed":Ne("load",n);break;case"video":case"audio":for(a=0;a<fl.length;a++)Ne(fl[a],n);break;case"source":Ne("error",n);break;case"img":case"image":case"link":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"input":Ne("invalid",n),yu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ne("invalid",n);break;case"textarea":Ne("invalid",n),ur(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||f_(n.textContent,a)?(o.popover!=null&&(Ne("beforetoggle",n),Ne("toggle",n)),o.onScroll!=null&&Ne("scroll",n),o.onScrollEnd!=null&&Ne("scrollend",n),o.onClick!=null&&(n.onclick=Hn),n=!0):n=!1,n||_r(t,!0)}function $g(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Ht=Ht.return}}function _a(t){if(t!==Ht)return!1;if(!Le)return $g(t),Le=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Sd(t.type,t.memoizedProps)),a=!a),a&&it&&_r(t),$g(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=T_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=T_(t)}else n===27?(n=it,Or(t.type)?(t=Cd,Cd=null,it=t):it=n):it=Ht?kn(t.stateNode.nextSibling):null;return!0}function Rs(){it=Ht=null,Le=!1}function af(){var t=yr;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),yr=null),t}function Fo(t){yr===null?yr=[t]:yr.push(t)}var of=V(null),Is=null,Pi=null;function vr(t,n,a){ie(of,n._currentValue),n._currentValue=a}function ji(t){t._currentValue=of.current,Y(of)}function lf(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function uf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var p=h.child;d=d.firstContext;e:for(;d!==null;){var E=d;d=h;for(var x=0;x<n.length;x++)if(E.context===n[x]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),lf(d.return,a,t),o||(p=null);break e}d=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(s(341));p.lanes|=a,d=p.alternate,d!==null&&(d.lanes|=a),lf(p,a,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function va(t,n,a,o){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var E=h.type;pn(h.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(h===Ue.current){if(p=h.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(yl):t=[yl])}h=h.return}t!==null&&uf(n,t,a,o),n.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Cs(t){Is=t,Pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return Jg(Is,t)}function zu(t,n){return Is===null&&Cs(t),Jg(t,n)}function Jg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Pi===null){if(t===null)throw Error(s(308));Pi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Pi=Pi.next=n;return a}var C1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},x1=r.unstable_scheduleCallback,N1=r.unstable_NormalPriority,St={$$typeof:me,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cf(){return{controller:new C1,data:new Map,refCount:0}}function Go(t){t.refCount--,t.refCount===0&&x1(N1,function(){t.controller.abort()})}var Ko=null,hf=0,Ea=0,Ta=null;function D1(t,n){if(Ko===null){var a=Ko=[];hf=0,Ea=md(),Ta={status:"pending",value:void 0,then:function(o){a.push(o)}}}return hf++,n.then(Zg,Zg),n}function Zg(){if(--hf===0&&Ko!==null){Ta!==null&&(Ta.status="fulfilled");var t=Ko;Ko=null,Ea=0,Ta=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function O1(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Wg=F.S;F.S=function(t,n){Ly=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&D1(t,n),Wg!==null&&Wg(t,n)};var xs=V(null);function ff(){var t=xs.current;return t!==null?t:tt.pooledCache}function Bu(t,n){n===null?ie(xs,xs.current):ie(xs,n.pool)}function ep(){var t=ff();return t===null?null:{parent:St._currentValue,pool:t}}var ba=Error(s(460)),df=Error(s(474)),qu=Error(s(542)),Hu={then:function(){}};function tp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function np(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Hn,Hn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,rp(t),t;default:if(typeof n.status=="string")n.then(Hn,Hn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,rp(t),t}throw Ds=n,ba}}function Ns(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ds=a,ba):a}}var Ds=null;function ip(){if(Ds===null)throw Error(s(459));var t=Ds;return Ds=null,t}function rp(t){if(t===ba||t===qu)throw Error(s(483))}var Sa=null,Qo=0;function Fu(t){var n=Qo;return Qo+=1,Sa===null&&(Sa=[]),np(Sa,t,n)}function Yo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Gu(t,n){throw n.$$typeof===C?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function sp(t){function n(k,M){if(t){var P=k.deletions;P===null?(k.deletions=[M],k.flags|=16):P.push(M)}}function a(k,M){if(!t)return null;for(;M!==null;)n(k,M),M=M.sibling;return null}function o(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function h(k,M){return k=Li(k,M),k.index=0,k.sibling=null,k}function d(k,M,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<M?(k.flags|=67108866,M):P):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function p(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,M,P,K){return M===null||M.tag!==6?(M=ef(P,k.mode,K),M.return=k,M):(M=h(M,P),M.return=k,M)}function x(k,M,P,K){var he=P.type;return he===Z?G(k,M,P.props.children,K,P.key):M!==null&&(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===w&&Ns(he)===M.type)?(M=h(M,P.props),Yo(M,P),M.return=k,M):(M=Uu(P.type,P.key,P.props,null,k.mode,K),Yo(M,P),M.return=k,M)}function j(k,M,P,K){return M===null||M.tag!==4||M.stateNode.containerInfo!==P.containerInfo||M.stateNode.implementation!==P.implementation?(M=tf(P,k.mode,K),M.return=k,M):(M=h(M,P.children||[]),M.return=k,M)}function G(k,M,P,K,he){return M===null||M.tag!==7?(M=ws(P,k.mode,K,he),M.return=k,M):(M=h(M,P),M.return=k,M)}function Q(k,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=ef(""+M,k.mode,P),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case H:return P=Uu(M.type,M.key,M.props,null,k.mode,P),Yo(P,M),P.return=k,P;case J:return M=tf(M,k.mode,P),M.return=k,M;case w:return M=Ns(M),Q(k,M,P)}if(at(M)||L(M))return M=ws(M,k.mode,P,null),M.return=k,M;if(typeof M.then=="function")return Q(k,Fu(M),P);if(M.$$typeof===me)return Q(k,zu(k,M),P);Gu(k,M)}return null}function z(k,M,P,K){var he=M!==null?M.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return he!==null?null:E(k,M,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H:return P.key===he?x(k,M,P,K):null;case J:return P.key===he?j(k,M,P,K):null;case w:return P=Ns(P),z(k,M,P,K)}if(at(P)||L(P))return he!==null?null:G(k,M,P,K,null);if(typeof P.then=="function")return z(k,M,Fu(P),K);if(P.$$typeof===me)return z(k,M,zu(k,P),K);Gu(k,P)}return null}function q(k,M,P,K,he){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,E(M,k,""+K,he);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case H:return k=k.get(K.key===null?P:K.key)||null,x(M,k,K,he);case J:return k=k.get(K.key===null?P:K.key)||null,j(M,k,K,he);case w:return K=Ns(K),q(k,M,P,K,he)}if(at(K)||L(K))return k=k.get(P)||null,G(M,k,K,he,null);if(typeof K.then=="function")return q(k,M,P,Fu(K),he);if(K.$$typeof===me)return q(k,M,P,zu(M,K),he);Gu(M,K)}return null}function oe(k,M,P,K){for(var he=null,Be=null,ue=M,Ie=M=0,Oe=null;ue!==null&&Ie<P.length;Ie++){ue.index>Ie?(Oe=ue,ue=null):Oe=ue.sibling;var qe=z(k,ue,P[Ie],K);if(qe===null){ue===null&&(ue=Oe);break}t&&ue&&qe.alternate===null&&n(k,ue),M=d(qe,M,Ie),Be===null?he=qe:Be.sibling=qe,Be=qe,ue=Oe}if(Ie===P.length)return a(k,ue),Le&&Ui(k,Ie),he;if(ue===null){for(;Ie<P.length;Ie++)ue=Q(k,P[Ie],K),ue!==null&&(M=d(ue,M,Ie),Be===null?he=ue:Be.sibling=ue,Be=ue);return Le&&Ui(k,Ie),he}for(ue=o(ue);Ie<P.length;Ie++)Oe=q(ue,k,Ie,P[Ie],K),Oe!==null&&(t&&Oe.alternate!==null&&ue.delete(Oe.key===null?Ie:Oe.key),M=d(Oe,M,Ie),Be===null?he=Oe:Be.sibling=Oe,Be=Oe);return t&&ue.forEach(function(Ur){return n(k,Ur)}),Le&&Ui(k,Ie),he}function ge(k,M,P,K){if(P==null)throw Error(s(151));for(var he=null,Be=null,ue=M,Ie=M=0,Oe=null,qe=P.next();ue!==null&&!qe.done;Ie++,qe=P.next()){ue.index>Ie?(Oe=ue,ue=null):Oe=ue.sibling;var Ur=z(k,ue,qe.value,K);if(Ur===null){ue===null&&(ue=Oe);break}t&&ue&&Ur.alternate===null&&n(k,ue),M=d(Ur,M,Ie),Be===null?he=Ur:Be.sibling=Ur,Be=Ur,ue=Oe}if(qe.done)return a(k,ue),Le&&Ui(k,Ie),he;if(ue===null){for(;!qe.done;Ie++,qe=P.next())qe=Q(k,qe.value,K),qe!==null&&(M=d(qe,M,Ie),Be===null?he=qe:Be.sibling=qe,Be=qe);return Le&&Ui(k,Ie),he}for(ue=o(ue);!qe.done;Ie++,qe=P.next())qe=q(ue,k,Ie,qe.value,K),qe!==null&&(t&&qe.alternate!==null&&ue.delete(qe.key===null?Ie:qe.key),M=d(qe,M,Ie),Be===null?he=qe:Be.sibling=qe,Be=qe);return t&&ue.forEach(function(Hb){return n(k,Hb)}),Le&&Ui(k,Ie),he}function et(k,M,P,K){if(typeof P=="object"&&P!==null&&P.type===Z&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case H:e:{for(var he=P.key;M!==null;){if(M.key===he){if(he=P.type,he===Z){if(M.tag===7){a(k,M.sibling),K=h(M,P.props.children),K.return=k,k=K;break e}}else if(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===w&&Ns(he)===M.type){a(k,M.sibling),K=h(M,P.props),Yo(K,P),K.return=k,k=K;break e}a(k,M);break}else n(k,M);M=M.sibling}P.type===Z?(K=ws(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=Uu(P.type,P.key,P.props,null,k.mode,K),Yo(K,P),K.return=k,k=K)}return p(k);case J:e:{for(he=P.key;M!==null;){if(M.key===he)if(M.tag===4&&M.stateNode.containerInfo===P.containerInfo&&M.stateNode.implementation===P.implementation){a(k,M.sibling),K=h(M,P.children||[]),K.return=k,k=K;break e}else{a(k,M);break}else n(k,M);M=M.sibling}K=tf(P,k.mode,K),K.return=k,k=K}return p(k);case w:return P=Ns(P),et(k,M,P,K)}if(at(P))return oe(k,M,P,K);if(L(P)){if(he=L(P),typeof he!="function")throw Error(s(150));return P=he.call(P),ge(k,M,P,K)}if(typeof P.then=="function")return et(k,M,Fu(P),K);if(P.$$typeof===me)return et(k,M,zu(k,P),K);Gu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,M!==null&&M.tag===6?(a(k,M.sibling),K=h(M,P),K.return=k,k=K):(a(k,M),K=ef(P,k.mode,K),K.return=k,k=K),p(k)):a(k,M)}return function(k,M,P,K){try{Qo=0;var he=et(k,M,P,K);return Sa=null,he}catch(ue){if(ue===ba||ue===qu)throw ue;var Be=yn(29,ue,null,k.mode);return Be.lanes=K,Be.return=k,Be}finally{}}}var Os=sp(!0),ap=sp(!1),Er=!1;function mf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Tr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function br(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ge&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Lu(t),Hg(t,null,a),n}return ku(t,o,n,a),Lu(t)}function Xo(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,bo(t,a)}}function pf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=p:d=d.next=p,a=a.next}while(a!==null);d===null?h=d=n:d=d.next=n}else h=d=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var yf=!1;function $o(){if(yf){var t=Ta;if(t!==null)throw t}}function Jo(t,n,a,o){yf=!1;var h=t.updateQueue;Er=!1;var d=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var x=E,j=x.next;x.next=null,p===null?d=j:p.next=j,p=x;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=j:E.next=j,G.lastBaseUpdate=x))}if(d!==null){var Q=h.baseState;p=0,G=j=x=null,E=d;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(De&z)===z:(o&z)===z){z!==0&&z===Ea&&(yf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var oe=t,ge=E;z=n;var et=a;switch(ge.tag){case 1:if(oe=ge.payload,typeof oe=="function"){Q=oe.call(et,Q,z);break e}Q=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ge.payload,z=typeof oe=="function"?oe.call(et,Q,z):oe,z==null)break e;Q=A({},Q,z);break e;case 2:Er=!0}}z=E.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(j=G=q,x=Q):G=G.next=q,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(x=Q),h.baseState=x,h.firstBaseUpdate=j,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),Ir|=p,t.lanes=p,t.memoizedState=Q}}function op(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function lp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)op(a[t],n)}var Aa=V(null),Ku=V(0);function up(t,n){t=Yi,ie(Ku,t),ie(Aa,n),Yi=t|n.baseLanes}function _f(){ie(Ku,Yi),ie(Aa,Aa.current)}function vf(){Yi=Ku.current,Y(Aa),Y(Ku)}var _n=V(null),Vn=null;function Sr(t){var n=t.alternate;ie(gt,gt.current&1),ie(_n,t),Vn===null&&(n===null||Aa.current!==null||n.memoizedState!==null)&&(Vn=t)}function Ef(t){ie(gt,gt.current),ie(_n,t),Vn===null&&(Vn=t)}function cp(t){t.tag===22?(ie(gt,gt.current),ie(_n,t),Vn===null&&(Vn=t)):Ar()}function Ar(){ie(gt,gt.current),ie(_n,_n.current)}function vn(t){Y(_n),Vn===t&&(Vn=null),Y(gt)}var gt=V(0);function Qu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Rd(a)||Id(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var zi=0,we=null,Ze=null,At=null,Yu=!1,wa=!1,Ms=!1,Xu=0,Zo=0,Ra=null,M1=0;function ht(){throw Error(s(321))}function Tf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!pn(t[a],n[a]))return!1;return!0}function bf(t,n,a,o,h,d){return zi=d,we=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Qp:Uf,Ms=!1,d=a(o,h),Ms=!1,wa&&(d=fp(n,a,o,h)),hp(t),d}function hp(t){F.H=tl;var n=Ze!==null&&Ze.next!==null;if(zi=0,At=Ze=we=null,Yu=!1,Zo=0,Ra=null,n)throw Error(s(300));t===null||wt||(t=t.dependencies,t!==null&&ju(t)&&(wt=!0))}function fp(t,n,a,o){we=t;var h=0;do{if(wa&&(Ra=null),Zo=0,wa=!1,25<=h)throw Error(s(301));if(h+=1,At=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=Yp,d=n(a,o)}while(wa);return d}function V1(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?Wo(n):n,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(we.flags|=1024),n}function Sf(){var t=Xu!==0;return Xu=0,t}function Af(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function wf(t){if(Yu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Yu=!1}zi=0,At=Ze=we=null,wa=!1,Zo=Xu=0,Ra=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?we.memoizedState=At=t:At=At.next=t,At}function pt(){if(Ze===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var n=At===null?we.memoizedState:At.next;if(n!==null)At=n,Ze=t;else{if(t===null)throw we.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},At===null?we.memoizedState=At=t:At=At.next=t}return At}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(t){var n=Zo;return Zo+=1,Ra===null&&(Ra=[]),t=np(Ra,t,n),n=we,(At===null?n.memoizedState:At.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Qp:Uf),t}function Ju(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wo(t);if(t.$$typeof===me)return Ft(t)}throw Error(s(438,String(t)))}function Rf(t){var n=null,a=we.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=we.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=$u(),we.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=N;return n.index++,a}function Bi(t,n){return typeof n=="function"?n(t):n}function Zu(t){var n=pt();return If(n,Ze,t)}function If(t,n,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,d=o.pending;if(d!==null){if(h!==null){var p=h.next;h.next=d.next,d.next=p}n.baseQueue=h=d,o.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var E=p=null,x=null,j=n,G=!1;do{var Q=j.lane&-536870913;if(Q!==j.lane?(De&Q)===Q:(zi&Q)===Q){var z=j.revertLane;if(z===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Q===Ea&&(G=!0);else if((zi&z)===z){j=j.next,z===Ea&&(G=!0);continue}else Q={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(E=x=Q,p=d):x=x.next=Q,we.lanes|=z,Ir|=z;Q=j.action,Ms&&a(d,Q),d=j.hasEagerState?j.eagerState:a(d,Q)}else z={lane:Q,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(E=x=z,p=d):x=x.next=z,we.lanes|=Q,Ir|=Q;j=j.next}while(j!==null&&j!==n);if(x===null?p=d:x.next=E,!pn(d,t.memoizedState)&&(wt=!0,G&&(a=Ta,a!==null)))throw a;t.memoizedState=d,t.baseState=p,t.baseQueue=x,o.lastRenderedState=d}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Cf(t){var n=pt(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,d=n.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do d=t(d,p.action),p=p.next;while(p!==h);pn(d,n.memoizedState)||(wt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,o]}function dp(t,n,a){var o=we,h=pt(),d=Le;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=n();var p=!pn((Ze||h).memoizedState,a);if(p&&(h.memoizedState=a,wt=!0),h=h.queue,Df(pp.bind(null,o,h,t),[t]),h.getSnapshot!==n||p||At!==null&&At.memoizedState.tag&1){if(o.flags|=2048,Ia(9,{destroy:void 0},gp.bind(null,o,h,a,n),null),tt===null)throw Error(s(349));d||(zi&127)!==0||mp(o,n,a)}return a}function mp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=we.updateQueue,n===null?(n=$u(),we.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function gp(t,n,a,o){n.value=a,n.getSnapshot=o,yp(n)&&_p(t)}function pp(t,n,a){return a(function(){yp(n)&&_p(t)})}function yp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!pn(t,a)}catch{return!0}}function _p(t){var n=As(t,2);n!==null&&hn(n,t,2)}function xf(t){var n=rn();if(typeof t=="function"){var a=t;if(t=a(),Ms){An(!0);try{a()}finally{An(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:t},n}function vp(t,n,a,o){return t.baseState=a,If(t,Ze,typeof o=="function"?o:Bi)}function k1(t,n,a,o,h){if(tc(t))throw Error(s(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){d.listeners.push(p)}};F.T!==null?a(!0):d.isTransition=!1,o(d),a=n.pending,a===null?(d.next=n.pending=d,Ep(n,d)):(d.next=a.next,n.pending=a.next=d)}}function Ep(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var d=F.T,p={};F.T=p;try{var E=a(h,o),x=F.S;x!==null&&x(p,E),Tp(t,n,E)}catch(j){Nf(t,n,j)}finally{d!==null&&p.types!==null&&(d.types=p.types),F.T=d}}else try{d=a(h,o),Tp(t,n,d)}catch(j){Nf(t,n,j)}}function Tp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){bp(t,n,o)},function(o){return Nf(t,n,o)}):bp(t,n,a)}function bp(t,n,a){n.status="fulfilled",n.value=a,Sp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Ep(t,a)))}function Nf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Sp(n),n=n.next;while(n!==o)}t.action=null}function Sp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ap(t,n){return n}function wp(t,n){if(Le){var a=tt.formState;if(a!==null){e:{var o=we;if(Le){if(it){t:{for(var h=it,d=Mn;h.nodeType!==8;){if(!d){h=null;break t}if(h=kn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){it=kn(h.nextSibling),o=h.data==="F!";break e}}_r(o)}o=!1}o&&(n=a[0])}}return a=rn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ap,lastRenderedState:n},a.queue=o,a=Fp.bind(null,we,o),o.dispatch=a,o=xf(!1),d=Lf.bind(null,we,!1,o.queue),o=rn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=k1.bind(null,we,h,d,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Rp(t){var n=pt();return Ip(n,Ze,t)}function Ip(t,n,a){if(n=If(t,n,Ap)[0],t=Zu(Bi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Wo(n)}catch(p){throw p===ba?qu:p}else o=n;n=pt();var h=n.queue,d=h.dispatch;return a!==n.memoizedState&&(we.flags|=2048,Ia(9,{destroy:void 0},L1.bind(null,h,a),null)),[o,d,t]}function L1(t,n){t.action=n}function Cp(t){var n=pt(),a=Ze;if(a!==null)return Ip(n,a,t);pt(),n=n.memoizedState,a=pt();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function Ia(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=we.updateQueue,n===null&&(n=$u(),we.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function xp(){return pt().memoizedState}function Wu(t,n,a,o){var h=rn();we.flags|=t,h.memoizedState=Ia(1|n,{destroy:void 0},a,o===void 0?null:o)}function ec(t,n,a,o){var h=pt();o=o===void 0?null:o;var d=h.memoizedState.inst;Ze!==null&&o!==null&&Tf(o,Ze.memoizedState.deps)?h.memoizedState=Ia(n,d,a,o):(we.flags|=t,h.memoizedState=Ia(1|n,d,a,o))}function Np(t,n){Wu(8390656,8,t,n)}function Df(t,n){ec(2048,8,t,n)}function U1(t){we.flags|=4;var n=we.updateQueue;if(n===null)n=$u(),we.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Dp(t){var n=pt().memoizedState;return U1({ref:n,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Op(t,n){return ec(4,2,t,n)}function Mp(t,n){return ec(4,4,t,n)}function Vp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function kp(t,n,a){a=a!=null?a.concat([t]):null,ec(4,4,Vp.bind(null,n,t),a)}function Of(){}function Lp(t,n){var a=pt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Tf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Up(t,n){var a=pt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Tf(n,o[1]))return o[0];if(o=t(),Ms){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[o,n],o}function Mf(t,n,a){return a===void 0||(zi&1073741824)!==0&&(De&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Py(),we.lanes|=t,Ir|=t,a)}function Pp(t,n,a,o){return pn(a,n)?a:Aa.current!==null?(t=Mf(t,a,o),pn(t,n)||(wt=!0),t):(zi&42)===0||(zi&1073741824)!==0&&(De&261930)===0?(wt=!0,t.memoizedState=a):(t=Py(),we.lanes|=t,Ir|=t,n)}function jp(t,n,a,o,h){var d=ne.p;ne.p=d!==0&&8>d?d:8;var p=F.T,E={};F.T=E,Lf(t,!1,n,a);try{var x=h(),j=F.S;if(j!==null&&j(E,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var G=O1(x,o);el(t,n,G,bn(t))}else el(t,n,o,bn(t))}catch(Q){el(t,n,{then:function(){},status:"rejected",reason:Q},bn())}finally{ne.p=d,p!==null&&E.types!==null&&(p.types=E.types),F.T=p}}function P1(){}function Vf(t,n,a,o){if(t.tag!==5)throw Error(s(476));var h=zp(t).queue;jp(t,h,n,de,a===null?P1:function(){return Bp(t),a(o)})}function zp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:de},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Bp(t){var n=zp(t);n.next===null&&(n=t.alternate.memoizedState),el(t,n.next.queue,{},bn())}function kf(){return Ft(yl)}function qp(){return pt().memoizedState}function Hp(){return pt().memoizedState}function j1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=bn();t=Tr(a);var o=br(n,t,a);o!==null&&(hn(o,n,a),Xo(o,n,a)),n={cache:cf()},t.payload=n;return}n=n.return}}function z1(t,n,a){var o=bn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},tc(t)?Gp(n,a):(a=Zh(t,n,a,o),a!==null&&(hn(a,t,o),Kp(a,n,o)))}function Fp(t,n,a){var o=bn();el(t,n,a,o)}function el(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(tc(t))Gp(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var p=n.lastRenderedState,E=d(p,a);if(h.hasEagerState=!0,h.eagerState=E,pn(E,p))return ku(t,n,h,0),tt===null&&Vu(),!1}catch{}finally{}if(a=Zh(t,n,h,o),a!==null)return hn(a,t,o),Kp(a,n,o),!0}return!1}function Lf(t,n,a,o){if(o={lane:2,revertLane:md(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},tc(t)){if(n)throw Error(s(479))}else n=Zh(t,a,o,2),n!==null&&hn(n,t,2)}function tc(t){var n=t.alternate;return t===we||n!==null&&n===we}function Gp(t,n){wa=Yu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Kp(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,bo(t,a)}}var tl={readContext:Ft,use:Ju,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};tl.useEffectEvent=ht;var Qp={readContext:Ft,use:Ju,useCallback:function(t,n){return rn().memoizedState=[t,n===void 0?null:n],t},useContext:Ft,useEffect:Np,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Wu(4194308,4,Vp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Wu(4194308,4,t,n)},useInsertionEffect:function(t,n){Wu(4,2,t,n)},useMemo:function(t,n){var a=rn();n=n===void 0?null:n;var o=t();if(Ms){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=rn();if(a!==void 0){var h=a(n);if(Ms){An(!0);try{a(n)}finally{An(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=z1.bind(null,we,t),[o.memoizedState,t]},useRef:function(t){var n=rn();return t={current:t},n.memoizedState=t},useState:function(t){t=xf(t);var n=t.queue,a=Fp.bind(null,we,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Of,useDeferredValue:function(t,n){var a=rn();return Mf(a,t,n)},useTransition:function(){var t=xf(!1);return t=jp.bind(null,we,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=we,h=rn();if(Le){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),tt===null)throw Error(s(349));(De&127)!==0||mp(o,n,a)}h.memoizedState=a;var d={value:a,getSnapshot:n};return h.queue=d,Np(pp.bind(null,o,d,t),[t]),o.flags|=2048,Ia(9,{destroy:void 0},gp.bind(null,o,d,a,n),null),a},useId:function(){var t=rn(),n=tt.identifierPrefix;if(Le){var a=bi,o=Ti;a=(o&~(1<<32-dt(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Xu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=M1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:kf,useFormState:wp,useActionState:wp,useOptimistic:function(t){var n=rn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Lf.bind(null,we,!0,a),a.dispatch=n,[t,n]},useMemoCache:Rf,useCacheRefresh:function(){return rn().memoizedState=j1.bind(null,we)},useEffectEvent:function(t){var n=rn(),a={impl:t};return n.memoizedState=a,function(){if((Ge&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Uf={readContext:Ft,use:Ju,useCallback:Lp,useContext:Ft,useEffect:Df,useImperativeHandle:kp,useInsertionEffect:Op,useLayoutEffect:Mp,useMemo:Up,useReducer:Zu,useRef:xp,useState:function(){return Zu(Bi)},useDebugValue:Of,useDeferredValue:function(t,n){var a=pt();return Pp(a,Ze.memoizedState,t,n)},useTransition:function(){var t=Zu(Bi)[0],n=pt().memoizedState;return[typeof t=="boolean"?t:Wo(t),n]},useSyncExternalStore:dp,useId:qp,useHostTransitionStatus:kf,useFormState:Rp,useActionState:Rp,useOptimistic:function(t,n){var a=pt();return vp(a,Ze,t,n)},useMemoCache:Rf,useCacheRefresh:Hp};Uf.useEffectEvent=Dp;var Yp={readContext:Ft,use:Ju,useCallback:Lp,useContext:Ft,useEffect:Df,useImperativeHandle:kp,useInsertionEffect:Op,useLayoutEffect:Mp,useMemo:Up,useReducer:Cf,useRef:xp,useState:function(){return Cf(Bi)},useDebugValue:Of,useDeferredValue:function(t,n){var a=pt();return Ze===null?Mf(a,t,n):Pp(a,Ze.memoizedState,t,n)},useTransition:function(){var t=Cf(Bi)[0],n=pt().memoizedState;return[typeof t=="boolean"?t:Wo(t),n]},useSyncExternalStore:dp,useId:qp,useHostTransitionStatus:kf,useFormState:Cp,useActionState:Cp,useOptimistic:function(t,n){var a=pt();return Ze!==null?vp(a,Ze,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Rf,useCacheRefresh:Hp};Yp.useEffectEvent=Dp;function Pf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var jf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=bn(),h=Tr(o);h.payload=n,a!=null&&(h.callback=a),n=br(t,h,o),n!==null&&(hn(n,t,o),Xo(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=bn(),h=Tr(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=br(t,h,o),n!==null&&(hn(n,t,o),Xo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=bn(),o=Tr(a);o.tag=2,n!=null&&(o.callback=n),n=br(t,o,a),n!==null&&(hn(n,t,a),Xo(n,t,a))}};function Xp(t,n,a,o,h,d,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,p):n.prototype&&n.prototype.isPureReactComponent?!Bo(a,o)||!Bo(h,d):!0}function $p(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&jf.enqueueReplaceState(n,n.state,null)}function Vs(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Jp(t){Mu(t)}function Zp(t){console.error(t)}function Wp(t){Mu(t)}function nc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ey(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zf(t,n,a){return a=Tr(a),a.tag=3,a.payload={element:null},a.callback=function(){nc(t,n)},a}function ty(t){return t=Tr(t),t.tag=3,t}function ny(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;t.payload=function(){return h(d)},t.callback=function(){ey(n,a,o)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){ey(n,a,o),typeof h!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function B1(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&va(n,a,h,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?mc():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Hu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),hd(t,o,h)),!1;case 22:return a.flags|=65536,o===Hu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),hd(t,o,h)),!1}throw Error(s(435,a.tag))}return hd(t,o,h),mc(),!1}if(Le)return n=_n.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==sf&&(t=Error(s(422),{cause:o}),Fo(Nn(t,a)))):(o!==sf&&(n=Error(s(423),{cause:o}),Fo(Nn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Nn(o,a),h=zf(t.stateNode,o,h),pf(t,h),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:o});if(d=Nn(d,a),ul===null?ul=[d]:ul.push(d),ft!==4&&(ft=2),n===null)return!0;o=Nn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=zf(a.stateNode,o,t),pf(a,t),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Cr===null||!Cr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ty(h),ny(h,t,a,o),pf(a,h),!1}a=a.return}while(a!==null);return!1}var Bf=Error(s(461)),wt=!1;function Gt(t,n,a,o){n.child=t===null?ap(n,null,a,o):Os(n,t.child,a,o)}function iy(t,n,a,o,h){a=a.render;var d=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Cs(n),o=bf(t,n,a,p,d,h),E=Sf(),t!==null&&!wt?(Af(t,n,h),qi(t,n,h)):(Le&&E&&nf(n),n.flags|=1,Gt(t,n,o,h),n.child)}function ry(t,n,a,o,h){if(t===null){var d=a.type;return typeof d=="function"&&!Wh(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,sy(t,n,d,o,h)):(t=Uu(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!Xf(t,h)){var p=d.memoizedProps;if(a=a.compare,a=a!==null?a:Bo,a(p,o)&&t.ref===n.ref)return qi(t,n,h)}return n.flags|=1,t=Li(d,o),t.ref=n.ref,t.return=n,n.child=t}function sy(t,n,a,o,h){if(t!==null){var d=t.memoizedProps;if(Bo(d,o)&&t.ref===n.ref)if(wt=!1,n.pendingProps=o=d,Xf(t,h))(t.flags&131072)!==0&&(wt=!0);else return n.lanes=t.lanes,qi(t,n,h)}return qf(t,n,a,o,h)}function ay(t,n,a,o){var h=o.children,d=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~d}else o=0,n.child=null;return oy(t,n,d,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bu(n,d!==null?d.cachePool:null),d!==null?up(n,d):_f(),cp(n);else return o=n.lanes=536870912,oy(t,n,d!==null?d.baseLanes|a:a,a,o)}else d!==null?(Bu(n,d.cachePool),up(n,d),Ar(),n.memoizedState=null):(t!==null&&Bu(n,null),_f(),Ar());return Gt(t,n,h,a),n.child}function nl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function oy(t,n,a,o,h){var d=ff();return d=d===null?null:{parent:St._currentValue,pool:d},n.memoizedState={baseLanes:a,cachePool:d},t!==null&&Bu(n,null),_f(),cp(n),t!==null&&va(t,n,o,!0),n.childLanes=h,null}function ic(t,n){return n=sc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ly(t,n,a){return Os(n,t.child,null,a),t=ic(n,n.pendingProps),t.flags|=2,vn(n),n.memoizedState=null,t}function q1(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Le){if(o.mode==="hidden")return t=ic(n,o),n.lanes=536870912,nl(null,t);if(Ef(n),(t=it)?(t=E_(t,Mn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:pr!==null?{id:Ti,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Gg(t),a.return=n,n.child=a,Ht=n,it=null)):t=null,t===null)throw _r(n);return n.lanes=536870912,null}return ic(n,o)}var d=t.memoizedState;if(d!==null){var p=d.dehydrated;if(Ef(n),h)if(n.flags&256)n.flags&=-257,n=ly(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(wt||va(t,n,a,!1),h=(a&t.childLanes)!==0,wt||h){if(o=tt,o!==null&&(p=So(o,a),p!==0&&p!==d.retryLane))throw d.retryLane=p,As(t,p),hn(o,t,p),Bf;mc(),n=ly(t,n,a)}else t=d.treeContext,it=kn(p.nextSibling),Ht=n,Le=!0,yr=null,Mn=!1,t!==null&&Yg(n,t),n=ic(n,o),n.flags|=4096;return n}return t=Li(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function rc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function qf(t,n,a,o,h){return Cs(n),a=bf(t,n,a,o,void 0,h),o=Sf(),t!==null&&!wt?(Af(t,n,h),qi(t,n,h)):(Le&&o&&nf(n),n.flags|=1,Gt(t,n,a,h),n.child)}function uy(t,n,a,o,h,d){return Cs(n),n.updateQueue=null,a=fp(n,o,a,h),hp(t),o=Sf(),t!==null&&!wt?(Af(t,n,d),qi(t,n,d)):(Le&&o&&nf(n),n.flags|=1,Gt(t,n,a,d),n.child)}function cy(t,n,a,o,h){if(Cs(n),n.stateNode===null){var d=ga,p=a.contextType;typeof p=="object"&&p!==null&&(d=Ft(p)),d=new a(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=jf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},mf(n),p=a.contextType,d.context=typeof p=="object"&&p!==null?Ft(p):ga,d.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Pf(n,a,p,o),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(p=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),p!==d.state&&jf.enqueueReplaceState(d,d.state,null),Jo(n,o,d,h),$o(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){d=n.stateNode;var E=n.memoizedProps,x=Vs(a,E);d.props=x;var j=d.context,G=a.contextType;p=ga,typeof G=="object"&&G!==null&&(p=Ft(G));var Q=a.getDerivedStateFromProps;G=typeof Q=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||j!==p)&&$p(n,d,o,p),Er=!1;var z=n.memoizedState;d.state=z,Jo(n,o,d,h),$o(),j=n.memoizedState,E||z!==j||Er?(typeof Q=="function"&&(Pf(n,a,Q,o),j=n.memoizedState),(x=Er||Xp(n,a,x,o,z,j,p))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),d.props=o,d.state=j,d.context=p,o=x):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,gf(t,n),p=n.memoizedProps,G=Vs(a,p),d.props=G,Q=n.pendingProps,z=d.context,j=a.contextType,x=ga,typeof j=="object"&&j!==null&&(x=Ft(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p!==Q||z!==x)&&$p(n,d,o,x),Er=!1,z=n.memoizedState,d.state=z,Jo(n,o,d,h),$o();var q=n.memoizedState;p!==Q||z!==q||Er||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof E=="function"&&(Pf(n,a,E,o),q=n.memoizedState),(G=Er||Xp(n,a,G,o,z,q,x)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,q,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,q,x)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),d.props=o,d.state=q,d.context=x,o=G):(typeof d.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),o=!1)}return d=o,rc(t,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&o?(n.child=Os(n,t.child,null,h),n.child=Os(n,null,a,h)):Gt(t,n,a,h),n.memoizedState=d.state,t=n.child):t=qi(t,n,h),t}function hy(t,n,a,o){return Rs(),n.flags|=256,Gt(t,n,a,o),n.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ff(t){return{baseLanes:t,cachePool:ep()}}function Gf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Tn),t}function fy(t,n,a){var o=n.pendingProps,h=!1,d=(n.flags&128)!==0,p;if((p=d)||(p=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Le){if(h?Sr(n):Ar(),(t=it)?(t=E_(t,Mn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:pr!==null?{id:Ti,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Gg(t),a.return=n,n.child=a,Ht=n,it=null)):t=null,t===null)throw _r(n);return Id(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ar(),h=n.mode,E=sc({mode:"hidden",children:E},h),o=ws(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Ff(a),o.childLanes=Gf(t,p,a),n.memoizedState=Hf,nl(null,o)):(Sr(n),Kf(n,E))}var x=t.memoizedState;if(x!==null&&(E=x.dehydrated,E!==null)){if(d)n.flags&256?(Sr(n),n.flags&=-257,n=Qf(t,n,a)):n.memoizedState!==null?(Ar(),n.child=t.child,n.flags|=128,n=null):(Ar(),E=o.fallback,h=n.mode,o=sc({mode:"visible",children:o.children},h),E=ws(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Os(n,t.child,null,a),o=n.child,o.memoizedState=Ff(a),o.childLanes=Gf(t,p,a),n.memoizedState=Hf,n=nl(null,o));else if(Sr(n),Id(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var j=p.dgst;p=j,o=Error(s(419)),o.stack="",o.digest=p,Fo({value:o,source:null,stack:null}),n=Qf(t,n,a)}else if(wt||va(t,n,a,!1),p=(a&t.childLanes)!==0,wt||p){if(p=tt,p!==null&&(o=So(p,a),o!==0&&o!==x.retryLane))throw x.retryLane=o,As(t,o),hn(p,t,o),Bf;Rd(E)||mc(),n=Qf(t,n,a)}else Rd(E)?(n.flags|=192,n.child=t.child,n=null):(t=x.treeContext,it=kn(E.nextSibling),Ht=n,Le=!0,yr=null,Mn=!1,t!==null&&Yg(n,t),n=Kf(n,o.children),n.flags|=4096);return n}return h?(Ar(),E=o.fallback,h=n.mode,x=t.child,j=x.sibling,o=Li(x,{mode:"hidden",children:o.children}),o.subtreeFlags=x.subtreeFlags&65011712,j!==null?E=Li(j,E):(E=ws(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,nl(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Ff(a):(h=E.cachePool,h!==null?(x=St._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=ep(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Gf(t,p,a),n.memoizedState=Hf,nl(t.child,o)):(Sr(n),a=t.child,t=a.sibling,a=Li(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=a,n.memoizedState=null,a)}function Kf(t,n){return n=sc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function sc(t,n){return t=yn(22,t,null,n),t.lanes=0,t}function Qf(t,n,a){return Os(n,t.child,null,a),t=Kf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function dy(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),lf(t.return,n,a)}function Yf(t,n,a,o,h,d){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:d}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=h,p.treeForkCount=d)}function my(t,n,a){var o=n.pendingProps,h=o.revealOrder,d=o.tail;o=o.children;var p=gt.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,ie(gt,p),Gt(t,n,o,a),o=Le?Ho:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dy(t,a,n);else if(t.tag===19)dy(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Qu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Yf(n,!1,h,a,d,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Qu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Yf(n,!0,a,null,d,o);break;case"together":Yf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function qi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Ir|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(va(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Li(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Li(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Xf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function H1(t,n,a){switch(n.tag){case 3:Dt(n,n.stateNode.containerInfo),vr(n,St,t.memoizedState.cache),Rs();break;case 27:case 5:as(n);break;case 4:Dt(n,n.stateNode.containerInfo);break;case 10:vr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ef(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Sr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?fy(t,n,a):(Sr(n),t=qi(t,n,a),t!==null?t.sibling:null);Sr(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(va(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return my(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(gt,gt.current),o)break;return null;case 22:return n.lanes=0,ay(t,n,a,n.pendingProps);case 24:vr(n,St,t.memoizedState.cache)}return qi(t,n,a)}function gy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)wt=!0;else{if(!Xf(t,a)&&(n.flags&128)===0)return wt=!1,H1(t,n,a);wt=(t.flags&131072)!==0}else wt=!1,Le&&(n.flags&1048576)!==0&&Qg(n,Ho,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Ns(n.elementType),n.type=t,typeof t=="function")Wh(t)?(o=Vs(t,o),n.tag=1,n=cy(null,n,t,o,a)):(n.tag=0,n=qf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===ee){n.tag=11,n=iy(null,n,t,o,a);break e}else if(h===D){n.tag=14,n=ry(null,n,t,o,a);break e}}throw n=ze(t)||t,Error(s(306,n,""))}}return n;case 0:return qf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Vs(o,n.pendingProps),cy(t,n,o,h,a);case 3:e:{if(Dt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));o=n.pendingProps;var d=n.memoizedState;h=d.element,gf(t,n),Jo(n,o,null,a);var p=n.memoizedState;if(o=p.cache,vr(n,St,o),o!==d.cache&&uf(n,[St],a,!0),$o(),o=p.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=hy(t,n,o,a);break e}else if(o!==h){h=Nn(Error(s(424)),n),Fo(h),n=hy(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(it=kn(t.firstChild),Ht=n,Le=!0,yr=null,Mn=!0,a=ap(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Rs(),o===h){n=qi(t,n,a);break e}Gt(t,n,o,a)}n=n.child}return n;case 26:return rc(t,n),t===null?(a=R_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Le||(a=n.type,t=n.pendingProps,o=Tc(Re.current).createElement(a),o[Et]=n,o[Lt]=t,Kt(o,a,t),Tt(o),n.stateNode=o):n.memoizedState=R_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return as(n),t===null&&Le&&(o=n.stateNode=S_(n.type,n.pendingProps,Re.current),Ht=n,Mn=!0,h=it,Or(n.type)?(Cd=h,it=kn(o.firstChild)):it=h),Gt(t,n,n.pendingProps.children,a),rc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Le&&((h=o=it)&&(o=vb(o,n.type,n.pendingProps,Mn),o!==null?(n.stateNode=o,Ht=n,it=kn(o.firstChild),Mn=!1,h=!0):h=!1),h||_r(n)),as(n),h=n.type,d=n.pendingProps,p=t!==null?t.memoizedProps:null,o=d.children,Sd(h,d)?o=null:p!==null&&Sd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=bf(t,n,V1,null,null,a),yl._currentValue=h),rc(t,n),Gt(t,n,o,a),n.child;case 6:return t===null&&Le&&((t=a=it)&&(a=Eb(a,n.pendingProps,Mn),a!==null?(n.stateNode=a,Ht=n,it=null,t=!0):t=!1),t||_r(n)),null;case 13:return fy(t,n,a);case 4:return Dt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Os(n,null,o,a):Gt(t,n,o,a),n.child;case 11:return iy(t,n,n.type,n.pendingProps,a);case 7:return Gt(t,n,n.pendingProps,a),n.child;case 8:return Gt(t,n,n.pendingProps.children,a),n.child;case 12:return Gt(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,vr(n,n.type,o.value),Gt(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Cs(n),h=Ft(h),o=o(h),n.flags|=1,Gt(t,n,o,a),n.child;case 14:return ry(t,n,n.type,n.pendingProps,a);case 15:return sy(t,n,n.type,n.pendingProps,a);case 19:return my(t,n,a);case 31:return q1(t,n,a);case 22:return ay(t,n,a,n.pendingProps);case 24:return Cs(n),o=Ft(St),t===null?(h=ff(),h===null&&(h=tt,d=cf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),n.memoizedState={parent:o,cache:h},mf(n),vr(n,St,h)):((t.lanes&a)!==0&&(gf(t,n),Jo(n,null,null,a),$o()),h=t.memoizedState,d=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),vr(n,St,o)):(o=d.cache,vr(n,St,o),o!==h.cache&&uf(n,[St],a,!0))),Gt(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Hi(t){t.flags|=4}function $f(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(qy())t.flags|=8192;else throw Ds=Hu,df}else t.flags&=-16777217}function py(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!D_(n))if(qy())t.flags|=8192;else throw Ds=Hu,df}function ac(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?fu():536870912,t.lanes|=n,Da|=n)}function il(t,n){if(!Le)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function rt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function F1(t,n,a){var o=n.pendingProps;switch(rf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(n),null;case 1:return rt(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ji(St),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(_a(n)?Hi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,af())),rt(n),null;case 26:var h=n.type,d=n.memoizedState;return t===null?(Hi(n),d!==null?(rt(n),py(n,d)):(rt(n),$f(n,h,null,o,a))):d?d!==t.memoizedState?(Hi(n),rt(n),py(n,d)):(rt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&Hi(n),rt(n),$f(n,h,t,o,a)),null;case 27:if($s(n),a=Re.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Hi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return rt(n),null}t=ae.current,_a(n)?Xg(n):(t=S_(h,o,a),n.stateNode=t,Hi(n))}return rt(n),null;case 5:if($s(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Hi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return rt(n),null}if(d=ae.current,_a(n))Xg(n);else{var p=Tc(Re.current);switch(d){case 1:d=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=p.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}d[Et]=n,d[Lt]=o;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)d.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=d;e:switch(Kt(d,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Hi(n)}}return rt(n),$f(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Hi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(t=Re.current,_a(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=Ht,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Et]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||f_(t.nodeValue,a)),t||_r(n,!0)}else t=Tc(t).createTextNode(o),t[Et]=n,n.stateNode=t}return rt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=_a(n),a!==null){if(t===null){if(!o)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Et]=n}else Rs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;rt(n),t=!1}else a=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(vn(n),n):(vn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return rt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=_a(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Et]=n}else Rs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;rt(n),h=!1}else h=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(vn(n),n):(vn(n),null)}return vn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),ac(n,n.updateQueue),rt(n),null);case 4:return ot(),t===null&&_d(n.stateNode.containerInfo),rt(n),null;case 10:return ji(n.type),rt(n),null;case 19:if(Y(gt),o=n.memoizedState,o===null)return rt(n),null;if(h=(n.flags&128)!==0,d=o.rendering,d===null)if(h)il(o,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=Qu(t),d!==null){for(n.flags|=128,il(o,!1),t=d.updateQueue,n.updateQueue=t,ac(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Fg(a,t),a=a.sibling;return ie(gt,gt.current&1|2),Le&&Ui(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&tn()>hc&&(n.flags|=128,h=!0,il(o,!1),n.lanes=4194304)}else{if(!h)if(t=Qu(d),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ac(n,t),il(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Le)return rt(n),null}else 2*tn()-o.renderingStartTime>hc&&a!==536870912&&(n.flags|=128,h=!0,il(o,!1),n.lanes=4194304);o.isBackwards?(d.sibling=n.child,n.child=d):(t=o.last,t!==null?t.sibling=d:n.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=tn(),t.sibling=null,a=gt.current,ie(gt,h?a&1|2:a&1),Le&&Ui(n,o.treeForkCount),t):(rt(n),null);case 22:case 23:return vn(n),vf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(rt(n),n.subtreeFlags&6&&(n.flags|=8192)):rt(n),a=n.updateQueue,a!==null&&ac(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&Y(xs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ji(St),rt(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function G1(t,n){switch(rf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ji(St),ot(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return $s(n),null;case 31:if(n.memoizedState!==null){if(vn(n),n.alternate===null)throw Error(s(340));Rs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(vn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Rs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(gt),null;case 4:return ot(),null;case 10:return ji(n.type),null;case 22:case 23:return vn(n),vf(),t!==null&&Y(xs),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ji(St),null;case 25:return null;default:return null}}function yy(t,n){switch(rf(n),n.tag){case 3:ji(St),ot();break;case 26:case 27:case 5:$s(n);break;case 4:ot();break;case 31:n.memoizedState!==null&&vn(n);break;case 13:vn(n);break;case 19:Y(gt);break;case 10:ji(n.type);break;case 22:case 23:vn(n),vf(),t!==null&&Y(xs);break;case 24:ji(St)}}function rl(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var d=a.create,p=a.inst;o=d(),p.destroy=o}a=a.next}while(a!==h)}}catch(E){$e(n,n.return,E)}}function wr(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&t)===t){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var x=a,j=E;try{j()}catch(G){$e(h,x,G)}}}o=o.next}while(o!==d)}}catch(G){$e(n,n.return,G)}}function _y(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{lp(n,a)}catch(o){$e(t,t.return,o)}}}function vy(t,n,a){a.props=Vs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){$e(t,n,o)}}function sl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){$e(t,n,h)}}function Si(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){$e(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$e(t,n,h)}else a.current=null}function Ey(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){$e(t,t.return,h)}}function Jf(t,n,a){try{var o=t.stateNode;db(o,t.type,a,n),o[Lt]=n}catch(h){$e(t,t.return,h)}}function Ty(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Or(t.type)||t.tag===4}function Zf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ty(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Or(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wf(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Hn));else if(o!==4&&(o===27&&Or(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Wf(t,n,a),t=t.sibling;t!==null;)Wf(t,n,a),t=t.sibling}function oc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Or(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(oc(t,n,a),t=t.sibling;t!==null;)oc(t,n,a),t=t.sibling}function by(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Kt(n,o,a),n[Et]=t,n[Lt]=a}catch(d){$e(t,t.return,d)}}var Fi=!1,Rt=!1,ed=!1,Sy=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function K1(t,n){if(t=t.containerInfo,Td=Cc,t=kg(t),Kh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var p=0,E=-1,x=-1,j=0,G=0,Q=t,z=null;t:for(;;){for(var q;Q!==a||h!==0&&Q.nodeType!==3||(E=p+h),Q!==d||o!==0&&Q.nodeType!==3||(x=p+o),Q.nodeType===3&&(p+=Q.nodeValue.length),(q=Q.firstChild)!==null;)z=Q,Q=q;for(;;){if(Q===t)break t;if(z===a&&++j===h&&(E=p),z===d&&++G===o&&(x=p),(q=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=q}a=E===-1||x===-1?null:{start:E,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(bd={focusedElem:t,selectionRange:a},Cc=!1,Pt=n;Pt!==null;)if(n=Pt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Pt=t;else for(;Pt!==null;){switch(n=Pt,d=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=n,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var oe=Vs(a.type,h);t=o.getSnapshotBeforeUpdate(oe,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(ge){$e(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)wd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":wd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Pt=t;break}Pt=n.return}}function Ay(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Ki(t,a),o&4&&rl(5,a);break;case 1:if(Ki(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(p){$e(a,a.return,p)}else{var h=Vs(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){$e(a,a.return,p)}}o&64&&_y(a),o&512&&sl(a,a.return);break;case 3:if(Ki(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{lp(t,n)}catch(p){$e(a,a.return,p)}}break;case 27:n===null&&o&4&&by(a);case 26:case 5:Ki(t,a),n===null&&o&4&&Ey(a),o&512&&sl(a,a.return);break;case 12:Ki(t,a);break;case 31:Ki(t,a),o&4&&Iy(t,a);break;case 13:Ki(t,a),o&4&&Cy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=tb.bind(null,a),Tb(t,a))));break;case 22:if(o=a.memoizedState!==null||Fi,!o){n=n!==null&&n.memoizedState!==null||Rt,h=Fi;var d=Rt;Fi=o,(Rt=n)&&!d?Qi(t,a,(a.subtreeFlags&8772)!==0):Ki(t,a),Fi=h,Rt=d}break;case 30:break;default:Ki(t,a)}}function wy(t){var n=t.alternate;n!==null&&(t.alternate=null,wy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ta(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,on=!1;function Gi(t,n,a){for(a=a.child;a!==null;)Ry(t,n,a),a=a.sibling}function Ry(t,n,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(jn,a)}catch{}switch(a.tag){case 26:Rt||Si(a,n),Gi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Rt||Si(a,n);var o=ut,h=on;Or(a.type)&&(ut=a.stateNode,on=!1),Gi(t,n,a),ml(a.stateNode),ut=o,on=h;break;case 5:Rt||Si(a,n);case 6:if(o=ut,h=on,ut=null,Gi(t,n,a),ut=o,on=h,ut!==null)if(on)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(d){$e(a,n,d)}else try{ut.removeChild(a.stateNode)}catch(d){$e(a,n,d)}break;case 18:ut!==null&&(on?(t=ut,__(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ja(t)):__(ut,a.stateNode));break;case 4:o=ut,h=on,ut=a.stateNode.containerInfo,on=!0,Gi(t,n,a),ut=o,on=h;break;case 0:case 11:case 14:case 15:wr(2,a,n),Rt||wr(4,a,n),Gi(t,n,a);break;case 1:Rt||(Si(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&vy(a,n,o)),Gi(t,n,a);break;case 21:Gi(t,n,a);break;case 22:Rt=(o=Rt)||a.memoizedState!==null,Gi(t,n,a),Rt=o;break;default:Gi(t,n,a)}}function Iy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ja(t)}catch(a){$e(n,n.return,a)}}}function Cy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ja(t)}catch(a){$e(n,n.return,a)}}function Q1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Sy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Sy),n;default:throw Error(s(435,t.tag))}}function lc(t,n){var a=Q1(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=nb.bind(null,t,o);o.then(h,h)}})}function ln(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=t,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(Or(E.type)){ut=E.stateNode,on=!1;break e}break;case 5:ut=E.stateNode,on=!1;break e;case 3:case 4:ut=E.stateNode.containerInfo,on=!0;break e}E=E.return}if(ut===null)throw Error(s(160));Ry(d,p,h),ut=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)xy(n,t),n=n.sibling}var Xn=null;function xy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),un(t),o&4&&(wr(3,t,t.return),rl(3,t),wr(5,t,t.return));break;case 1:ln(n,t),un(t),o&512&&(Rt||a===null||Si(a,a.return)),o&64&&Fi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Xn;if(ln(n,t),un(t),o&512&&(Rt||a===null||Si(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ui]||d[Et]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Kt(d,o,a),d[Et]=t,Tt(d),o=d;break e;case"link":var p=x_("link","href",h).get(o+(a.href||""));if(p){for(var E=0;E<p.length;E++)if(d=p[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(E,1);break t}}d=h.createElement(o),Kt(d,o,a),h.head.appendChild(d);break;case"meta":if(p=x_("meta","content",h).get(o+(a.content||""))){for(E=0;E<p.length;E++)if(d=p[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(E,1);break t}}d=h.createElement(o),Kt(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[Et]=t,Tt(d),o=d}t.stateNode=o}else N_(h,t.type,t.stateNode);else t.stateNode=C_(h,o,t.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?N_(h,t.type,t.stateNode):C_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Jf(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(n,t),un(t),o&512&&(Rt||a===null||Si(a,a.return)),a!==null&&o&4&&Jf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(n,t),un(t),o&512&&(Rt||a===null||Si(a,a.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(oe){$e(t,t.return,oe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Jf(t,h,a!==null?a.memoizedProps:h)),o&1024&&(ed=!0);break;case 6:if(ln(n,t),un(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(oe){$e(t,t.return,oe)}}break;case 3:if(Ac=null,h=Xn,Xn=bc(n.containerInfo),ln(n,t),Xn=h,un(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ja(n.containerInfo)}catch(oe){$e(t,t.return,oe)}ed&&(ed=!1,Ny(t));break;case 4:o=Xn,Xn=bc(t.stateNode.containerInfo),ln(n,t),un(t),Xn=o;break;case 12:ln(n,t),un(t);break;case 31:ln(n,t),un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,lc(t,o)));break;case 13:ln(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(cc=tn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,lc(t,o)));break;case 22:h=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,j=Fi,G=Rt;if(Fi=j||h,Rt=G||x,ln(n,t),Rt=G,Fi=j,un(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||x||Fi||Rt||ks(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){x=a=n;try{if(d=x.stateNode,h)p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=x.stateNode;var Q=x.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(oe){$e(x,x.return,oe)}}}else if(n.tag===6){if(a===null){x=n;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(oe){$e(x,x.return,oe)}}}else if(n.tag===18){if(a===null){x=n;try{var q=x.stateNode;h?v_(q,!0):v_(x.stateNode,!1)}catch(oe){$e(x,x.return,oe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,lc(t,a))));break;case 19:ln(n,t),un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,lc(t,o)));break;case 30:break;case 21:break;default:ln(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(Ty(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Zf(t);oc(t,d,h);break;case 5:var p=a.stateNode;a.flags&32&&(an(p,""),a.flags&=-33);var E=Zf(t);oc(t,E,p);break;case 3:case 4:var x=a.stateNode.containerInfo,j=Zf(t);Wf(t,j,x);break;default:throw Error(s(161))}}catch(G){$e(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ny(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ny(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ki(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ay(t,n.alternate,n),n=n.sibling}function ks(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:wr(4,n,n.return),ks(n);break;case 1:Si(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&vy(n,n.return,a),ks(n);break;case 27:ml(n.stateNode);case 26:case 5:Si(n,n.return),ks(n);break;case 22:n.memoizedState===null&&ks(n);break;case 30:ks(n);break;default:ks(n)}t=t.sibling}}function Qi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,d=n,p=d.flags;switch(d.tag){case 0:case 11:case 15:Qi(h,d,a),rl(4,d);break;case 1:if(Qi(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){$e(o,o.return,j)}if(o=d,h=o.updateQueue,h!==null){var E=o.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)op(x[h],E)}catch(j){$e(o,o.return,j)}}a&&p&64&&_y(d),sl(d,d.return);break;case 27:by(d);case 26:case 5:Qi(h,d,a),a&&o===null&&p&4&&Ey(d),sl(d,d.return);break;case 12:Qi(h,d,a);break;case 31:Qi(h,d,a),a&&p&4&&Iy(h,d);break;case 13:Qi(h,d,a),a&&p&4&&Cy(h,d);break;case 22:d.memoizedState===null&&Qi(h,d,a),sl(d,d.return);break;case 30:break;default:Qi(h,d,a)}n=n.sibling}}function td(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Go(a))}function nd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Go(t))}function $n(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Dy(t,n,a,o),n=n.sibling}function Dy(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$n(t,n,a,o),h&2048&&rl(9,n);break;case 1:$n(t,n,a,o);break;case 3:$n(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Go(t)));break;case 12:if(h&2048){$n(t,n,a,o),t=n.stateNode;try{var d=n.memoizedProps,p=d.id,E=d.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){$e(n,n.return,x)}}else $n(t,n,a,o);break;case 31:$n(t,n,a,o);break;case 13:$n(t,n,a,o);break;case 23:break;case 22:d=n.stateNode,p=n.alternate,n.memoizedState!==null?d._visibility&2?$n(t,n,a,o):al(t,n):d._visibility&2?$n(t,n,a,o):(d._visibility|=2,Ca(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&td(p,n);break;case 24:$n(t,n,a,o),h&2048&&nd(n.alternate,n);break;default:$n(t,n,a,o)}}function Ca(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=t,p=n,E=a,x=o,j=p.flags;switch(p.tag){case 0:case 11:case 15:Ca(d,p,E,x,h),rl(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?Ca(d,p,E,x,h):al(d,p):(G._visibility|=2,Ca(d,p,E,x,h)),h&&j&2048&&td(p.alternate,p);break;case 24:Ca(d,p,E,x,h),h&&j&2048&&nd(p.alternate,p);break;default:Ca(d,p,E,x,h)}n=n.sibling}}function al(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:al(a,o),h&2048&&td(o.alternate,o);break;case 24:al(a,o),h&2048&&nd(o.alternate,o);break;default:al(a,o)}n=n.sibling}}var ol=8192;function xa(t,n,a){if(t.subtreeFlags&ol)for(t=t.child;t!==null;)Oy(t,n,a),t=t.sibling}function Oy(t,n,a){switch(t.tag){case 26:xa(t,n,a),t.flags&ol&&t.memoizedState!==null&&Mb(a,Xn,t.memoizedState,t.memoizedProps);break;case 5:xa(t,n,a);break;case 3:case 4:var o=Xn;Xn=bc(t.stateNode.containerInfo),xa(t,n,a),Xn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=ol,ol=16777216,xa(t,n,a),ol=o):xa(t,n,a));break;default:xa(t,n,a)}}function My(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ll(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Pt=o,ky(o,t)}My(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Vy(t),t=t.sibling}function Vy(t){switch(t.tag){case 0:case 11:case 15:ll(t),t.flags&2048&&wr(9,t,t.return);break;case 3:ll(t);break;case 12:ll(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,uc(t)):ll(t);break;default:ll(t)}}function uc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Pt=o,ky(o,t)}My(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:wr(8,n,n.return),uc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,uc(n));break;default:uc(n)}t=t.sibling}}function ky(t,n){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:wr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Go(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Pt=o;else e:for(a=t;Pt!==null;){o=Pt;var h=o.sibling,d=o.return;if(wy(o),o===a){Pt=null;break e}if(h!==null){h.return=d,Pt=h;break e}Pt=d}}}var Y1={getCacheForType:function(t){var n=Ft(St),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Ft(St).controller.signal}},X1=typeof WeakMap=="function"?WeakMap:Map,Ge=0,tt=null,xe=null,De=0,Xe=0,En=null,Rr=!1,Na=!1,id=!1,Yi=0,ft=0,Ir=0,Ls=0,rd=0,Tn=0,Da=0,ul=null,cn=null,sd=!1,cc=0,Ly=0,hc=1/0,fc=null,Cr=null,Mt=0,xr=null,Oa=null,Xi=0,ad=0,od=null,Uy=null,cl=0,ld=null;function bn(){return(Ge&2)!==0&&De!==0?De&-De:F.T!==null?md():du()}function Py(){if(Tn===0)if((De&536870912)===0||Le){var t=us;us<<=1,(us&3932160)===0&&(us=262144),Tn=t}else Tn=536870912;return t=_n.current,t!==null&&(t.flags|=32),Tn}function hn(t,n,a){(t===tt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Ma(t,0),Nr(t,De,Tn,!1)),cs(t,a),((Ge&2)===0||t!==tt)&&(t===tt&&((Ge&2)===0&&(Ls|=a),ft===4&&Nr(t,De,Tn,!1)),Ai(t))}function jy(t,n,a){if((Ge&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||zn(t,n),h=o?Z1(t,n):cd(t,n,!0),d=o;do{if(h===0){Na&&!o&&Nr(t,n,0,!1);break}else{if(a=t.current.alternate,d&&!$1(a)){h=cd(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=t;h=ul;var x=E.current.memoizedState.isDehydrated;if(x&&(Ma(E,p).flags|=256),p=cd(E,p,!1),p!==2){if(id&&!x){E.errorRecoveryDisabledLanes|=d,Ls|=d,h=4;break e}d=cn,cn=h,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}h=p}if(d=!1,h!==2)continue}}if(h===1){Ma(t,0),Nr(t,n,0,!0);break}e:{switch(o=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Nr(o,n,Tn,!Rr);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=cc+300-tn(),10<h)){if(Nr(o,n,Tn,!Rr),ai(o,0,!0)!==0)break e;Xi=n,o.timeoutHandle=p_(zy.bind(null,o,a,cn,fc,sd,n,Tn,Ls,Da,Rr,d,"Throttled",-0,0),h);break e}zy(o,a,cn,fc,sd,n,Tn,Ls,Da,Rr,d,null,-0,0)}}break}while(!0);Ai(t)}function zy(t,n,a,o,h,d,p,E,x,j,G,Q,z,q){if(t.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},Oy(n,d,Q);var oe=(d&62914560)===d?cc-tn():(d&4194048)===d?Ly-tn():0;if(oe=Vb(Q,oe),oe!==null){Xi=d,t.cancelPendingCommit=oe(Yy.bind(null,t,n,d,a,o,h,p,E,x,G,Q,null,z,q)),Nr(t,d,p,!j);return}}Yy(t,n,d,a,o,h,p,E,x)}function $1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Nr(t,n,a,o){n&=~rd,n&=~Ls,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var d=31-dt(h),p=1<<d;o[d]=-1,h&=~p}a!==0&&hs(t,a,n)}function dc(){return(Ge&6)===0?(hl(0),!1):!0}function ud(){if(xe!==null){if(Xe===0)var t=xe.return;else t=xe,Pi=Is=null,wf(t),Sa=null,Qo=0,t=xe;for(;t!==null;)yy(t.alternate,t),t=t.return;xe=null}}function Ma(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,pb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Xi=0,ud(),tt=t,xe=a=Li(t.current,null),De=n,Xe=0,En=null,Rr=!1,Na=zn(t,n),id=!1,Da=Tn=rd=Ls=Ir=ft=0,cn=ul=null,sd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-dt(o),d=1<<h;n|=t[h],o&=~d}return Yi=n,Vu(),a}function By(t,n){we=null,F.H=tl,n===ba||n===qu?(n=ip(),Xe=3):n===df?(n=ip(),Xe=4):Xe=n===Bf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,xe===null&&(ft=1,nc(t,Nn(n,t.current)))}function qy(){var t=_n.current;return t===null?!0:(De&4194048)===De?Vn===null:(De&62914560)===De||(De&536870912)!==0?t===Vn:!1}function Hy(){var t=F.H;return F.H=tl,t===null?tl:t}function Fy(){var t=F.A;return F.A=Y1,t}function mc(){ft=4,Rr||(De&4194048)!==De&&_n.current!==null||(Na=!0),(Ir&134217727)===0&&(Ls&134217727)===0||tt===null||Nr(tt,De,Tn,!1)}function cd(t,n,a){var o=Ge;Ge|=2;var h=Hy(),d=Fy();(tt!==t||De!==n)&&(fc=null,Ma(t,n)),n=!1;var p=ft;e:do try{if(Xe!==0&&xe!==null){var E=xe,x=En;switch(Xe){case 8:ud(),p=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(n=!0);var j=Xe;if(Xe=0,En=null,Va(t,E,x,j),a&&Na){p=0;break e}break;default:j=Xe,Xe=0,En=null,Va(t,E,x,j)}}J1(),p=ft;break}catch(G){By(t,G)}while(!0);return n&&t.shellSuspendCounter++,Pi=Is=null,Ge=o,F.H=h,F.A=d,xe===null&&(tt=null,De=0,Vu()),p}function J1(){for(;xe!==null;)Gy(xe)}function Z1(t,n){var a=Ge;Ge|=2;var o=Hy(),h=Fy();tt!==t||De!==n?(fc=null,hc=tn()+500,Ma(t,n)):Na=zn(t,n);e:do try{if(Xe!==0&&xe!==null){n=xe;var d=En;t:switch(Xe){case 1:Xe=0,En=null,Va(t,n,d,1);break;case 2:case 9:if(tp(d)){Xe=0,En=null,Ky(n);break}n=function(){Xe!==2&&Xe!==9||tt!==t||(Xe=7),Ai(t)},d.then(n,n);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:tp(d)?(Xe=0,En=null,Ky(n)):(Xe=0,En=null,Va(t,n,d,7));break;case 5:var p=null;switch(xe.tag){case 26:p=xe.memoizedState;case 5:case 27:var E=xe;if(p?D_(p):E.stateNode.complete){Xe=0,En=null;var x=E.sibling;if(x!==null)xe=x;else{var j=E.return;j!==null?(xe=j,gc(j)):xe=null}break t}}Xe=0,En=null,Va(t,n,d,5);break;case 6:Xe=0,En=null,Va(t,n,d,6);break;case 8:ud(),ft=6;break e;default:throw Error(s(462))}}W1();break}catch(G){By(t,G)}while(!0);return Pi=Is=null,F.H=o,F.A=h,Ge=a,xe!==null?0:(tt=null,De=0,Vu(),ft)}function W1(){for(;xe!==null&&!jh();)Gy(xe)}function Gy(t){var n=gy(t.alternate,t,Yi);t.memoizedProps=t.pendingProps,n===null?gc(t):xe=n}function Ky(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=uy(a,n,n.pendingProps,n.type,void 0,De);break;case 11:n=uy(a,n,n.pendingProps,n.type.render,n.ref,De);break;case 5:wf(n);default:yy(a,n),n=xe=Fg(n,Yi),n=gy(a,n,Yi)}t.memoizedProps=t.pendingProps,n===null?gc(t):xe=n}function Va(t,n,a,o){Pi=Is=null,wf(n),Sa=null,Qo=0;var h=n.return;try{if(B1(t,h,n,a,De)){ft=1,nc(t,Nn(a,t.current)),xe=null;return}}catch(d){if(h!==null)throw xe=h,d;ft=1,nc(t,Nn(a,t.current)),xe=null;return}n.flags&32768?(Le||o===1?t=!0:Na||(De&536870912)!==0?t=!1:(Rr=t=!0,(o===2||o===9||o===3||o===6)&&(o=_n.current,o!==null&&o.tag===13&&(o.flags|=16384))),Qy(n,t)):gc(n)}function gc(t){var n=t;do{if((n.flags&32768)!==0){Qy(n,Rr);return}t=n.return;var a=F1(n.alternate,n,Yi);if(a!==null){xe=a;return}if(n=n.sibling,n!==null){xe=n;return}xe=n=t}while(n!==null);ft===0&&(ft=5)}function Qy(t,n){do{var a=G1(t.alternate,t);if(a!==null){a.flags&=32767,xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){xe=t;return}xe=t=a}while(t!==null);ft=6,xe=null}function Yy(t,n,a,o,h,d,p,E,x){t.cancelPendingCommit=null;do pc();while(Mt!==0);if((Ge&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=Jh,qh(t,a,d,p,E,x),t===tt&&(xe=tt=null,De=0),Oa=n,xr=t,Xi=a,ad=d,od=h,Uy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ib(ar,function(){return Wy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=ne.p,ne.p=2,p=Ge,Ge|=4;try{K1(t,n,a)}finally{Ge=p,ne.p=h,F.T=o}}Mt=1,Xy(),$y(),Jy()}}function Xy(){if(Mt===1){Mt=0;var t=xr,n=Oa,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=ne.p;ne.p=2;var h=Ge;Ge|=4;try{xy(n,t);var d=bd,p=kg(t.containerInfo),E=d.focusedElem,x=d.selectionRange;if(p!==E&&E&&E.ownerDocument&&Vg(E.ownerDocument.documentElement,E)){if(x!==null&&Kh(E)){var j=x.start,G=x.end;if(G===void 0&&(G=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(G,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var q=z.getSelection(),oe=E.textContent.length,ge=Math.min(x.start,oe),et=x.end===void 0?ge:Math.min(x.end,oe);!q.extend&&ge>et&&(p=et,et=ge,ge=p);var k=Mg(E,ge),M=Mg(E,et);if(k&&M&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==M.node||q.focusOffset!==M.offset)){var P=Q.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),ge>et?(q.addRange(P),q.extend(M.node,M.offset)):(P.setEnd(M.node,M.offset),q.addRange(P))}}}}for(Q=[],q=E;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var K=Q[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Cc=!!Td,bd=Td=null}finally{Ge=h,ne.p=o,F.T=a}}t.current=n,Mt=2}}function $y(){if(Mt===2){Mt=0;var t=xr,n=Oa,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=ne.p;ne.p=2;var h=Ge;Ge|=4;try{Ay(t,n.alternate,n)}finally{Ge=h,ne.p=o,F.T=a}}Mt=3}}function Jy(){if(Mt===4||Mt===3){Mt=0,au();var t=xr,n=Oa,a=Xi,o=Uy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Mt=5:(Mt=0,Oa=xr=null,Zy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Cr=null),Oi(a),n=n.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(jn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=ne.p,ne.p=2,F.T=null;try{for(var d=t.onRecoverableError,p=0;p<o.length;p++){var E=o[p];d(E.value,{componentStack:E.stack})}}finally{F.T=n,ne.p=h}}(Xi&3)!==0&&pc(),Ai(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===ld?cl++:(cl=0,ld=t):cl=0,hl(0)}}function Zy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Go(n)))}function pc(){return Xy(),$y(),Jy(),Wy()}function Wy(){if(Mt!==5)return!1;var t=xr,n=ad;ad=0;var a=Oi(Xi),o=F.T,h=ne.p;try{ne.p=32>a?32:a,F.T=null,a=od,od=null;var d=xr,p=Xi;if(Mt=0,Oa=xr=null,Xi=0,(Ge&6)!==0)throw Error(s(331));var E=Ge;if(Ge|=4,Vy(d.current),Dy(d,d.current,p,a),Ge=E,hl(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(jn,d)}catch{}return!0}finally{ne.p=h,F.T=o,Zy(t,n)}}function e_(t,n,a){n=Nn(a,n),n=zf(t.stateNode,n,2),t=br(t,n,2),t!==null&&(cs(t,2),Ai(t))}function $e(t,n,a){if(t.tag===3)e_(t,t,a);else for(;n!==null;){if(n.tag===3){e_(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Cr===null||!Cr.has(o))){t=Nn(a,t),a=ty(2),o=br(n,a,2),o!==null&&(ny(a,o,n,t),cs(o,2),Ai(o));break}}n=n.return}}function hd(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new X1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(id=!0,h.add(a),t=eb.bind(null,t,n,a),n.then(t,t))}function eb(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(De&a)===a&&(ft===4||ft===3&&(De&62914560)===De&&300>tn()-cc?(Ge&2)===0&&Ma(t,0):rd|=a,Da===De&&(Da=0)),Ai(t)}function t_(t,n){n===0&&(n=fu()),t=As(t,n),t!==null&&(cs(t,n),Ai(t))}function tb(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),t_(t,a)}function nb(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),t_(t,a)}function ib(t,n){return Ot(t,n)}var yc=null,ka=null,fd=!1,_c=!1,dd=!1,Dr=0;function Ai(t){t!==ka&&t.next===null&&(ka===null?yc=ka=t:ka=ka.next=t),_c=!0,fd||(fd=!0,sb())}function hl(t,n){if(!dd&&_c){dd=!0;do for(var a=!1,o=yc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var p=o.suspendedLanes,E=o.pingedLanes;d=(1<<31-dt(42|t)+1)-1,d&=h&~(p&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,s_(o,d))}else d=De,d=ai(o,o===tt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||zn(o,d)||(a=!0,s_(o,d));o=o.next}while(a);dd=!1}}function rb(){n_()}function n_(){_c=fd=!1;var t=0;Dr!==0&&gb()&&(t=Dr);for(var n=tn(),a=null,o=yc;o!==null;){var h=o.next,d=i_(o,n);d===0?(o.next=null,a===null?yc=h:a.next=h,h===null&&(ka=a)):(a=o,(t!==0||(d&3)!==0)&&(_c=!0)),o=h}Mt!==0&&Mt!==5||hl(t),Dr!==0&&(Dr=0)}function i_(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var p=31-dt(d),E=1<<p,x=h[p];x===-1?((E&a)===0||(E&o)!==0)&&(h[p]=Bh(E,n)):x<=n&&(t.expiredLanes|=E),d&=~E}if(n=tt,a=De,a=ai(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&sr(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||zn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&sr(o),Oi(a)){case 2:case 8:a=To;break;case 32:a=ar;break;case 268435456:a=ou;break;default:a=ar}return o=r_.bind(null,t),a=Ot(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&sr(o),t.callbackPriority=2,t.callbackNode=null,2}function r_(t,n){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(pc()&&t.callbackNode!==a)return null;var o=De;return o=ai(t,t===tt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(jy(t,o,n),i_(t,tn()),t.callbackNode!=null&&t.callbackNode===a?r_.bind(null,t):null)}function s_(t,n){if(pc())return null;jy(t,n,!0)}function sb(){yb(function(){(Ge&6)!==0?Ot(Eo,rb):n_()})}function md(){if(Dr===0){var t=Ea;t===0&&(t=ri,ri<<=1,(ri&261888)===0&&(ri=256)),Dr=t}return Dr}function a_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:sa(""+t)}function o_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function ab(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var d=a_((h[Lt]||null).action),p=o.submitter;p&&(n=(n=p[Lt]||null)?a_(n.formAction):p.getAttribute("formAction"),n!==null&&(d=n,p=null));var E=new yi("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Dr!==0){var x=p?o_(h,p):new FormData(h);Vf(a,{pending:!0,data:x,method:h.method,action:d},null,x)}}else typeof d=="function"&&(E.preventDefault(),x=p?o_(h,p):new FormData(h),Vf(a,{pending:!0,data:x,method:h.method,action:d},d,x))},currentTarget:h}]})}}for(var gd=0;gd<$h.length;gd++){var pd=$h[gd],ob=pd.toLowerCase(),lb=pd[0].toUpperCase()+pd.slice(1);Yn(ob,"on"+lb)}Yn(Pg,"onAnimationEnd"),Yn(jg,"onAnimationIteration"),Yn(zg,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(A1,"onTransitionRun"),Yn(w1,"onTransitionStart"),Yn(R1,"onTransitionCancel"),Yn(Bg,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ub=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function l_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var d=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],x=E.instance,j=E.currentTarget;if(E=E.listener,x!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=j;try{d(h)}catch(G){Mu(G)}h.currentTarget=null,d=x}else for(p=0;p<o.length;p++){if(E=o[p],x=E.instance,j=E.currentTarget,E=E.listener,x!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=j;try{d(h)}catch(G){Mu(G)}h.currentTarget=null,d=x}}}}function Ne(t,n){var a=n[ea];a===void 0&&(a=n[ea]=new Set);var o=t+"__bubble";a.has(o)||(u_(n,t,2,!1),a.add(o))}function yd(t,n,a){var o=0;n&&(o|=4),u_(a,t,o,n)}var vc="_reactListening"+Math.random().toString(36).slice(2);function _d(t){if(!t[vc]){t[vc]=!0,Ao.forEach(function(a){a!=="selectionchange"&&(ub.has(a)||yd(a,!1,t),yd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[vc]||(n[vc]=!0,yd("selectionchange",!1,n))}}function u_(t,n,a,o){switch(P_(n)){case 2:var h=Ub;break;case 8:h=Pb;break;default:h=Md}a=h.bind(null,n,a,t),h=void 0,!ps||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function vd(t,n,a,o,h){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var x=p.tag;if((x===3||x===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=ci(E),p===null)return;if(x=p.tag,x===5||x===6||x===26||x===27){o=d=p;continue e}E=E.parentNode}}o=o.return}fr(function(){var j=d,G=Rn(a),Q=[];e:{var z=qg.get(t);if(z!==void 0){var q=yi,oe=t;switch(t){case"keypress":if(_s(a)===0)break e;case"keydown":case"keyup":q=Nu;break;case"focusin":oe="focus",q=Es;break;case"focusout":oe="blur",q=Es;break;case"beforeblur":case"afterblur":q=Es;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Pg:case jg:case zg:q=Su;break;case Bg:q=S;break;case"scroll":case"scrollend":q=Lo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ki;break;case"toggle":case"beforetoggle":q=Ae}var ge=(n&4)!==0,et=!ge&&(t==="scroll"||t==="scrollend"),k=ge?z!==null?z+"Capture":null:z;ge=[];for(var M=j,P;M!==null;){var K=M;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=Fn(M,k),K!=null&&ge.push(dl(M,K,P))),et)break;M=M.return}0<ge.length&&(z=new q(z,oe,null,a,G),Q.push({event:z,listeners:ge}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&a!==Mo&&(oe=a.relatedTarget||a.fromElement)&&(ci(oe)||oe[li]))break e;if((q||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,q?(oe=a.relatedTarget||a.toElement,q=j,oe=oe?ci(oe):null,oe!==null&&(et=c(oe),ge=oe.tag,oe!==et||ge!==5&&ge!==27&&ge!==6)&&(oe=null)):(q=null,oe=j),q!==oe)){if(ge=Uo,K="onMouseLeave",k="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ge=ki,K="onPointerLeave",k="onPointerEnter",M="pointer"),et=q==null?z:mn(q),P=oe==null?z:mn(oe),z=new ge(K,M+"leave",q,a,G),z.target=et,z.relatedTarget=P,K=null,ci(G)===j&&(ge=new ge(k,M+"enter",oe,a,G),ge.target=P,ge.relatedTarget=et,K=ge),et=K,q&&oe)t:{for(ge=cb,k=q,M=oe,P=0,K=k;K;K=ge(K))P++;K=0;for(var he=M;he;he=ge(he))K++;for(;0<P-K;)k=ge(k),P--;for(;0<K-P;)M=ge(M),K--;for(;P--;){if(k===M||M!==null&&k===M.alternate){ge=k;break t}k=ge(k),M=ge(M)}ge=null}else ge=null;q!==null&&c_(Q,z,q,ge,!1),oe!==null&&et!==null&&c_(Q,et,oe,ge,!0)}}e:{if(z=j?mn(j):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Be=Ig;else if(wg(z))if(Cg)Be=T1;else{Be=v1;var ue=_1}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&ra(j.elementType)&&(Be=Ig):Be=E1;if(Be&&(Be=Be(t,j))){Rg(Q,Be,a,G);break e}ue&&ue(t,z,j),t==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&No(z,"number",z.value)}switch(ue=j?mn(j):window,t){case"focusin":(wg(ue)||ue.contentEditable==="true")&&(fa=ue,Qh=j,qo=null);break;case"focusout":qo=Qh=fa=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,Lg(Q,a,G);break;case"selectionchange":if(S1)break;case"keydown":case"keyup":Lg(Q,a,G)}var Ie;if(Fe)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else ha?Ts(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Ei&&a.locale!=="ko"&&(ha||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&ha&&(Ie=ko()):(pi=G,Vo="value"in pi?pi.value:pi.textContent,ha=!0)),ue=Ec(j,Oe),0<ue.length&&(Oe=new vi(Oe,t,null,a,G),Q.push({event:Oe,listeners:ue}),Ie?Oe.data=Ie:(Ie=ca(a),Ie!==null&&(Oe.data=Ie)))),(Ie=Cn?m1(t,a):g1(t,a))&&(Oe=Ec(j,"onBeforeInput"),0<Oe.length&&(ue=new vi("onBeforeInput","beforeinput",null,a,G),Q.push({event:ue,listeners:Oe}),ue.data=Ie)),ab(Q,t,j,a,G)}l_(Q,n)})}function dl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Ec(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Fn(t,a),h!=null&&o.unshift(dl(t,h,d)),h=Fn(t,n),h!=null&&o.push(dl(t,h,d))),t.tag===3)return o;t=t.return}return[]}function cb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function c_(t,n,a,o,h){for(var d=n._reactName,p=[];a!==null&&a!==o;){var E=a,x=E.alternate,j=E.stateNode;if(E=E.tag,x!==null&&x===o)break;E!==5&&E!==26&&E!==27||j===null||(x=j,h?(j=Fn(a,d),j!=null&&p.unshift(dl(a,j,x))):h||(j=Fn(a,d),j!=null&&p.push(dl(a,j,x)))),a=a.return}p.length!==0&&t.push({event:n,listeners:p})}var hb=/\r\n?/g,fb=/\u0000|\uFFFD/g;function h_(t){return(typeof t=="string"?t:""+t).replace(hb,`
`).replace(fb,"")}function f_(t,n){return n=h_(n),h_(t)===n}function We(t,n,a,o,h,d){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||an(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&an(t,""+o);break;case"className":gn(t,"class",o);break;case"tabIndex":gn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,a,o);break;case"style":Oo(t,o,d);break;case"data":if(n!=="object"){gn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=sa(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&We(t,n,"name",h.name,h,null),We(t,n,"formEncType",h.formEncType,h,null),We(t,n,"formMethod",h.formMethod,h,null),We(t,n,"formTarget",h.formTarget,h,null)):(We(t,n,"encType",h.encType,h,null),We(t,n,"method",h.method,h,null),We(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=sa(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Hn);break;case"onScroll":o!=null&&Ne("scroll",t);break;case"onScrollEnd":o!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=sa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),na(t,"popover",o);break;case"xlinkActuate":bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":bt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":bt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":bt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":bt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":na(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Eu.get(a)||a,na(t,a,o))}}function Ed(t,n,a,o,h,d){switch(a){case"style":Oo(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?an(t,o):(typeof o=="number"||typeof o=="bigint")&&an(t,""+o);break;case"onScroll":o!=null&&Ne("scroll",t);break;case"onScrollEnd":o!=null&&Ne("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):na(t,a,o)}}}function Kt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var p=a[d];if(p!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:We(t,n,d,p,a,null)}}h&&We(t,n,"srcSet",a.srcSet,a,null),o&&We(t,n,"src",a.src,a,null);return;case"input":Ne("invalid",t);var E=d=p=h=null,x=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":p=G;break;case"checked":x=G;break;case"defaultChecked":j=G;break;case"value":d=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:We(t,n,o,G,a,null)}}yu(t,d,E,x,j,p,h,!1);return;case"select":Ne("invalid",t),o=p=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:We(t,n,h,E,a,null)}n=d,a=p,t.multiple=!!o,n!=null?lr(t,!!o,n,!1):a!=null&&lr(t,!!o,a,!0);return;case"textarea":Ne("invalid",t),d=h=o=null;for(p in a)if(a.hasOwnProperty(p)&&(E=a[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:We(t,n,p,E,a,null)}ur(t,o,h,d);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(o=a[x],o!=null))switch(x){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:We(t,n,x,o,a,null)}return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(o=0;o<fl.length;o++)Ne(fl[o],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:We(t,n,j,o,a,null)}return;default:if(ra(n)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&Ed(t,n,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&We(t,n,E,o,a,null))}function db(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,p=null,E=null,x=null,j=null,G=null;for(q in a){var Q=a[q];if(a.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":x=Q;default:o.hasOwnProperty(q)||We(t,n,q,null,o,Q)}}for(var z in o){var q=o[z];if(Q=a[z],o.hasOwnProperty(z)&&(q!=null||Q!=null))switch(z){case"type":d=q;break;case"name":h=q;break;case"checked":j=q;break;case"defaultChecked":G=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==Q&&We(t,n,z,q,o,Q)}}ia(t,p,E,x,j,G,d,h);return;case"select":q=p=E=z=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":q=x;default:o.hasOwnProperty(d)||We(t,n,d,null,o,x)}for(h in o)if(d=o[h],x=a[h],o.hasOwnProperty(h)&&(d!=null||x!=null))switch(h){case"value":z=d;break;case"defaultValue":E=d;break;case"multiple":p=d;default:d!==x&&We(t,n,h,d,o,x)}n=E,a=p,o=q,z!=null?lr(t,!!a,z,!1):!!o!=!!a&&(n!=null?lr(t,!!a,n,!0):lr(t,!!a,a?[]:"",!1));return;case"textarea":q=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:We(t,n,E,null,o,h)}for(p in o)if(h=o[p],d=a[p],o.hasOwnProperty(p)&&(h!=null||d!=null))switch(p){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(t,n,p,h,o,d)}_u(t,z,q);return;case"option":for(var oe in a)if(z=a[oe],a.hasOwnProperty(oe)&&z!=null&&!o.hasOwnProperty(oe))switch(oe){case"selected":t.selected=!1;break;default:We(t,n,oe,null,o,z)}for(x in o)if(z=o[x],q=a[x],o.hasOwnProperty(x)&&z!==q&&(z!=null||q!=null))switch(x){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:We(t,n,x,z,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)z=a[ge],a.hasOwnProperty(ge)&&z!=null&&!o.hasOwnProperty(ge)&&We(t,n,ge,null,o,z);for(j in o)if(z=o[j],q=a[j],o.hasOwnProperty(j)&&z!==q&&(z!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:We(t,n,j,z,o,q)}return;default:if(ra(n)){for(var et in a)z=a[et],a.hasOwnProperty(et)&&z!==void 0&&!o.hasOwnProperty(et)&&Ed(t,n,et,void 0,o,z);for(G in o)z=o[G],q=a[G],!o.hasOwnProperty(G)||z===q||z===void 0&&q===void 0||Ed(t,n,G,z,o,q);return}}for(var k in a)z=a[k],a.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&We(t,n,k,null,o,z);for(Q in o)z=o[Q],q=a[Q],!o.hasOwnProperty(Q)||z===q||z==null&&q==null||We(t,n,Q,z,o,q)}function d_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],d=h.transferSize,p=h.initiatorType,E=h.duration;if(d&&E&&d_(p)){for(p=0,E=h.responseEnd,o+=1;o<a.length;o++){var x=a[o],j=x.startTime;if(j>E)break;var G=x.transferSize,Q=x.initiatorType;G&&d_(Q)&&(x=x.responseEnd,p+=G*(x<E?1:(E-j)/(x-j)))}if(--o,n+=8*(d+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Td=null,bd=null;function Tc(t){return t.nodeType===9?t:t.ownerDocument}function m_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function g_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Sd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ad=null;function gb(){var t=window.event;return t&&t.type==="popstate"?t===Ad?!1:(Ad=t,!0):(Ad=null,!1)}var p_=typeof setTimeout=="function"?setTimeout:void 0,pb=typeof clearTimeout=="function"?clearTimeout:void 0,y_=typeof Promise=="function"?Promise:void 0,yb=typeof queueMicrotask=="function"?queueMicrotask:typeof y_<"u"?function(t){return y_.resolve(null).then(t).catch(_b)}:p_;function _b(t){setTimeout(function(){throw t})}function Or(t){return t==="head"}function __(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),ja(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")ml(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,ml(a);for(var d=a.firstChild;d;){var p=d.nextSibling,E=d.nodeName;d[ui]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=p}}else a==="body"&&ml(t.ownerDocument.body);a=h}while(a);ja(n)}function v_(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function wd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wd(a),ta(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function vb(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ui])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function Eb(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=kn(t.nextSibling),t===null))return null;return t}function E_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=kn(t.nextSibling),t===null))return null;return t}function Rd(t){return t.data==="$?"||t.data==="$~"}function Id(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Tb(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function kn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Cd=null;function T_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return kn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function b_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function S_(t,n,a){switch(n=Tc(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function ml(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ta(t)}var Ln=new Map,A_=new Set;function bc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var $i=ne.d;ne.d={f:bb,r:Sb,D:Ab,C:wb,L:Rb,m:Ib,X:xb,S:Cb,M:Nb};function bb(){var t=$i.f(),n=dc();return t||n}function Sb(t){var n=wn(t);n!==null&&n.tag===5&&n.type==="form"?Bp(n):$i.r(t)}var La=typeof document>"u"?null:document;function w_(t,n,a){var o=La;if(o&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),A_.has(h)||(A_.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Kt(n,"link",t),Tt(n),o.head.appendChild(n)))}}function Ab(t){$i.D(t),w_("dns-prefetch",t,null)}function wb(t,n){$i.C(t,n),w_("preconnect",t,n)}function Rb(t,n,a){$i.L(t,n,a);var o=La;if(o&&t&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(t)+'"]';var d=h;switch(n){case"style":d=Ua(t);break;case"script":d=Pa(t)}Ln.has(d)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Ln.set(d,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(gl(d))||n==="script"&&o.querySelector(pl(d))||(n=o.createElement("link"),Kt(n,"link",t),Tt(n),o.head.appendChild(n)))}}function Ib(t,n){$i.m(t,n);var a=La;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(o)+'"][href="'+sn(t)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Pa(t)}if(!Ln.has(d)&&(t=A({rel:"modulepreload",href:t},n),Ln.set(d,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(pl(d)))return}o=a.createElement("link"),Kt(o,"link",t),Tt(o),a.head.appendChild(o)}}}function Cb(t,n,a){$i.S(t,n,a);var o=La;if(o&&t){var h=hi(o).hoistableStyles,d=Ua(t);n=n||"default";var p=h.get(d);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(gl(d)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Ln.get(d))&&xd(t,a);var x=p=o.createElement("link");Tt(x),Kt(x,"link",t),x._p=new Promise(function(j,G){x.onload=j,x.onerror=G}),x.addEventListener("load",function(){E.loading|=1}),x.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Sc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(d,p)}}}function xb(t,n){$i.X(t,n);var a=La;if(a&&t){var o=hi(a).hoistableScripts,h=Pa(t),d=o.get(h);d||(d=a.querySelector(pl(h)),d||(t=A({src:t,async:!0},n),(n=Ln.get(h))&&Nd(t,n),d=a.createElement("script"),Tt(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function Nb(t,n){$i.M(t,n);var a=La;if(a&&t){var o=hi(a).hoistableScripts,h=Pa(t),d=o.get(h);d||(d=a.querySelector(pl(h)),d||(t=A({src:t,async:!0,type:"module"},n),(n=Ln.get(h))&&Nd(t,n),d=a.createElement("script"),Tt(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function R_(t,n,a,o){var h=(h=Re.current)?bc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ua(a.href),a=hi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ua(a.href);var d=hi(h).hoistableStyles,p=d.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,p),(d=h.querySelector(gl(t)))&&!d._p&&(p.instance=d,p.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),d||Db(h,t,a,p.state))),n&&o===null)throw Error(s(528,""));return p}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Pa(a),a=hi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ua(t){return'href="'+sn(t)+'"'}function gl(t){return'link[rel="stylesheet"]['+t+"]"}function I_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function Db(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Kt(n,"link",a),Tt(n),t.head.appendChild(n))}function Pa(t){return'[src="'+sn(t)+'"]'}function pl(t){return"script[async]"+t}function C_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+sn(a.href)+'"]');if(o)return n.instance=o,Tt(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Tt(o),Kt(o,"style",h),Sc(o,a.precedence,t),n.instance=o;case"stylesheet":h=Ua(a.href);var d=t.querySelector(gl(h));if(d)return n.state.loading|=4,n.instance=d,Tt(d),d;o=I_(a),(h=Ln.get(h))&&xd(o,h),d=(t.ownerDocument||t).createElement("link"),Tt(d);var p=d;return p._p=new Promise(function(E,x){p.onload=E,p.onerror=x}),Kt(d,"link",o),n.state.loading|=4,Sc(d,a.precedence,t),n.instance=d;case"script":return d=Pa(a.src),(h=t.querySelector(pl(d)))?(n.instance=h,Tt(h),h):(o=a,(h=Ln.get(d))&&(o=A({},a),Nd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Tt(h),Kt(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Sc(o,a.precedence,t));return n.instance}function Sc(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function xd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Nd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ac=null;function x_(t,n,a){if(Ac===null){var o=new Map,h=Ac=new Map;h.set(a,o)}else h=Ac,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ui]||d[Et]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var p=d.getAttribute(n)||"";p=t+p;var E=o.get(p);E?E.push(d):o.set(p,[d])}}return o}function N_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function Ob(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function D_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Mb(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ua(o.href),d=n.querySelector(gl(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=wc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=d,Tt(d);return}d=n.ownerDocument||n,o=I_(o),(h=Ln.get(h))&&xd(o,h),d=d.createElement("link"),Tt(d);var p=d;p._p=new Promise(function(E,x){p.onload=E,p.onerror=x}),Kt(d,"link",o),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=wc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Dd=0;function Vb(t,n){return t.stylesheets&&t.count===0&&Ic(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Ic(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+n);0<t.imgBytes&&Dd===0&&(Dd=62500*mb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ic(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Dd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function wc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ic(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Rc=null;function Ic(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Rc=new Map,n.forEach(kb,t),Rc=null,wc.call(t))}function kb(t,n){if(!(n.state.loading&4)){var a=Rc.get(t);if(a)var o=a.get(null);else{a=new Map,Rc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var p=h[d];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),o=p)}o&&a.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),d=a.get(p)||o,d===o&&a.set(null,h),a.set(p,h),this.count++,o=wc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var yl={$$typeof:me,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Lb(t,n,a,o,h,d,p,E,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function O_(t,n,a,o,h,d,p,E,x,j,G,Q){return t=new Lb(t,n,a,p,x,j,G,Q,E),n=1,d===!0&&(n|=24),d=yn(3,null,null,n),t.current=d,d.stateNode=t,n=cf(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:n},mf(d),t}function M_(t){return t?(t=ga,t):ga}function V_(t,n,a,o,h,d){h=M_(h),o.context===null?o.context=h:o.pendingContext=h,o=Tr(n),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=br(t,o,n),a!==null&&(hn(a,t,n),Xo(a,t,n))}function k_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Od(t,n){k_(t,n),(t=t.alternate)&&k_(t,n)}function L_(t){if(t.tag===13||t.tag===31){var n=As(t,67108864);n!==null&&hn(n,t,67108864),Od(t,67108864)}}function U_(t){if(t.tag===13||t.tag===31){var n=bn();n=fs(n);var a=As(t,n);a!==null&&hn(a,t,n),Od(t,n)}}var Cc=!0;function Ub(t,n,a,o){var h=F.T;F.T=null;var d=ne.p;try{ne.p=2,Md(t,n,a,o)}finally{ne.p=d,F.T=h}}function Pb(t,n,a,o){var h=F.T;F.T=null;var d=ne.p;try{ne.p=8,Md(t,n,a,o)}finally{ne.p=d,F.T=h}}function Md(t,n,a,o){if(Cc){var h=Vd(o);if(h===null)vd(t,n,o,xc,a),j_(t,o);else if(zb(h,t,n,a,o))o.stopPropagation();else if(j_(t,o),n&4&&-1<jb.indexOf(t)){for(;h!==null;){var d=wn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var p=si(d.pendingLanes);if(p!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var x=1<<31-dt(p);E.entanglements[1]|=x,p&=~x}Ai(d),(Ge&6)===0&&(hc=tn()+500,hl(0))}}break;case 31:case 13:E=As(d,2),E!==null&&hn(E,d,2),dc(),Od(d,2)}if(d=Vd(o),d===null&&vd(t,n,o,xc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else vd(t,n,o,null,a)}}function Vd(t){return t=Rn(t),kd(t)}var xc=null;function kd(t){if(xc=null,t=ci(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=f(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return xc=t,null}function P_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ls()){case Eo:return 2;case To:return 8;case ar:case zh:return 32;case ou:return 268435456;default:return 32}default:return 32}}var Ld=!1,Mr=null,Vr=null,kr=null,_l=new Map,vl=new Map,Lr=[],jb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j_(t,n){switch(t){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":_l.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(n.pointerId)}}function El(t,n,a,o,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},n!==null&&(n=wn(n),n!==null&&L_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function zb(t,n,a,o,h){switch(n){case"focusin":return Mr=El(Mr,t,n,a,o,h),!0;case"dragenter":return Vr=El(Vr,t,n,a,o,h),!0;case"mouseover":return kr=El(kr,t,n,a,o,h),!0;case"pointerover":var d=h.pointerId;return _l.set(d,El(_l.get(d)||null,t,n,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,vl.set(d,El(vl.get(d)||null,t,n,a,o,h)),!0}return!1}function z_(t){var n=ci(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){t.blockedOn=n,Bn(t.priority,function(){U_(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,Bn(t.priority,function(){U_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Vd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Mo=o,a.target.dispatchEvent(o),Mo=null}else return n=wn(a),n!==null&&L_(n),t.blockedOn=a,!1;n.shift()}return!0}function B_(t,n,a){Nc(t)&&a.delete(n)}function Bb(){Ld=!1,Mr!==null&&Nc(Mr)&&(Mr=null),Vr!==null&&Nc(Vr)&&(Vr=null),kr!==null&&Nc(kr)&&(kr=null),_l.forEach(B_),vl.forEach(B_)}function Dc(t,n){t.blockedOn===n&&(t.blockedOn=null,Ld||(Ld=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Bb)))}var Oc=null;function q_(t){Oc!==t&&(Oc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Oc===t&&(Oc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(kd(o||a)===null)continue;break}var d=wn(a);d!==null&&(t.splice(n,3),n-=3,Vf(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function ja(t){function n(x){return Dc(x,t)}Mr!==null&&Dc(Mr,t),Vr!==null&&Dc(Vr,t),kr!==null&&Dc(kr,t),_l.forEach(n),vl.forEach(n);for(var a=0;a<Lr.length;a++){var o=Lr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Lr.length&&(a=Lr[0],a.blockedOn===null);)z_(a),a.blockedOn===null&&Lr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],p=h[Lt]||null;if(typeof d=="function")p||q_(a);else if(p){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,p=d[Lt]||null)E=p.formAction;else if(kd(h)!==null)continue}else E=p.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),q_(a)}}}function H_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ud(t){this._internalRoot=t}Mc.prototype.render=Ud.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=bn();V_(a,o,t,n,null,null)},Mc.prototype.unmount=Ud.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;V_(t.current,2,null,t,null,null),dc(),n[li]=null}};function Mc(t){this._internalRoot=t}Mc.prototype.unstable_scheduleHydration=function(t){if(t){var n=du();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Lr.length&&n!==0&&n<Lr[a].priority;a++);Lr.splice(a,0,t),a===0&&z_(t)}};var F_=e.version;if(F_!=="19.2.4")throw Error(s(527,F_,"19.2.4"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var qb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{jn=Vc.inject(qb),Bt=Vc}catch{}}return bl.createRoot=function(t,n){if(!l(t))throw Error(s(299));var a=!1,o="",h=Jp,d=Zp,p=Wp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=O_(t,1,!1,null,null,a,o,null,h,d,p,H_),t[li]=n.current,_d(t),new Ud(n)},bl.hydrateRoot=function(t,n,a){if(!l(t))throw Error(s(299));var o=!1,h="",d=Jp,p=Zp,E=Wp,x=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),n=O_(t,1,!0,n,a??null,o,h,x,d,p,E,H_),n.context=M_(null),a=n.current,o=bn(),o=fs(o),h=Tr(o),h.callback=null,br(a,h,o),a=o,n.current.lanes=a,cs(n,a),Ai(n),t[li]=n.current,_d(t),new Mc(n)},bl.version="19.2.4",bl}var e0;function Zb(){if(e0)return zd.exports;e0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),zd.exports=Jb(),zd.exports}var Wb=Zb();const eS=Vv(Wb);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=r=>{const e=nS(r);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=Se.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:f,...g},y)=>Se.createElement("svg",{ref:y,...iS,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:kv("lucide",l),...!c&&!rS(g)&&{"aria-hidden":"true"},...g},[...f.map(([_,b])=>Se.createElement(_,b)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=(r,e)=>{const i=Se.forwardRef(({className:s,...l},c)=>Se.createElement(sS,{ref:c,iconNode:e,className:kv(`lucide-${tS(t0(r))}`,`lucide-${r}`,s),...l}));return i.displayName=t0(r),i};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Lv=He("arrow-right",aS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]],lS=He("bike",oS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],cS=He("building",uS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["path",{d:"M4 6 2 7",key:"1mqr15"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"m22 7-2-1",key:"1umjhc"}],["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M16 15h.01",key:"rnfrdf"}],["path",{d:"M6 19v2",key:"1loha6"}],["path",{d:"M18 21v-2",key:"sqyl04"}]],fS=He("bus-front",hS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Wc=He("calendar",dS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"m21 8-2 2-1.5-3.7A2 2 0 0 0 15.646 5H8.4a2 2 0 0 0-1.903 1.257L5 10 3 8",key:"1imjwt"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 14h.01",key:"7oqj8z"}],["rect",{width:"18",height:"8",x:"3",y:"10",rx:"2",key:"a7itu8"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]],gS=He("car-front",mS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],yS=He("car",pS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Uv=He("chevron-down",_S);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Pv=He("chevron-up",vS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],TS=He("circle-alert",ES);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],SS=He("circle-check-big",bS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Mm=He("circle-plus",AS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],RS=He("eye-off",wS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],CS=He("file-plus",IS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],jv=He("history",xS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],Ga=He("indian-rupee",NS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],OS=He("lock-open",DS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],im=He("lock",MS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],kS=He("log-in",VS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],US=He("log-out",LS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],jS=He("mail",PS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M9.5 8h5",key:"11mslq"}],["path",{d:"M9.5 12H16",key:"ktog6x"}],["path",{d:"M9.5 16H14",key:"p1seyn"}]],BS=He("notebook-text",zS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["path",{d:"M2 22h20",key:"272qi7"}],["path",{d:"M6.36 17.4 4 17l-2-4 1.1-.55a2 2 0 0 1 1.8 0l.17.1a2 2 0 0 0 1.8 0L8 12 5 6l.9-.45a2 2 0 0 1 2.09.2l4.02 3a2 2 0 0 0 2.1.2l4.19-2.06a2.41 2.41 0 0 1 1.73-.17L21 7a1.4 1.4 0 0 1 .87 1.99l-.38.76c-.23.46-.6.84-1.07 1.08L7.58 17.2a2 2 0 0 1-1.22.18Z",key:"fkigj9"}]],rm=He("plane-takeoff",qS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],FS=He("save",HS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],zv=He("square-pen",GS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["path",{d:"M8 3.1V7a4 4 0 0 0 8 0V3.1",key:"1v71zp"}],["path",{d:"m9 15-1-1",key:"1yrq24"}],["path",{d:"m15 15 1-1",key:"1t0d6s"}],["path",{d:"M9 19c-2.8 0-5-2.2-5-5v-4a8 8 0 0 1 16 0v4c0 2.8-2.2 5-5 5Z",key:"1p0hjs"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m16 19 2 3",key:"xo31yx"}]],QS=He("train-front",KS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],sm=He("trash-2",YS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Vm=He("triangle-alert",XS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],JS=He("user-plus",$S);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],WS=He("user",ZS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],n0=He("utensils",eA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Bv=He("x",tA),nA=({onStartTour:r})=>{const[e,i]=Se.useState(""),[s,l]=Se.useState(new Date().toISOString().split("T")[0]),[c,f]=Se.useState(new Date().toISOString().split("T")[0]),[g,y]=Se.useState(""),[_,b]=Se.useState(""),A=C=>{if(C.preventDefault(),!e||!s||!c||!g){b("Please fill all fields.");return}if(new Date(s)>new Date(c)){b("Start date cannot be after end date.");return}if(parseFloat(g)<0){b("Advance amount cannot be negative.");return}b(""),r({name:e,startDate:s,endDate:c,advance:parseFloat(g)})};return T.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-indigo-50 max-w-2xl mx-auto overflow-hidden animate-fade-in-up",children:[T.jsxs("div",{className:"bg-indigo-700 p-6 text-center",children:[T.jsx("h2",{className:"text-2xl md:text-3xl font-extrabold text-white tracking-wide",children:"Plan New Trip"}),T.jsx("p",{className:"text-indigo-200 text-sm mt-1",children:"Enter details to start tracking expenses"})]}),T.jsxs("form",{onSubmit:A,className:"p-8 space-y-6",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Tour / Trip Name"}),T.jsxs("div",{className:"relative",children:[T.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:T.jsx(BS,{className:"h-5 w-5 text-indigo-500"})}),T.jsx("input",{type:"text",placeholder:"e.g., Goa Vacation, Client Visit Mumbai",value:e,onChange:C=>i(C.target.value),className:"w-full pl-10 pr-4 py-3.5 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all font-medium text-gray-800"})]})]}),T.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Start Date"}),T.jsxs("div",{className:"relative",children:[T.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:T.jsx(Wc,{className:"h-5 w-5 text-indigo-500"})}),T.jsx("input",{type:"date",value:s,onChange:C=>l(C.target.value),className:"w-full pl-10 pr-4 py-3.5 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all font-medium text-gray-800"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"End Date"}),T.jsxs("div",{className:"relative",children:[T.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:T.jsx(Wc,{className:"h-5 w-5 text-indigo-500"})}),T.jsx("input",{type:"date",value:c,min:s,onChange:C=>f(C.target.value),className:"w-full pl-10 pr-4 py-3.5 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all font-medium text-gray-800"})]})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Company Advance / Budget"}),T.jsxs("div",{className:"relative",children:[T.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:T.jsx(Ga,{className:"h-5 w-5 text-green-600"})}),T.jsx("input",{type:"number",placeholder:"0",value:g,onChange:C=>y(C.target.value),className:"w-full pl-10 pr-4 py-3.5 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all font-bold text-lg text-gray-900"})]})]}),_&&T.jsxs("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm font-medium border border-red-100 flex items-center gap-2",children:[T.jsx("span",{className:"w-1.5 h-1.5 bg-red-600 rounded-full"}),_]}),T.jsxs("button",{type:"submit",className:"w-full bg-indigo-600 text-white font-bold py-4 px-6 rounded-xl hover:bg-indigo-700 focus:outline-none focus:ring-4 focus:ring-indigo-200 flex items-center justify-center gap-2 transition-all transform active:scale-95 shadow-lg shadow-indigo-200 mt-2",children:[T.jsx(Mm,{className:"h-5 w-5"}),T.jsx("span",{children:"Start Tour"}),T.jsx(Lv,{className:"h-4 w-4 opacity-70"})]})]})]})};var Ct=(r=>(r.Cab="Cab",r.BikeTaxi="Bike Taxi",r.Auto="Auto",r.FoodLunch="Food - Lunch",r.FoodDinner="Food - Dinner",r.Train="Train",r.Bus="Bus",r.Hotel="Hotel",r.Other="Other",r))(Ct||{}),Ka=(r=>(r.Cash="Cash",r.Online="Online Payment",r.UPI="UPI",r.Card="Card",r))(Ka||{});const iA=[Ct.Cab,Ct.BikeTaxi,Ct.Auto,Ct.FoodLunch,Ct.FoodDinner,Ct.Train,Ct.Bus,Ct.Hotel,Ct.Other],Sl=[Ka.Cash,Ka.Online,Ka.UPI,Ka.Card],rA={[Ct.Cab]:Jn.createElement(yS,{size:24,className:"text-yellow-600"}),[Ct.BikeTaxi]:Jn.createElement(lS,{size:24,className:"text-blue-500"}),[Ct.Auto]:Jn.createElement(gS,{size:24,className:"text-green-600"}),[Ct.FoodLunch]:Jn.createElement(n0,{size:24,className:"text-orange-500"}),[Ct.FoodDinner]:Jn.createElement(n0,{size:24,className:"text-red-500"}),[Ct.Train]:Jn.createElement(QS,{size:24,className:"text-blue-500"}),[Ct.Bus]:Jn.createElement(fS,{size:24,className:"text-indigo-500"}),[Ct.Hotel]:Jn.createElement(cS,{size:24,className:"text-purple-500"}),[Ct.Other]:Jn.createElement(CS,{size:24,className:"text-gray-500"})},qv=({onSubmit:r,onUpdate:e,onClose:i,expenseToEdit:s})=>{var me;const[l,c]=Se.useState((s==null?void 0:s.category)||Ct.FoodLunch),[f,g]=Se.useState((s==null?void 0:s.amount.toString())||""),[y,_]=Se.useState((s==null?void 0:s.paymentMode)||Ka.UPI),[b,A]=Se.useState(((me=s==null?void 0:s.datetime)==null?void 0:me.split("T")[0])||new Date().toISOString().split("T")[0]),[C,H]=Se.useState(s!=null&&s.datetime?new Date(s.datetime).toTimeString().slice(0,5):new Date().toTimeString().slice(0,5)),[J,Z]=Se.useState((s==null?void 0:s.description)||""),[W,ce]=Se.useState("");Se.useEffect(()=>{s&&(c(s.category),g(s.amount.toString()),_(s.paymentMode),A(s.datetime.split("T")[0]),H(new Date(s.datetime).toTimeString().slice(0,5)),Z(s.description||""))},[s]);const le=ee=>{if(ee.preventDefault(),!f||parseFloat(f)<=0){ce("Please enter a valid amount.");return}ce("");const Ee={category:l,amount:parseFloat(f),paymentMode:y,datetime:`${b}T${C}`,description:J};s?e({...Ee,id:s.id}):r(Ee),i()};return T.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-70 flex justify-center items-center p-4 z-50 backdrop-blur-sm",children:T.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative animate-fade-in-up overflow-hidden",children:[T.jsxs("div",{className:"bg-indigo-600 p-5 flex justify-between items-center text-white",children:[T.jsx("h3",{className:"text-xl font-bold tracking-wide",children:s?"Edit Expense":"Add New Expense"}),T.jsx("button",{onClick:i,className:"p-1 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-full transition-colors",children:T.jsx(Bv,{size:20})})]}),T.jsxs("form",{onSubmit:le,className:"p-6 space-y-5",children:[T.jsxs("div",{className:"bg-indigo-50 p-4 rounded-xl border border-indigo-100",children:[T.jsx("label",{className:"block text-xs font-bold text-indigo-800 uppercase tracking-wider mb-2 text-center",children:"Amount Spent"}),T.jsxs("div",{className:"relative flex items-center justify-center",children:[T.jsx(Ga,{className:"absolute left-4 text-indigo-600 h-8 w-8"}),T.jsx("input",{type:"number",value:f,onChange:ee=>g(ee.target.value),className:"w-full bg-white p-3 pl-12 text-center text-3xl font-extrabold text-indigo-900 rounded-lg border-2 border-indigo-200 focus:border-indigo-600 focus:outline-none placeholder-indigo-200",placeholder:"0",autoFocus:!0})]})]}),T.jsx("div",{className:"grid grid-cols-1 gap-4",children:T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1.5",children:"Category"}),T.jsx("select",{value:l,onChange:ee=>c(ee.target.value),className:"w-full p-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 font-medium text-gray-800",children:iA.map(ee=>T.jsx("option",{value:ee,children:ee},ee))})]})}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1.5",children:"Date"}),T.jsx("input",{type:"date",value:b,onChange:ee=>A(ee.target.value),className:"w-full p-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1.5",children:"Time"}),T.jsx("input",{type:"time",value:C,onChange:ee=>H(ee.target.value),className:"w-full p-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1.5",children:"Payment Mode"}),T.jsxs("div",{className:"flex gap-2 bg-gray-100 p-1.5 rounded-lg",children:[Sl.slice(0,2).map(ee=>T.jsx("button",{type:"button",onClick:()=>_(ee),className:`flex-1 py-2 text-xs font-bold rounded-md transition-all ${y===ee?"bg-white text-indigo-700 shadow-sm":"text-gray-500 hover:bg-gray-200"}`,children:ee},ee)),T.jsxs("select",{value:Sl.includes(y)&&!Sl.slice(0,2).includes(y)?y:"",onChange:ee=>_(ee.target.value),className:`flex-1 bg-transparent text-xs font-bold text-center outline-none ${Sl.slice(0,2).includes(y)?"text-gray-500":"text-indigo-700"}`,children:[T.jsx("option",{value:"",disabled:!0,children:"More..."}),Sl.slice(2).map(ee=>T.jsx("option",{value:ee,children:ee},ee))]})]})]}),T.jsxs("div",{children:[T.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-1.5",children:["Description ",T.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),T.jsx("textarea",{value:J,onChange:ee=>Z(ee.target.value),className:"w-full p-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none text-sm",rows:2,placeholder:"Details about the expense..."})]}),W&&T.jsx("p",{className:"text-red-500 text-sm font-semibold text-center",children:W}),T.jsxs("div",{className:"flex gap-3 pt-2",children:[T.jsx("button",{type:"button",onClick:i,className:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-xl font-bold hover:bg-gray-200 transition-colors",children:"Cancel"}),T.jsxs("button",{type:"submit",className:"flex-[2] px-4 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 shadow-lg shadow-indigo-200 flex justify-center items-center gap-2 transition-transform active:scale-95",children:[T.jsx(FS,{size:18}),s?"Update Expense":"Save Expense"]})]})]})]})})},i0=({title:r,amount:e,color:i,textColor:s,icon:l})=>T.jsxs("div",{className:`p-5 rounded-xl shadow-lg flex items-center gap-5 border border-opacity-20 ${i} border-black`,children:[T.jsx("div",{className:"p-3 bg-white bg-opacity-30 rounded-full shadow-sm text-white",children:l}),T.jsxs("div",{children:[T.jsx("p",{className:`text-sm font-bold uppercase tracking-wider ${s}`,children:r}),T.jsx("p",{className:"text-3xl font-extrabold text-white mt-1 drop-shadow-sm",children:e.toLocaleString("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0})})]})]}),sA=({onConfirm:r,onCancel:e})=>T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center p-4 z-[60] backdrop-blur-sm animate-fade-in-up",children:T.jsx("div",{className:"bg-white rounded-xl shadow-2xl p-6 w-full max-w-sm border-2 border-red-100",children:T.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[T.jsx("div",{className:"p-4 bg-red-100 rounded-full text-red-600",children:T.jsx(Vm,{size:32})}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-xl font-extrabold text-gray-900",children:"Delete Expense?"}),T.jsx("p",{className:"text-gray-500 mt-2 font-medium",children:"This action cannot be undone."})]}),T.jsxs("div",{className:"flex gap-3 w-full pt-2",children:[T.jsx("button",{onClick:e,className:"flex-1 px-4 py-2.5 bg-gray-100 text-gray-700 font-bold rounded-lg hover:bg-gray-200 transition",children:"Cancel"}),T.jsx("button",{onClick:r,className:"flex-1 px-4 py-2.5 bg-red-600 text-white font-bold rounded-lg hover:bg-red-700 shadow-md transition",children:"Delete"})]})]})})}),aA=({tour:r,totalExpenses:e,onConfirm:i,onClose:s})=>{const[l,c]=Se.useState(new Date().toISOString().split("T")[0]),f=r.advance-e;return T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center p-4 z-50 backdrop-blur-sm",children:T.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 w-full max-w-lg relative animate-fade-in-up border border-gray-200",children:[T.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-800 transition",children:T.jsx(Bv,{size:26})}),T.jsx("h3",{className:"text-2xl font-extrabold text-gray-900 mb-4",children:"Confirm Tour Completion"}),T.jsxs("div",{className:"mb-6 bg-yellow-50 p-4 rounded-xl border border-yellow-100 text-yellow-900 text-sm font-medium flex gap-3 items-start",children:[T.jsx(Vm,{className:"shrink-0 text-yellow-600 mt-0.5",size:20}),T.jsxs("p",{children:["Are you sure you want to complete ",T.jsx("strong",{className:"text-indigo-700",children:r.name}),"?",T.jsx("br",{}),T.jsx("span",{className:"text-yellow-700 text-xs mt-1 block opacity-90",children:"This will close active tracking and move this trip to your history archive."})]})]}),T.jsxs("div",{className:"space-y-4 bg-gray-50 p-5 rounded-xl border border-gray-200",children:[T.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-3 text-base",children:[T.jsx("span",{className:"font-bold text-gray-700",children:"Start Date:"}),T.jsx("span",{className:"text-gray-900",children:new Date(r.startDate).toLocaleDateString()}),T.jsx("span",{className:"font-bold text-gray-700",children:"Planned End:"}),T.jsx("span",{className:"text-gray-900",children:new Date(r.endDate).toLocaleDateString()})]}),T.jsxs("div",{className:"border-t border-gray-300 pt-4 mt-2",children:[T.jsx("label",{htmlFor:"completionDate",className:"block text-sm font-bold text-gray-800 mb-2",children:"Actual Completion Date"}),T.jsx("input",{id:"completionDate",type:"date",value:l,onChange:g=>c(g.target.value),min:r.startDate,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-gray-900 font-medium"})]})]}),T.jsxs("div",{className:"mt-6 space-y-3 text-lg",children:[T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsx("span",{className:"text-gray-600 font-medium",children:"Company Advance:"})," ",T.jsx("span",{className:"font-bold text-gray-900",children:r.advance.toLocaleString("en-IN",{style:"currency",currency:"INR"})})]}),T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsx("span",{className:"text-gray-600 font-medium",children:"Total Expenses:"})," ",T.jsx("span",{className:"font-bold text-orange-600",children:e.toLocaleString("en-IN",{style:"currency",currency:"INR"})})]}),T.jsxs("div",{className:`flex justify-between items-center font-extrabold text-xl border-t-2 pt-3 mt-2 ${f<0?"text-red-600 border-red-100":"text-green-600 border-green-100"}`,children:[T.jsx("span",{children:f<0?"Overspent:":"Balance:"}),T.jsx("span",{children:f.toLocaleString("en-IN",{style:"currency",currency:"INR"})})]})]}),T.jsxs("div",{className:"flex justify-end gap-3 pt-8",children:[T.jsx("button",{type:"button",onClick:s,className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-bold transition",children:"Cancel"}),T.jsx("button",{type:"button",onClick:()=>i(l),className:"px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-bold shadow-md transition transform active:scale-95",children:"Confirm & Complete"})]})]})})},oA=({tour:r,totalExpenses:e,onAddExpense:i,onUpdateExpense:s,onDeleteExpense:l,onCompleteTour:c,isHistoryVisible:f,onToggleHistory:g,hasHistory:y})=>{const[_,b]=Se.useState(!1),[A,C]=Se.useState(null),[H,J]=Se.useState(!1),[Z,W]=Se.useState(null),ce=r.advance-e,le=ce<0,me=w=>{C(w),b(!0)},ee=w=>{W(w)},Ee=()=>{Z&&(l(Z),W(null))},Ce=()=>{C(null),b(!0)},D=w=>{if(new Date(w)<new Date(r.startDate)){alert("Completion date cannot be before the tour start date.");return}c(w),J(!1)};return T.jsxs("div",{className:"space-y-8 animate-fade-in-up",children:[T.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md border-l-8 border-indigo-600 flex justify-between items-center flex-wrap gap-4",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:r.name}),T.jsxs("div",{className:"flex items-center gap-2 text-indigo-700 font-medium mt-2 bg-indigo-50 px-3 py-1 rounded-full w-fit",children:[T.jsx(Wc,{size:18}),T.jsxs("span",{children:[new Date(r.startDate).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}),"  ",new Date(r.endDate).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})]})]})]}),T.jsxs("div",{className:"text-right",children:[T.jsx("p",{className:"text-sm text-gray-500 font-semibold uppercase tracking-wide",children:"Status"}),T.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-green-100 text-green-800 border border-green-200",children:[T.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),"Active Tour"]})]})]}),T.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[T.jsx(i0,{title:"Company Advance",amount:r.advance,color:"bg-gradient-to-br from-blue-500 to-blue-600",textColor:"text-blue-100",icon:T.jsx(Ga,{size:28})}),T.jsx(i0,{title:"Total Spent",amount:e,color:"bg-gradient-to-br from-orange-500 to-orange-600",textColor:"text-orange-100",icon:T.jsx(Ga,{size:28})}),T.jsxs("div",{className:`p-5 rounded-xl shadow-lg flex items-center gap-5 border border-opacity-20 ${le?"bg-gradient-to-br from-red-500 to-red-600":"bg-gradient-to-br from-green-500 to-green-600"} border-black`,children:[T.jsx("div",{className:"p-3 bg-white bg-opacity-30 rounded-full shadow-sm text-white",children:T.jsx(Ga,{size:28})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm font-bold uppercase tracking-wider text-white opacity-90",children:"Balance"}),T.jsx("p",{className:"text-3xl font-extrabold text-white mt-1 drop-shadow-sm",children:ce.toLocaleString("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0})}),le&&T.jsx("p",{className:"text-xs font-bold text-white bg-red-800 bg-opacity-30 px-2 py-0.5 rounded mt-1 inline-block",children:"Overspent"})]})]})]}),T.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[T.jsxs("div",{className:"flex justify-between items-center p-6 bg-gray-50 border-b border-gray-200",children:[T.jsx("h3",{className:"text-xl font-extrabold text-gray-800",children:"Expense Log"}),T.jsxs("button",{onClick:Ce,className:"bg-indigo-600 text-white font-bold py-2.5 px-5 rounded-xl hover:bg-indigo-700 flex items-center gap-2 transition-all transform hover:scale-105 shadow-md",children:[T.jsx(Mm,{size:20}),"Add New"]})]}),T.jsx("div",{className:"divide-y divide-gray-100",children:r.expenses.length===0?T.jsxs("div",{className:"text-center py-16 px-4",children:[T.jsx("div",{className:"bg-gray-100 p-4 rounded-full inline-block mb-3",children:T.jsx(Ga,{size:32,className:"text-gray-400"})}),T.jsx("p",{className:"text-gray-500 text-lg font-medium",children:"No expenses recorded yet."}),T.jsx("p",{className:"text-gray-400 text-sm mt-1",children:'Click "Add New" to start tracking.'})]}):r.expenses.sort((w,R)=>new Date(R.datetime).getTime()-new Date(w.datetime).getTime()).map(w=>T.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-5 hover:bg-gray-50 transition-colors duration-200 gap-4",children:[T.jsxs("div",{className:"flex items-start gap-4",children:[T.jsx("div",{className:"p-3 bg-indigo-50 rounded-xl text-indigo-600 mt-1",children:Jn.cloneElement(rA[w.category],{size:28})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-lg font-bold text-gray-900",children:w.category}),T.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 mt-1 text-sm font-medium text-gray-600",children:[T.jsx("span",{children:new Date(w.datetime).toLocaleDateString("en-GB",{day:"2-digit",month:"short"})}),T.jsx("span",{className:"w-1 h-1 bg-gray-400 rounded-full"}),T.jsx("span",{children:new Date(w.datetime).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}),T.jsx("span",{className:"w-1 h-1 bg-gray-400 rounded-full"}),T.jsx("span",{className:"text-indigo-600 bg-indigo-50 px-2 py-0.5 rounded text-xs uppercase tracking-wide",children:w.paymentMode})]}),w.description&&T.jsx("p",{className:"text-sm text-gray-500 mt-1.5 italic border-l-2 border-gray-300 pl-2",children:w.description})]})]}),T.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-5 w-full sm:w-auto mt-2 sm:mt-0 pt-3 sm:pt-0 border-t sm:border-0 border-gray-100",children:[T.jsx("span",{className:"text-xl font-bold text-white bg-indigo-600 px-4 py-2 rounded-lg shadow-sm font-mono tracking-wide",children:w.amount.toLocaleString("en-IN",{style:"currency",currency:"INR"})}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("button",{onClick:R=>{R.stopPropagation(),me(w)},className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:T.jsx(zv,{size:20})}),T.jsx("button",{onClick:R=>{R.stopPropagation(),ee(w.id)},className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:T.jsx(sm,{size:20})})]})]})]},w.id))})]}),T.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 pb-4",children:[y&&T.jsxs("button",{onClick:g,className:`w-full font-bold py-4 px-6 rounded-xl border flex items-center justify-center gap-3 transition-transform transform active:scale-95 shadow-sm ${f?"bg-indigo-100 text-indigo-800 border-indigo-200":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:[f?T.jsx(RS,{size:22}):T.jsx(jv,{size:22}),f?"Hide Completed Tours":"View Past Tours History"]}),T.jsxs("button",{onClick:()=>J(!0),className:"w-full bg-green-600 text-white font-bold py-4 px-6 rounded-xl hover:bg-green-700 flex items-center justify-center gap-3 transition-transform transform active:scale-95 shadow-lg shadow-green-200",children:[T.jsx(SS,{size:22}),"Complete & Close Tour"]})]}),_&&T.jsx(qv,{onSubmit:i,onUpdate:s,onClose:()=>b(!1),expenseToEdit:A}),H&&T.jsx(aA,{tour:r,totalExpenses:e,onClose:()=>J(!1),onConfirm:D}),Z&&T.jsx(sA,{onConfirm:Ee,onCancel:()=>W(null)})]})},lA=({title:r,onConfirm:e,onCancel:i})=>T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center p-4 z-[60] backdrop-blur-sm animate-fade-in-up",children:T.jsx("div",{className:"bg-white rounded-xl shadow-2xl p-6 w-full max-w-sm border-2 border-red-100",children:T.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[T.jsx("div",{className:"p-4 bg-red-100 rounded-full text-red-600",children:T.jsx(Vm,{size:32})}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-xl font-extrabold text-gray-900",children:r}),T.jsx("p",{className:"text-gray-500 mt-2 font-medium",children:"This action cannot be undone."})]}),T.jsxs("div",{className:"flex gap-3 w-full pt-2",children:[T.jsx("button",{onClick:i,className:"flex-1 px-4 py-2.5 bg-gray-100 text-gray-700 font-bold rounded-lg hover:bg-gray-200 transition",children:"Cancel"}),T.jsx("button",{onClick:e,className:"flex-1 px-4 py-2.5 bg-red-600 text-white font-bold rounded-lg hover:bg-red-700 shadow-md transition",children:"Delete"})]})]})})}),uA=({tour:r,onUpdateTour:e,onDeleteTour:i})=>{const[s,l]=Se.useState(!1),[c,f]=Se.useState(!1),[g,y]=Se.useState(!1),[_,b]=Se.useState(null),[A,C]=Se.useState(null),H=r.expenses.reduce((ee,Ee)=>ee+Ee.amount,0),J=r.advance-H,Z=J<0,W=ee=>{ee.stopPropagation(),f(!0)},ce=ee=>{const Ee={...ee,id:Date.now().toString()},Ce={...r,expenses:[...r.expenses,Ee]};e(Ce)},le=ee=>{const Ee={...r,expenses:r.expenses.map(Ce=>Ce.id===ee.id?ee:Ce)};e(Ee)},me=()=>{if(A){if(A.type==="expense"){const ee={...r,expenses:r.expenses.filter(Ee=>Ee.id!==A.id)};e(ee)}else A.type==="tour"&&i(A.id);C(null)}};return T.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[T.jsxs("div",{onClick:()=>l(!s),className:"flex flex-col md:flex-row md:items-center justify-between p-5 cursor-pointer bg-gradient-to-r from-gray-50 to-white hover:from-gray-100 hover:to-gray-50 transition-colors",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("h4",{className:"font-extrabold text-xl text-gray-900",children:r.name}),T.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-600 mt-2",children:[T.jsx(Wc,{size:16,className:"text-indigo-600"}),T.jsxs("span",{children:[new Date(r.startDate).toLocaleDateString("en-GB"),"  ",r.completionDate?new Date(r.completionDate).toLocaleDateString("en-GB"):"Ongoing"]})]})]}),T.jsxs("div",{className:"flex items-center justify-between md:justify-end gap-6 mt-4 md:mt-0",children:[T.jsxs("div",{className:"text-right",children:[T.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:"Balance"}),T.jsx("p",{className:`font-bold text-lg ${Z?"text-red-600":"text-green-600"}`,children:J.toLocaleString("en-IN",{style:"currency",currency:"INR"})})]}),s?T.jsx(Pv,{className:"text-gray-400"}):T.jsx(Uv,{className:"text-gray-400"})]})]}),s&&T.jsxs("div",{className:"border-t border-gray-200 bg-white",children:[T.jsxs("div",{className:"bg-gray-50 px-5 py-3 flex justify-between items-center border-b border-gray-100",children:[T.jsx("span",{className:"text-sm font-semibold text-gray-500",children:"Details & Editing"}),c?T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsxs("button",{onClick:()=>{b(null),y(!0)},className:"flex items-center gap-1.5 px-3 py-1.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-full text-xs font-bold transition shadow-sm",children:[T.jsx(Mm,{size:14})," Add New"]}),T.jsxs("button",{onClick:ee=>{ee.stopPropagation(),f(!1)},className:"flex items-center gap-1.5 px-3 py-1.5 bg-green-100 hover:bg-green-200 text-green-800 rounded-full text-xs font-bold transition border border-green-200",children:[T.jsx(OS,{size:14})," Finish"]}),T.jsx("button",{onClick:()=>C({type:"tour",id:r.id}),className:"flex items-center gap-1.5 px-3 py-1.5 bg-red-100 hover:bg-red-200 text-red-700 rounded-full text-xs font-bold transition border border-red-200 ml-2",title:"Delete this entire tour",children:T.jsx(sm,{size:14})})]}):T.jsxs("button",{onClick:W,className:"flex items-center gap-2 px-4 py-1.5 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-full text-xs font-bold transition shadow-sm",children:[T.jsx(im,{size:14})," Unlock to Edit"]})]}),T.jsxs("div",{className:"p-5",children:[T.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6 text-center",children:[T.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-100",children:[T.jsx("p",{className:"text-xs font-bold text-blue-700 uppercase",children:"Advance"}),T.jsx("p",{className:"font-extrabold text-blue-900 text-lg",children:r.advance.toLocaleString("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0})})]}),T.jsxs("div",{className:"p-3 bg-orange-50 rounded-lg border border-orange-100",children:[T.jsx("p",{className:"text-xs font-bold text-orange-700 uppercase",children:"Expenses"}),T.jsx("p",{className:"font-extrabold text-orange-900 text-lg",children:H.toLocaleString("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0})})]}),T.jsxs("div",{className:`p-3 rounded-lg border ${Z?"bg-red-50 border-red-100":"bg-green-50 border-green-100"}`,children:[T.jsx("p",{className:`text-xs font-bold uppercase ${Z?"text-red-700":"text-green-700"}`,children:"Balance"}),T.jsx("p",{className:`font-extrabold text-lg ${Z?"text-red-900":"text-green-900"}`,children:J.toLocaleString("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0})})]})]}),T.jsx("h5",{className:"font-bold text-gray-800 mb-3 text-lg border-b pb-2",children:"Expense History"}),T.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto pr-1 custom-scrollbar",children:r.expenses.length>0?r.expenses.sort((ee,Ee)=>new Date(Ee.datetime).getTime()-new Date(ee.datetime).getTime()).map(ee=>T.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow group",children:[T.jsxs("div",{className:"flex-1",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("p",{className:"font-bold text-gray-900 text-base",children:ee.category}),T.jsx("span",{className:"text-xs font-semibold text-gray-500 bg-gray-100 px-2 py-0.5 rounded-full",children:ee.paymentMode})]}),T.jsx("p",{className:"text-sm font-medium text-gray-600 mt-1",children:new Date(ee.datetime).toLocaleString("en-GB",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"})}),ee.description&&T.jsx("p",{className:"text-sm text-gray-500 italic mt-1",children:ee.description})]}),T.jsxs("div",{className:"flex flex-col items-end gap-2",children:[T.jsx("span",{className:"font-bold text-white text-md bg-indigo-600 px-3 py-1.5 rounded-lg shadow-sm",children:ee.amount.toLocaleString("en-IN",{style:"currency",currency:"INR"})}),c&&T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{onClick:()=>{b(ee),y(!0)},className:"text-blue-600 hover:bg-blue-50 p-1.5 rounded-full transition-colors",title:"Edit",children:T.jsx(zv,{size:16})}),T.jsx("button",{onClick:()=>C({type:"expense",id:ee.id}),className:"text-red-600 hover:bg-red-50 p-1.5 rounded-full transition-colors",title:"Delete",children:T.jsx(sm,{size:16})})]})]})]},ee.id)):T.jsx("p",{className:"text-center text-gray-500 py-4 font-medium italic bg-gray-50 rounded-lg border border-dashed border-gray-300",children:"No expenses recorded for this tour."})})]}),g&&T.jsx(qv,{onClose:()=>y(!1),onSubmit:ce,onUpdate:le,expenseToEdit:_}),A&&T.jsx(lA,{title:A.type==="tour"?"Delete Entire Tour?":"Delete Expense?",onConfirm:me,onCancel:()=>C(null)})]})]})},cA=({tours:r,onUpdateTour:e,onDeleteTour:i})=>{const[s,l]=Se.useState(!0);return r.length===0?null:T.jsxs("div",{className:"mt-12 pb-16",children:[T.jsxs("button",{onClick:()=>l(!s),className:"w-full flex justify-between items-center p-5 bg-gradient-to-r from-indigo-800 to-indigo-900 rounded-xl shadow-lg hover:shadow-xl transition-all mb-6",children:[T.jsxs("div",{className:"flex items-center gap-3 text-white",children:[T.jsx(jv,{className:"h-7 w-7 opacity-80"}),T.jsxs("h3",{className:"text-xl font-bold tracking-wide",children:["Tour History (",r.length,")"]})]}),s?T.jsx(Pv,{className:"text-indigo-200 h-6 w-6"}):T.jsx(Uv,{className:"text-indigo-200 h-6 w-6"})]}),s&&T.jsx("div",{className:"space-y-5 animate-fade-in-up",children:r.map(c=>T.jsx(uA,{tour:c,onUpdateTour:e,onDeleteTour:i},c.id))})]})},hA=({onLogin:r,onSignup:e,error:i,clearError:s})=>{const[l,c]=Se.useState("login"),[f,g]=Se.useState(""),[y,_]=Se.useState(""),[b,A]=Se.useState(""),[C,H]=Se.useState(""),J=i||C,Z=()=>(H(""),s(),!f||!y?(H("Please fill in all required fields."),!1):/\S+@\S+\.\S+/.test(f)?y.length<4?(H("Password must be at least 4 characters."),!1):l==="signup"&&y!==b?(H("Passwords do not match."),!1):!0:(H("Please enter a valid email address."),!1)),W=le=>{le.preventDefault(),Z()&&(l==="login"?r(f,y):e(f,y))},ce=le=>{c(le),H(""),s(),_(""),A("")};return T.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-100 to-indigo-50 flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-fade-in-up",children:[T.jsxs("div",{className:"bg-indigo-700 p-8 text-center relative overflow-hidden",children:[T.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-white to-transparent"}),T.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[T.jsx("div",{className:"bg-white/20 p-3 rounded-full mb-3 backdrop-blur-sm shadow-lg",children:T.jsx(rm,{className:"text-white h-10 w-10"})}),T.jsx("h1",{className:"text-2xl font-bold text-white tracking-wide",children:"Travel Expense Tracker"}),T.jsx("p",{className:"text-indigo-200 text-sm mt-1",children:"Manage your tours efficiently"})]})]}),T.jsxs("div",{className:"flex border-b border-gray-200",children:[T.jsx("button",{onClick:()=>ce("login"),className:`flex-1 py-4 text-sm font-semibold transition-colors duration-200 ${l==="login"?"text-indigo-600 border-b-2 border-indigo-600 bg-indigo-50/50":"text-gray-500 hover:text-gray-700"}`,children:"Login"}),T.jsx("button",{onClick:()=>ce("signup"),className:`flex-1 py-4 text-sm font-semibold transition-colors duration-200 ${l==="signup"?"text-indigo-600 border-b-2 border-indigo-600 bg-indigo-50/50":"text-gray-500 hover:text-gray-700"}`,children:"Sign Up"})]}),T.jsxs("form",{onSubmit:W,className:"p-8 space-y-5",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),T.jsxs("div",{className:"relative",children:[T.jsx(jS,{className:`absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 ${J?"text-red-400":"text-gray-400"}`}),T.jsx("input",{type:"email",value:f,onChange:le=>{g(le.target.value),J&&s()},className:`w-full pl-10 pr-4 py-3 border rounded-lg outline-none transition ${J?"border-red-300 focus:ring-red-200 bg-red-50":"border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}`,placeholder:"yourname@example.com"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),T.jsxs("div",{className:"relative",children:[T.jsx(im,{className:`absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 ${J?"text-red-400":"text-gray-400"}`}),T.jsx("input",{type:"password",value:y,onChange:le=>{_(le.target.value),J&&s()},className:`w-full pl-10 pr-4 py-3 border rounded-lg outline-none transition ${J?"border-red-300 focus:ring-red-200 bg-red-50":"border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}`,placeholder:""})]})]}),l==="signup"&&T.jsxs("div",{className:"animate-fade-in-up",children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),T.jsxs("div",{className:"relative",children:[T.jsx(im,{className:`absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 ${C.includes("match")?"text-red-400":"text-gray-400"}`}),T.jsx("input",{type:"password",value:b,onChange:le=>A(le.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-lg outline-none transition ${C.includes("match")?"border-red-300 focus:ring-red-200 bg-red-50":"border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}`,placeholder:""})]})]}),J&&T.jsxs("div",{className:"flex items-center gap-2 bg-red-50 text-red-600 p-3 rounded-lg text-sm border border-red-100 animate-pulse",children:[T.jsx(TS,{size:16}),T.jsx("span",{children:J})]}),T.jsxs("button",{type:"submit",className:"w-full bg-indigo-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 flex items-center justify-center gap-2 transition-transform transform active:scale-95 shadow-md mt-2",children:[l==="signup"?T.jsx(JS,{size:20}):T.jsx(kS,{size:20}),l==="signup"?"Create Account":"Login",T.jsx(Lv,{size:18})]}),T.jsx("p",{className:"text-center text-xs text-gray-400 mt-4",children:l==="signup"?"Your data is saved locally on this device.":"Welcome back to your travel manager."})]})]})})},fA=()=>{};var r0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},dA=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],f=r[i++],g=r[i++],y=((l&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],f=r[i++];e[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|f&63)}}return e.join("")},Fv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],f=l+1<r.length,g=f?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,b=c>>2,A=(c&3)<<4|g>>4;let C=(g&15)<<2|_>>6,H=_&63;y||(H=64,f||(C=64)),s.push(i[b],i[A],i[C],i[H])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Hv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):dA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||_==null||A==null)throw new mA;const C=c<<2|g>>4;if(s.push(C),_!==64){const H=g<<4&240|_>>2;if(s.push(H),A!==64){const J=_<<6&192|A;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class mA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gA=function(r){const e=Hv(r);return Fv.encodeByteArray(e,!0)},eh=function(r){return gA(r).replace(/\./g,"")},Gv=function(r){try{return Fv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=()=>pA().__FIREBASE_DEFAULTS__,_A=()=>{if(typeof process>"u"||typeof r0>"u")return;const r=r0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},vA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Gv(r[1]);return e&&JSON.parse(e)},Eh=()=>{try{return fA()||yA()||_A()||vA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Kv=r=>{var e,i;return(i=(e=Eh())==null?void 0:e.emulatorHosts)==null?void 0:i[r]},EA=r=>{const e=Kv(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Qv=()=>{var r;return(r=Eh())==null?void 0:r.config},Yv=r=>{var e;return(e=Eh())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Xv(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[eh(JSON.stringify(i)),eh(JSON.stringify(f)),""].join(".")}const Dl={};function SA(){const r={prod:[],emulator:[]};for(const e of Object.keys(Dl))Dl[e]?r.emulator.push(e):r.prod.push(e);return r}function AA(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let s0=!1;function $v(r,e){if(typeof window>"u"||typeof document>"u"||!lo(window.location.host)||Dl[r]===e||Dl[r]||s0)return;Dl[r]=e;function i(C){return`__firebase__banner__${C}`}const s="__firebase__banner",c=SA().prod.length>0;function f(){const C=document.getElementById(s);C&&C.remove()}function g(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function y(C,H){C.setAttribute("width","24"),C.setAttribute("id",H),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function _(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{s0=!0,f()},C}function b(C,H){C.setAttribute("id",H),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function A(){const C=AA(s),H=i("text"),J=document.getElementById(H)||document.createElement("span"),Z=i("learnmore"),W=document.getElementById(Z)||document.createElement("a"),ce=i("preprendIcon"),le=document.getElementById(ce)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const me=C.element;g(me),b(W,Z);const ee=_();y(le,ce),me.append(le,J,W,ee),document.body.appendChild(me)}c?(J.innerText="Preview backend disconnected.",le.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(le.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function RA(){var e;const r=(e=Eh())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function xA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NA(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function DA(){return!RA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OA(){try{return typeof indexedDB=="object"}catch{return!1}}function MA(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;e(((c=l.error)==null?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="FirebaseError";class rr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=VA,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kl.prototype.create)}}class Kl{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],f=c?kA(c,s):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new rr(l,g,s)}}function kA(r,e){return r.replace(LA,(i,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const LA=/\{\$([^}]+)}/g;function UA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function js(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const c=r[l],f=e[l];if(a0(c)&&a0(f)){if(!js(c,f))return!1}else if(c!==f)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function a0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(r){const e=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function wl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Rl(r){const e=r.indexOf("?");if(!e)return"";const i=r.indexOf("#",e);return r.substring(e,i>0?i:void 0)}function PA(r,e){const i=new jA(r,e);return i.subscribe.bind(i)}class jA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let l;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");zA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:s},l.next===void 0&&(l.next=Fd),l.error===void 0&&(l.error=Fd),l.complete===void 0&&(l.complete=Fd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zA(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Fd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(r){return r&&r._delegate?r._delegate:r}class zs{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new TA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HA(e))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(e=Us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Us){return this.instances.has(e)}getOptions(e=Us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&f.resolve(l)}return l}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:qA(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Us){return this.component?this.component.multipleInstances?e:Us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qA(r){return r===Us?void 0:r}function HA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new BA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const GA={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},KA=Me.INFO,QA={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},YA=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=QA[e];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class km{constructor(e){this.name=e,this._logLevel=KA,this._logHandler=YA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const XA=(r,e)=>e.some(i=>r instanceof i);let o0,l0;function $A(){return o0||(o0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JA(){return l0||(l0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jv=new WeakMap,am=new WeakMap,Zv=new WeakMap,Gd=new WeakMap,Lm=new WeakMap;function ZA(r){const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{i(Fr(r.result)),l()},f=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&Jv.set(i,r)}).catch(()=>{}),Lm.set(e,r),e}function WA(r){if(am.has(r))return;const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{i(),l()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});am.set(r,e)}let om={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return am.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Zv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Fr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function ew(r){om=r(om)}function tw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Kd(this),e,...i);return Zv.set(s,e.sort?e.sort():[e]),Fr(s)}:JA().includes(r)?function(...e){return r.apply(Kd(this),e),Fr(Jv.get(this))}:function(...e){return Fr(r.apply(Kd(this),e))}}function nw(r){return typeof r=="function"?tw(r):(r instanceof IDBTransaction&&WA(r),XA(r,$A())?new Proxy(r,om):r)}function Fr(r){if(r instanceof IDBRequest)return ZA(r);if(Gd.has(r))return Gd.get(r);const e=nw(r);return e!==r&&(Gd.set(r,e),Lm.set(e,r)),e}const Kd=r=>Lm.get(r);function iw(r,e,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const f=indexedDB.open(r,e),g=Fr(f);return s&&f.addEventListener("upgradeneeded",y=>{s(Fr(f.result),y.oldVersion,y.newVersion,Fr(f.transaction),y)}),i&&f.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const rw=["get","getKey","getAll","getAllKeys","count"],sw=["put","add","delete","clear"],Qd=new Map;function u0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Qd.get(e))return Qd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=sw.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||rw.includes(i)))return;const c=async function(f,...g){const y=this.transaction(f,l?"readwrite":"readonly");let _=y.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&y.done]))[0]};return Qd.set(e,c),c}ew(r=>({...r,get:(e,i,s)=>u0(e,i)||r.get(e,i,s),has:(e,i)=>!!u0(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ow(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function ow(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lm="@firebase/app",c0="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er=new km("@firebase/app"),lw="@firebase/app-compat",uw="@firebase/analytics-compat",cw="@firebase/analytics",hw="@firebase/app-check-compat",fw="@firebase/app-check",dw="@firebase/auth",mw="@firebase/auth-compat",gw="@firebase/database",pw="@firebase/data-connect",yw="@firebase/database-compat",_w="@firebase/functions",vw="@firebase/functions-compat",Ew="@firebase/installations",Tw="@firebase/installations-compat",bw="@firebase/messaging",Sw="@firebase/messaging-compat",Aw="@firebase/performance",ww="@firebase/performance-compat",Rw="@firebase/remote-config",Iw="@firebase/remote-config-compat",Cw="@firebase/storage",xw="@firebase/storage-compat",Nw="@firebase/firestore",Dw="@firebase/ai",Ow="@firebase/firestore-compat",Mw="firebase",Vw="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="[DEFAULT]",kw={[lm]:"fire-core",[lw]:"fire-core-compat",[cw]:"fire-analytics",[uw]:"fire-analytics-compat",[fw]:"fire-app-check",[hw]:"fire-app-check-compat",[dw]:"fire-auth",[mw]:"fire-auth-compat",[gw]:"fire-rtdb",[pw]:"fire-data-connect",[yw]:"fire-rtdb-compat",[_w]:"fire-fn",[vw]:"fire-fn-compat",[Ew]:"fire-iid",[Tw]:"fire-iid-compat",[bw]:"fire-fcm",[Sw]:"fire-fcm-compat",[Aw]:"fire-perf",[ww]:"fire-perf-compat",[Rw]:"fire-rc",[Iw]:"fire-rc-compat",[Cw]:"fire-gcs",[xw]:"fire-gcs-compat",[Nw]:"fire-fst",[Ow]:"fire-fst-compat",[Dw]:"fire-vertex","fire-js":"fire-js",[Mw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=new Map,Lw=new Map,cm=new Map;function h0(r,e){try{r.container.addComponent(e)}catch(i){er.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function to(r){const e=r.name;if(cm.has(e))return er.debug(`There were multiple attempts to register component ${e}.`),!1;cm.set(e,r);for(const i of th.values())h0(i,r);for(const i of Lw.values())h0(i,r);return!0}function Um(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function Un(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new Kl("app","Firebase",Uw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=Vw;function Wv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:um,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw Gr.create("bad-app-name",{appName:String(l)});if(i||(i=Qv()),!i)throw Gr.create("no-options");const c=th.get(l);if(c){if(js(i,c.options)&&js(s,c.config))return c;throw Gr.create("duplicate-app",{appName:l})}const f=new FA(l);for(const y of cm.values())f.addComponent(y);const g=new Pw(i,s,f);return th.set(l,g),g}function eE(r=um){const e=th.get(r);if(!e&&r===um&&Qv())return Wv();if(!e)throw Gr.create("no-app",{appName:r});return e}function Kr(r,e,i){let s=kw[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${s}" with version "${e}":`];l&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),er.warn(f.join(" "));return}to(new zs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="firebase-heartbeat-database",zw=1,Ul="firebase-heartbeat-store";let Yd=null;function tE(){return Yd||(Yd=iw(jw,zw,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ul)}catch(i){console.warn(i)}}}}).catch(r=>{throw Gr.create("idb-open",{originalErrorMessage:r.message})})),Yd}async function Bw(r){try{const i=(await tE()).transaction(Ul),s=await i.objectStore(Ul).get(nE(r));return await i.done,s}catch(e){if(e instanceof rr)er.warn(e.message);else{const i=Gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});er.warn(i.message)}}}async function f0(r,e){try{const s=(await tE()).transaction(Ul,"readwrite");await s.objectStore(Ul).put(e,nE(r)),await s.done}catch(i){if(i instanceof rr)er.warn(i.message);else{const s=Gr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});er.warn(s.message)}}}function nE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=1024,Hw=30;class Fw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Kw(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=d0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>Hw){const f=Qw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){er.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=d0(),{heartbeatsToSend:s,unsentEntries:l}=Gw(this._heartbeatsCache.heartbeats),c=eh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return er.warn(i),""}}}function d0(){return new Date().toISOString().substring(0,10)}function Gw(r,e=qw){const i=[];let s=r.slice();for(const l of r){const c=i.find(f=>f.agent===l.agent);if(c){if(c.dates.push(l.date),m0(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),m0(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class Kw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OA()?MA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Bw(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return f0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return f0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function m0(r){return eh(JSON.stringify({version:2,heartbeats:r})).length}function Qw(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(r){to(new zs("platform-logger",e=>new aw(e),"PRIVATE")),to(new zs("heartbeat",e=>new Fw(e),"PRIVATE")),Kr(lm,c0,r),Kr(lm,c0,"esm2020"),Kr("fire-js","")}Yw("");var Xw="firebase",$w="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr(Xw,$w,"app");function iE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Jw=iE,rE=new Kl("auth","Firebase",iE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new km("@firebase/auth");function Zw(r,...e){nh.logLevel<=Me.WARN&&nh.warn(`Auth (${uo}): ${r}`,...e)}function Hc(r,...e){nh.logLevel<=Me.ERROR&&nh.error(`Auth (${uo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(r,...e){throw Pm(r,...e)}function Ri(r,...e){return Pm(r,...e)}function sE(r,e,i){const s={...Jw(),[e]:i};return new Kl("auth","Firebase",s).create(e,{appName:r.name})}function Wi(r){return sE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pm(r,...e){if(typeof r!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return rE.create(r,...e)}function pe(r,e,...i){if(!r)throw Pm(e,...i)}function Ji(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Hc(e),new Error(e)}function tr(r,e){r||Ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function Ww(){return g0()==="http:"||g0()==="https:"}function g0(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ww()||CA()||"connection"in navigator)?navigator.onLine:!0}function t2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,i){this.shortDelay=e,this.longDelay=i,tr(i>e,"Short delay should be less than long delay!"),this.isMobile=wA()||xA()}get(){return e2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(r,e){tr(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],r2=new Yl(3e4,6e4);function ns(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function is(r,e,i,s,l={}){return oE(r,l,async()=>{let c={},f={};s&&(e==="GET"?f=s:c={body:JSON.stringify(s)});const g=Ql({key:r.config.apiKey,...f}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:y,...c};return IA()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&lo(r.emulatorConfig.host)&&(_.credentials="include"),aE.fetch()(await lE(r,r.config.apiHost,i,g),_)})}async function oE(r,e,i){r._canInitEmulator=!1;const s={...n2,...e};try{const l=new a2(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw kc(r,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const g=c.ok?f.errorMessage:f.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw kc(r,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw kc(r,"email-already-in-use",f);if(y==="USER_DISABLED")throw kc(r,"user-disabled",f);const b=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw sE(r,b,_);ti(r,b)}}catch(l){if(l instanceof rr)throw l;ti(r,"network-request-failed",{message:String(l)})}}async function Xl(r,e,i,s,l={}){const c=await is(r,e,i,s,l);return"mfaPendingCredential"in c&&ti(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function lE(r,e,i,s){const l=`${e}${i}?${s}`,c=r,f=c.config.emulator?jm(r.config,l):`${r.config.apiScheme}://${l}`;return i2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}function s2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class a2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Ri(this.auth,"network-request-failed")),r2.get())})}}function kc(r,e,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Ri(r,e,s);return l.customData._tokenResponse=i,l}function p0(r){return r!==void 0&&r.enterprise!==void 0}class o2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return s2(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function l2(r,e){return is(r,"GET","/v2/recaptchaConfig",ns(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u2(r,e){return is(r,"POST","/v1/accounts:delete",e)}async function ih(r,e){return is(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function c2(r,e=!1){const i=zt(r),s=await i.getIdToken(e),l=zm(s);pe(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,f=c==null?void 0:c.sign_in_provider;return{claims:l,token:s,authTime:Ol(Xd(l.auth_time)),issuedAtTime:Ol(Xd(l.iat)),expirationTime:Ol(Xd(l.exp)),signInProvider:f||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Xd(r){return Number(r)*1e3}function zm(r){const[e,i,s]=r.split(".");if(e===void 0||i===void 0||s===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Gv(i);return l?JSON.parse(l):(Hc("Failed to decode base64 JWT payload"),null)}catch(l){return Hc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function y0(r){const e=zm(r);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(r,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof rr&&h2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function h2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ol(this.lastLoginAt),this.creationTime=Ol(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rh(r){var A;const e=r.auth,i=await r.getIdToken(),s=await Pl(r,ih(e,{idToken:i}));pe(s==null?void 0:s.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=(A=l.providerUserInfo)!=null&&A.length?uE(l.providerUserInfo):[],f=m2(r.providerData,c),g=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!(f!=null&&f.length),_=g?y:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new fm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,b)}async function d2(r){const e=zt(r);await rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function m2(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function uE(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g2(r,e){const i=await oE(r,{},async()=>{const s=Ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,f=await lE(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:s};return r.emulatorConfig&&lo(r.emulatorConfig.host)&&(y.credentials="include"),aE.fetch()(f,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function p2(r,e){return is(r,"POST","/v2/accounts:revokeToken",ns(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):y0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const i=y0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await g2(e,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,f=new Ya;return s&&(pe(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),l&&(pe(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),c&&(pe(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return Ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(r,e){pe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Zn{constructor({uid:e,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new f2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new fm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Pl(this,this.stsTokenManager.getToken(this.auth,e));return pe(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return c2(this,e)}reload(){return d2(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await rh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Wi(this.auth));const e=await this.getIdToken();return await Pl(this,u2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,f=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:C,isAnonymous:H,providerData:J,stsTokenManager:Z}=i;pe(A&&Z,e,"internal-error");const W=Ya.fromJSON(this.name,Z);pe(typeof A=="string",e,"internal-error"),Pr(s,e.name),Pr(l,e.name),pe(typeof C=="boolean",e,"internal-error"),pe(typeof H=="boolean",e,"internal-error"),Pr(c,e.name),Pr(f,e.name),Pr(g,e.name),Pr(y,e.name),Pr(_,e.name),Pr(b,e.name);const ce=new Zn({uid:A,auth:e,email:l,emailVerified:C,displayName:s,isAnonymous:H,photoURL:f,phoneNumber:c,tenantId:g,stsTokenManager:W,createdAt:_,lastLoginAt:b});return J&&Array.isArray(J)&&(ce.providerData=J.map(le=>({...le}))),y&&(ce._redirectEventId=y),ce}static async _fromIdTokenResponse(e,i,s=!1){const l=new Ya;l.updateFromServerResponse(i);const c=new Zn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await rh(c),c}static async _fromGetAccountInfoResponse(e,i,s){const l=i.users[0];pe(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?uE(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new Ya;g.updateFromIdToken(s);const y=new Zn({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:f}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new fm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0=new Map;function Zi(r){tr(r instanceof Function,"Expected a class definition");let e=_0.get(r);return e?(tr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,_0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}cE.type="NONE";const v0=cE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(r,e,i){return`firebase:${r}:${e}:${i}`}class Xa{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Fc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Fc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await ih(this.auth,{idToken:e}).catch(()=>{});return i?Zn._fromGetAccountInfoResponse(this.auth,i,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new Xa(Zi(v0),e,s);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Zi(v0);const f=Fc(s,e.config.apiKey,e.name);let g=null;for(const _ of i)try{const b=await _._get(f);if(b){let A;if(typeof b=="string"){const C=await ih(e,{idToken:b}).catch(()=>{});if(!C)break;A=await Zn._fromGetAccountInfoResponse(e,C,b)}else A=Zn._fromJSON(e,b);_!==c&&(g=A),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Xa(c,e,s):(c=y[0],g&&await c._set(f,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(f)}catch{}})),new Xa(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pE(e))return"Blackberry";if(yE(e))return"Webos";if(fE(e))return"Safari";if((e.includes("chrome/")||dE(e))&&!e.includes("edge/"))return"Chrome";if(gE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function hE(r=en()){return/firefox\//i.test(r)}function fE(r=en()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dE(r=en()){return/crios\//i.test(r)}function mE(r=en()){return/iemobile/i.test(r)}function gE(r=en()){return/android/i.test(r)}function pE(r=en()){return/blackberry/i.test(r)}function yE(r=en()){return/webos/i.test(r)}function Bm(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function y2(r=en()){var e;return Bm(r)&&!!((e=window.navigator)!=null&&e.standalone)}function _2(){return NA()&&document.documentMode===10}function _E(r=en()){return Bm(r)||gE(r)||yE(r)||pE(r)||/windows phone/i.test(r)||mE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(r,e=[]){let i;switch(r){case"Browser":i=E0(en());break;case"Worker":i=`${E0(en())}-${r}`;break;default:i=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${uo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=c=>new Promise((f,g)=>{try{const y=e(c);f(y)}catch(y){g(y)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E2(r,e={}){return is(r,"GET","/v2/passwordPolicy",ns(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=6;class b2{constructor(e){var s;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??T2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,i,s,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new T0(this),this.idTokenSubscription=new T0(this),this.beforeStateQueue=new v2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Zi(i)),this._initializationPromise=this.queue(async()=>{var s,l,c;if(!this._deleted&&(this.persistenceManager=await Xa.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await ih(this,{idToken:e}),s=await Zn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(Un(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(c=this.redirectUser)==null?void 0:c._redirectEventId,g=s==null?void 0:s._redirectEventId,y=await this.tryRedirectSignIn(e);(!f||f===g)&&(y!=null&&y.user)&&(s=y.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(f){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await rh(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=t2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(Wi(this));const i=e?zt(e):null;return i&&pe(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await E2(this),i=new b2(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Kl("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await p2(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Zi(e)||this._popupRedirectResolver;pe(i,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[Zi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,s;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)==null?void 0:i._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((i=this.currentUser)==null?void 0:i.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(g,this,"internal-error"),g.then(()=>{f||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,s,l);return()=>{f=!0,y()}}else{const y=e.addObserver(i);return()=>{f=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var i;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((i=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getToken());return e!=null&&e.error&&Zw(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Qs(r){return zt(r)}class T0{constructor(e){this.auth=e,this.observer=null,this.addObserver=PA(i=>this.observer=i)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Th={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function A2(r){Th=r}function EE(r){return Th.loadJS(r)}function w2(){return Th.recaptchaEnterpriseScript}function R2(){return Th.gapiScript}function I2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class C2{constructor(){this.enterprise=new x2}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class x2{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const N2="recaptcha-enterprise",TE="NO_RECAPTCHA";class D2{constructor(e){this.type=N2,this.auth=Qs(e)}async verify(e="verify",i=!1){async function s(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,g)=>{l2(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new o2(y);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,f(_.siteKey)}}).catch(y=>{g(y)})})}function l(c,f,g){const y=window.grecaptcha;p0(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:e}).then(_=>{f(_)}).catch(()=>{f(TE)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new C2().execute("siteKey",{action:"verify"}):new Promise((c,f)=>{s(this.auth).then(g=>{if(!i&&p0(window.grecaptcha))l(g,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let y=w2();y.length!==0&&(y+=g),EE(y).then(()=>{l(g,c,f)}).catch(_=>{f(_)})}}).catch(g=>{f(g)})})}}async function b0(r,e,i,s=!1,l=!1){const c=new D2(r);let f;if(l)f=TE;else try{f=await c.verify(i)}catch{f=await c.verify(i,!0)}const g={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function dm(r,e,i,s,l){var c;if((c=r._getRecaptchaConfig())!=null&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await b0(r,e,i,i==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await b0(r,e,i,i==="getOobCode");return s(r,g)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(r,e){const i=Um(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(js(c,e??{}))return l;ti(l,"already-initialized")}return i.initialize({options:e})}function M2(r,e){const i=(e==null?void 0:e.persistence)||[],s=(Array.isArray(i)?i:[i]).map(Zi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function V2(r,e,i){const s=Qs(r);pe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,c=bE(e),{host:f,port:g}=k2(e),y=g===null?"":`:${g}`,_={url:`${c}//${f}${y}/`},b=Object.freeze({host:f,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){pe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),pe(js(_,s.config.emulator)&&js(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,lo(f)?(Xv(`${c}//${f}${y}`),$v("Auth",!0)):L2()}function bE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function k2(r){const e=bE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:S0(s.substr(c.length+1))}}else{const[c,f]=s.split(":");return{host:c,port:S0(f)}}}function S0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function L2(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Ji("not implemented")}_getIdTokenResponse(e){return Ji("not implemented")}_linkToIdToken(e,i){return Ji("not implemented")}_getReauthenticationResolver(e){return Ji("not implemented")}}async function U2(r,e){return is(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P2(r,e){return Xl(r,"POST","/v1/accounts:signInWithPassword",ns(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(r,e){return Xl(r,"POST","/v1/accounts:signInWithEmailLink",ns(r,e))}async function z2(r,e){return Xl(r,"POST","/v1/accounts:signInWithEmailLink",ns(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends qm{constructor(e,i,s,l=null){super("password",s),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new jl(e,i,"password")}static _fromEmailAndCode(e,i,s=null){return new jl(e,i,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dm(e,i,"signInWithPassword",P2);case"emailLink":return j2(e,{email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const s={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dm(e,s,"signUpPassword",U2);case"emailLink":return z2(e,{idToken:i,email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(r,e){return Xl(r,"POST","/v1/accounts:signInWithIdp",ns(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="http://localhost";class Bs extends qm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Bs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ti("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const f=new Bs(s,l);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const i=this.buildRequest();return $a(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,$a(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,$a(e,i)}buildRequest(){const e={requestUri:B2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Ql(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function H2(r){const e=wl(Rl(r)).link,i=e?wl(Rl(e)).deep_link_id:null,s=wl(Rl(r)).deep_link_id;return(s?wl(Rl(s)).link:null)||s||i||e||r}class Hm{constructor(e){const i=wl(Rl(e)),s=i.apiKey??null,l=i.oobCode??null,c=q2(i.mode??null);pe(s&&l&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=H2(e);try{return new Hm(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.providerId=co.PROVIDER_ID}static credential(e,i){return jl._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const s=Hm.parseLink(i);return pe(s,"argument-error"),jl._fromEmailAndCode(e,s.code,s.tenantId)}}co.PROVIDER_ID="password";co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends SE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends $l{constructor(){super("facebook.com")}static credential(e){return Bs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jr.credential(e.oauthAccessToken)}catch{return null}}}jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends $l{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Bs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return zr.credential(i,s)}catch{return null}}}zr.GOOGLE_SIGN_IN_METHOD="google.com";zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends $l{constructor(){super("github.com")}static credential(e){return Bs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.GITHUB_SIGN_IN_METHOD="github.com";Br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends $l{constructor(){super("twitter.com")}static credential(e,i){return Bs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return qr.credential(i,s)}catch{return null}}}qr.TWITTER_SIGN_IN_METHOD="twitter.com";qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F2(r,e){return Xl(r,"POST","/v1/accounts:signUp",ns(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,l=!1){const c=await Zn._fromIdTokenResponse(e,s,l),f=A0(s);return new qs({user:c,providerId:f,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const l=A0(s);return new qs({user:e,providerId:l,_tokenResponse:s,operationType:i})}}function A0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends rr{constructor(e,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,l){return new sh(e,i,s,l)}}function AE(r,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(r,c,e,s):c})}async function G2(r,e,i=!1){const s=await Pl(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return qs._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K2(r,e,i=!1){const{auth:s}=r;if(Un(s.app))return Promise.reject(Wi(s));const l="reauthenticate";try{const c=await Pl(r,AE(s,l,e,r),i);pe(c.idToken,s,"internal-error");const f=zm(c.idToken);pe(f,s,"internal-error");const{sub:g}=f;return pe(r.uid===g,s,"user-mismatch"),qs._forOperation(r,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&ti(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wE(r,e,i=!1){if(Un(r.app))return Promise.reject(Wi(r));const s="signIn",l=await AE(r,s,e),c=await qs._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}async function Q2(r,e){return wE(Qs(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RE(r){const e=Qs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Y2(r,e,i){if(Un(r.app))return Promise.reject(Wi(r));const s=Qs(r),f=await dm(s,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",F2).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&RE(r),y}),g=await qs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(g.user),g}function X2(r,e,i){return Un(r.app)?Promise.reject(Wi(r)):Q2(zt(r),co.credential(e,i)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&RE(r),s})}function $2(r,e,i,s){return zt(r).onIdTokenChanged(e,i,s)}function J2(r,e,i){return zt(r).beforeAuthStateChanged(e,i)}function Z2(r,e,i,s){return zt(r).onAuthStateChanged(e,i,s)}function W2(r){return zt(r).signOut()}const ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=1e3,tR=10;class CE extends IE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_E(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&e(i,l,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((f,g,y)=>{this.notifyListeners(f,y)});return}const s=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!i&&this.localCache[s]===f||this.notifyListeners(s,f)},c=this.storage.getItem(s);_2()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,tR):l()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},eR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}CE.type="LOCAL";const nR=CE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE extends IE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}xE.type="SESSION";const NE=xE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const s=new bh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:l,data:c}=i.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(f).map(async _=>_(i.origin,c)),y=await iR(g);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(r="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,f;return new Promise((g,y)=>{const _=Fm("",20);l.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(A){const C=A;if(C.data.eventId===_)switch(C.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(C.data.response);break;default:clearTimeout(b),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(){return window}function sR(r){Ii().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function aR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oR(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function lR(){return DE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="firebaseLocalStorageDb",uR=1,oh="firebaseLocalStorage",ME="fbase_key";class Jl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Sh(r,e){return r.transaction([oh],e?"readwrite":"readonly").objectStore(oh)}function cR(){const r=indexedDB.deleteDatabase(OE);return new Jl(r).toPromise()}function mm(){const r=indexedDB.open(OE,uR);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(oh,{keyPath:ME})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(oh)?e(s):(s.close(),await cR(),e(await mm()))})})}async function w0(r,e,i){const s=Sh(r,!0).put({[ME]:e,value:i});return new Jl(s).toPromise()}async function hR(r,e){const i=Sh(r,!1).get(e),s=await new Jl(i).toPromise();return s===void 0?null:s.value}function R0(r,e){const i=Sh(r,!0).delete(e);return new Jl(i).toPromise()}const fR=800,dR=3;class VE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>dR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bh._getInstance(lR()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var i,s;if(this.activeServiceWorker=await aR(),!this.activeServiceWorker)return;this.sender=new rR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(i=e[0])!=null&&i.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mm();return await w0(e,ah,"1"),await R0(e,ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>w0(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>hR(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>R0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Sh(l,!1).getAll();return new Jl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VE.type="LOCAL";const mR=VE;new Yl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(r,e){return e?Zi(e):(pe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm extends qm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $a(e,this._buildIdpRequest())}_linkToIdToken(e,i){return $a(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return $a(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function pR(r){return wE(r.auth,new Gm(r),r.bypassAuthState)}function yR(r){const{auth:e,user:i}=r;return pe(i,e,"internal-error"),K2(i,new Gm(r),r.bypassAuthState)}async function _R(r){const{auth:e,user:i}=r;return pe(i,e,"internal-error"),G2(i,new Gm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,i,s,l,c=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:f,type:g}=e;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pR;case"linkViaPopup":case"linkViaRedirect":return _R;case"reauthViaPopup":case"reauthViaRedirect":return yR;default:ti(this.auth,"internal-error")}}resolve(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=new Yl(2e3,1e4);class Qa extends kE{constructor(e,i,s,l,c){super(e,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Qa.currentPopupAction&&Qa.currentPopupAction.cancel(),Qa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){tr(this.filter.length===1,"Popup operations only handle one event");const e=Fm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,s;if((s=(i=this.authWindow)==null?void 0:i.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vR.get())};e()}}Qa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="pendingRedirect",Gc=new Map;class TR extends kE{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const s=await bR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bR(r,e){const i=wR(e),s=AR(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function SR(r,e){Gc.set(r._key(),e)}function AR(r){return Zi(r._redirectPersistence)}function wR(r){return Fc(ER,r.config.apiKey,r.name)}async function RR(r,e,i=!1){if(Un(r.app))return Promise.reject(Wi(r));const s=Qs(r),l=gR(s,e),f=await new TR(s,l,i).execute();return f&&!i&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=600*1e3;class CR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xR(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var s;if(e.error&&!LE(e)){const l=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";i.onError(Ri(this.auth,l))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IR&&this.cachedEventUids.clear(),this.cachedEventUids.has(I0(e))}saveEventToCache(e){this.cachedEventUids.add(I0(e)),this.lastProcessedEventTime=Date.now()}}function I0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function LE({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function xR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NR(r,e={}){return is(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OR=/^https?/;async function MR(r){if(r.config.emulator)return;const{authorizedDomains:e}=await NR(r);for(const i of e)try{if(VR(i))return}catch{}ti(r,"unauthorized-domain")}function VR(r){const e=hm(),{protocol:i,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===s}if(!OR.test(i))return!1;if(DR.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=new Yl(3e4,6e4);function C0(){const r=Ii().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function LR(r){return new Promise((e,i)=>{var l,c,f;function s(){C0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{C0(),i(Ri(r,"network-request-failed"))},timeout:kR.get()})}if((c=(l=Ii().gapi)==null?void 0:l.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((f=Ii().gapi)!=null&&f.load)s();else{const g=I2("iframefcb");return Ii()[g]=()=>{gapi.load?s():i(Ri(r,"network-request-failed"))},EE(`${R2()}?onload=${g}`).catch(y=>i(y))}}).catch(e=>{throw Kc=null,e})}let Kc=null;function UR(r){return Kc=Kc||LR(r),Kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=new Yl(5e3,15e3),jR="__/auth/iframe",zR="emulator/auth/iframe",BR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HR(r){const e=r.config;pe(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?jm(e,zR):`https://${r.config.authDomain}/${jR}`,s={apiKey:e.apiKey,appName:r.name,v:uo},l=qR.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${Ql(s).slice(1)}`}async function FR(r){const e=await UR(r),i=Ii().gapi;return pe(i,r,"internal-error"),e.open({where:document.body,url:HR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BR,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const f=Ri(r,"network-request-failed"),g=Ii().setTimeout(()=>{c(f)},PR.get());function y(){Ii().clearTimeout(g),l(s)}s.ping(y).then(y,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KR=500,QR=600,YR="_blank",XR="http://localhost";class x0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $R(r,e,i,s=KR,l=QR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const y={...GR,width:s.toString(),height:l.toString(),top:c,left:f},_=en().toLowerCase();i&&(g=dE(_)?YR:i),hE(_)&&(e=e||XR,y.scrollbars="yes");const b=Object.entries(y).reduce((C,[H,J])=>`${C}${H}=${J},`,"");if(y2(_)&&g!=="_self")return JR(e||"",g),new x0(null);const A=window.open(e||"",g,b);pe(A,r,"popup-blocked");try{A.focus()}catch{}return new x0(A)}function JR(r,e){const i=document.createElement("a");i.href=r,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="__/auth/handler",WR="emulator/auth/handler",eI=encodeURIComponent("fac");async function N0(r,e,i,s,l,c){pe(r.config.authDomain,r,"auth-domain-config-required"),pe(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:uo,eventId:l};if(e instanceof SE){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",UA(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,A]of Object.entries({}))f[b]=A}if(e instanceof $l){const b=e.getScopes().filter(A=>A!=="");b.length>0&&(f.scopes=b.join(","))}r.tenantId&&(f.tid=r.tenantId);const g=f;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const y=await r._getAppCheckToken(),_=y?`#${eI}=${encodeURIComponent(y)}`:"";return`${tI(r)}?${Ql(g).slice(1)}${_}`}function tI({config:r}){return r.emulator?jm(r,WR):`https://${r.authDomain}/${ZR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="webStorageSupport";class nI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NE,this._completeRedirectFn=RR,this._overrideRedirectResult=SR}async _openPopup(e,i,s,l){var f;tr((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const c=await N0(e,i,s,hm(),l);return $R(e,c,Fm())}async _openRedirect(e,i,s,l){await this._originValidation(e);const c=await N0(e,i,s,hm(),l);return sR(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(tr(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await FR(e),s=new CR(e);return i.register("authEvent",l=>(pe(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send($d,{type:$d},l=>{var f;const c=(f=l==null?void 0:l[0])==null?void 0:f[$d];c!==void 0&&i(!!c),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=MR(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return _E()||fE()||Bm()}}const iI=nI;var D0="@firebase/auth",O0="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aI(r){to(new zs("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=s.options;pe(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:f,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vE(r)},_=new S2(s,l,c,y);return M2(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),to(new zs("auth-internal",e=>{const i=Qs(e.getProvider("auth").getImmediate());return(s=>new rI(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kr(D0,O0,sI(r)),Kr(D0,O0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=300,lI=Yv("authIdTokenMaxAge")||oI;let M0=null;const uI=r=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>lI)return;const l=i==null?void 0:i.token;M0!==l&&(M0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function cI(r=eE()){const e=Um(r,"auth");if(e.isInitialized())return e.getImmediate();const i=O2(r,{popupRedirectResolver:iI,persistence:[mR,nR,NE]}),s=Yv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const f=uI(c.toString());J2(i,f,()=>f(i.currentUser)),$2(i,g=>f(g))}}const l=Kv("auth");return l&&V2(i,`http://${l}`),i}function hI(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}A2({loadJS(r){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const c=Ri("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",hI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aI("Browser");var V0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qr,UE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,w){function R(){}R.prototype=w.prototype,D.F=w.prototype,D.prototype=new R,D.prototype.constructor=D,D.D=function(N,O,L){for(var I=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)I[ze-2]=arguments[ze];return w.prototype[O].apply(N,I)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(D,w,R){R||(R=0);const N=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)N[O]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(O=0;O<16;++O)N[O]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=D.g[0],R=D.g[1],O=D.g[2];let L=D.g[3],I;I=w+(L^R&(O^L))+N[0]+3614090360&4294967295,w=R+(I<<7&4294967295|I>>>25),I=L+(O^w&(R^O))+N[1]+3905402710&4294967295,L=w+(I<<12&4294967295|I>>>20),I=O+(R^L&(w^R))+N[2]+606105819&4294967295,O=L+(I<<17&4294967295|I>>>15),I=R+(w^O&(L^w))+N[3]+3250441966&4294967295,R=O+(I<<22&4294967295|I>>>10),I=w+(L^R&(O^L))+N[4]+4118548399&4294967295,w=R+(I<<7&4294967295|I>>>25),I=L+(O^w&(R^O))+N[5]+1200080426&4294967295,L=w+(I<<12&4294967295|I>>>20),I=O+(R^L&(w^R))+N[6]+2821735955&4294967295,O=L+(I<<17&4294967295|I>>>15),I=R+(w^O&(L^w))+N[7]+4249261313&4294967295,R=O+(I<<22&4294967295|I>>>10),I=w+(L^R&(O^L))+N[8]+1770035416&4294967295,w=R+(I<<7&4294967295|I>>>25),I=L+(O^w&(R^O))+N[9]+2336552879&4294967295,L=w+(I<<12&4294967295|I>>>20),I=O+(R^L&(w^R))+N[10]+4294925233&4294967295,O=L+(I<<17&4294967295|I>>>15),I=R+(w^O&(L^w))+N[11]+2304563134&4294967295,R=O+(I<<22&4294967295|I>>>10),I=w+(L^R&(O^L))+N[12]+1804603682&4294967295,w=R+(I<<7&4294967295|I>>>25),I=L+(O^w&(R^O))+N[13]+4254626195&4294967295,L=w+(I<<12&4294967295|I>>>20),I=O+(R^L&(w^R))+N[14]+2792965006&4294967295,O=L+(I<<17&4294967295|I>>>15),I=R+(w^O&(L^w))+N[15]+1236535329&4294967295,R=O+(I<<22&4294967295|I>>>10),I=w+(O^L&(R^O))+N[1]+4129170786&4294967295,w=R+(I<<5&4294967295|I>>>27),I=L+(R^O&(w^R))+N[6]+3225465664&4294967295,L=w+(I<<9&4294967295|I>>>23),I=O+(w^R&(L^w))+N[11]+643717713&4294967295,O=L+(I<<14&4294967295|I>>>18),I=R+(L^w&(O^L))+N[0]+3921069994&4294967295,R=O+(I<<20&4294967295|I>>>12),I=w+(O^L&(R^O))+N[5]+3593408605&4294967295,w=R+(I<<5&4294967295|I>>>27),I=L+(R^O&(w^R))+N[10]+38016083&4294967295,L=w+(I<<9&4294967295|I>>>23),I=O+(w^R&(L^w))+N[15]+3634488961&4294967295,O=L+(I<<14&4294967295|I>>>18),I=R+(L^w&(O^L))+N[4]+3889429448&4294967295,R=O+(I<<20&4294967295|I>>>12),I=w+(O^L&(R^O))+N[9]+568446438&4294967295,w=R+(I<<5&4294967295|I>>>27),I=L+(R^O&(w^R))+N[14]+3275163606&4294967295,L=w+(I<<9&4294967295|I>>>23),I=O+(w^R&(L^w))+N[3]+4107603335&4294967295,O=L+(I<<14&4294967295|I>>>18),I=R+(L^w&(O^L))+N[8]+1163531501&4294967295,R=O+(I<<20&4294967295|I>>>12),I=w+(O^L&(R^O))+N[13]+2850285829&4294967295,w=R+(I<<5&4294967295|I>>>27),I=L+(R^O&(w^R))+N[2]+4243563512&4294967295,L=w+(I<<9&4294967295|I>>>23),I=O+(w^R&(L^w))+N[7]+1735328473&4294967295,O=L+(I<<14&4294967295|I>>>18),I=R+(L^w&(O^L))+N[12]+2368359562&4294967295,R=O+(I<<20&4294967295|I>>>12),I=w+(R^O^L)+N[5]+4294588738&4294967295,w=R+(I<<4&4294967295|I>>>28),I=L+(w^R^O)+N[8]+2272392833&4294967295,L=w+(I<<11&4294967295|I>>>21),I=O+(L^w^R)+N[11]+1839030562&4294967295,O=L+(I<<16&4294967295|I>>>16),I=R+(O^L^w)+N[14]+4259657740&4294967295,R=O+(I<<23&4294967295|I>>>9),I=w+(R^O^L)+N[1]+2763975236&4294967295,w=R+(I<<4&4294967295|I>>>28),I=L+(w^R^O)+N[4]+1272893353&4294967295,L=w+(I<<11&4294967295|I>>>21),I=O+(L^w^R)+N[7]+4139469664&4294967295,O=L+(I<<16&4294967295|I>>>16),I=R+(O^L^w)+N[10]+3200236656&4294967295,R=O+(I<<23&4294967295|I>>>9),I=w+(R^O^L)+N[13]+681279174&4294967295,w=R+(I<<4&4294967295|I>>>28),I=L+(w^R^O)+N[0]+3936430074&4294967295,L=w+(I<<11&4294967295|I>>>21),I=O+(L^w^R)+N[3]+3572445317&4294967295,O=L+(I<<16&4294967295|I>>>16),I=R+(O^L^w)+N[6]+76029189&4294967295,R=O+(I<<23&4294967295|I>>>9),I=w+(R^O^L)+N[9]+3654602809&4294967295,w=R+(I<<4&4294967295|I>>>28),I=L+(w^R^O)+N[12]+3873151461&4294967295,L=w+(I<<11&4294967295|I>>>21),I=O+(L^w^R)+N[15]+530742520&4294967295,O=L+(I<<16&4294967295|I>>>16),I=R+(O^L^w)+N[2]+3299628645&4294967295,R=O+(I<<23&4294967295|I>>>9),I=w+(O^(R|~L))+N[0]+4096336452&4294967295,w=R+(I<<6&4294967295|I>>>26),I=L+(R^(w|~O))+N[7]+1126891415&4294967295,L=w+(I<<10&4294967295|I>>>22),I=O+(w^(L|~R))+N[14]+2878612391&4294967295,O=L+(I<<15&4294967295|I>>>17),I=R+(L^(O|~w))+N[5]+4237533241&4294967295,R=O+(I<<21&4294967295|I>>>11),I=w+(O^(R|~L))+N[12]+1700485571&4294967295,w=R+(I<<6&4294967295|I>>>26),I=L+(R^(w|~O))+N[3]+2399980690&4294967295,L=w+(I<<10&4294967295|I>>>22),I=O+(w^(L|~R))+N[10]+4293915773&4294967295,O=L+(I<<15&4294967295|I>>>17),I=R+(L^(O|~w))+N[1]+2240044497&4294967295,R=O+(I<<21&4294967295|I>>>11),I=w+(O^(R|~L))+N[8]+1873313359&4294967295,w=R+(I<<6&4294967295|I>>>26),I=L+(R^(w|~O))+N[15]+4264355552&4294967295,L=w+(I<<10&4294967295|I>>>22),I=O+(w^(L|~R))+N[6]+2734768916&4294967295,O=L+(I<<15&4294967295|I>>>17),I=R+(L^(O|~w))+N[13]+1309151649&4294967295,R=O+(I<<21&4294967295|I>>>11),I=w+(O^(R|~L))+N[4]+4149444226&4294967295,w=R+(I<<6&4294967295|I>>>26),I=L+(R^(w|~O))+N[11]+3174756917&4294967295,L=w+(I<<10&4294967295|I>>>22),I=O+(w^(L|~R))+N[2]+718787259&4294967295,O=L+(I<<15&4294967295|I>>>17),I=R+(L^(O|~w))+N[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+L&4294967295}s.prototype.v=function(D,w){w===void 0&&(w=D.length);const R=w-this.blockSize,N=this.C;let O=this.h,L=0;for(;L<w;){if(O==0)for(;L<=R;)l(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<w;)if(N[O++]=D.charCodeAt(L++),O==this.blockSize){l(this,N),O=0;break}}else for(;L<w;)if(N[O++]=D[L++],O==this.blockSize){l(this,N),O=0;break}}this.h=O,this.o+=w},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;w=this.o*8;for(var R=D.length-8;R<D.length;++R)D[R]=w&255,w/=256;for(this.v(D),D=Array(16),w=0,R=0;R<4;++R)for(let N=0;N<32;N+=8)D[w++]=this.g[R]>>>N&255;return D};function c(D,w){var R=g;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=w(D)}function f(D,w){this.h=w;const R=[];let N=!0;for(let O=D.length-1;O>=0;O--){const L=D[O]|0;N&&L==w||(R[O]=L,N=!1)}this.g=R}var g={};function y(D){return-128<=D&&D<128?c(D,function(w){return new f([w|0],w<0?-1:0)}):new f([D|0],D<0?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return A;if(D<0)return W(_(-D));const w=[];let R=1;for(let N=0;D>=R;N++)w[N]=D/R|0,R*=4294967296;return new f(w,0)}function b(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return W(b(D.substring(1),w));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(w,8));let N=A;for(let L=0;L<D.length;L+=8){var O=Math.min(8,D.length-L);const I=parseInt(D.substring(L,L+O),w);O<8?(O=_(Math.pow(w,O)),N=N.j(O).add(_(I))):(N=N.j(R),N=N.add(_(I)))}return N}var A=y(0),C=y(1),H=y(16777216);r=f.prototype,r.m=function(){if(Z(this))return-W(this).m();let D=0,w=1;for(let R=0;R<this.g.length;R++){const N=this.i(R);D+=(N>=0?N:4294967296+N)*w,w*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(J(this))return"0";if(Z(this))return"-"+W(this).toString(D);const w=_(Math.pow(D,6));var R=this;let N="";for(;;){const O=ee(R,w).g;R=ce(R,O.j(w));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(D);if(R=O,J(R))return L+N;for(;L.length<6;)L="0"+L;N=L+N}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function J(D){if(D.h!=0)return!1;for(let w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function Z(D){return D.h==-1}r.l=function(D){return D=ce(this,D),Z(D)?-1:J(D)?0:1};function W(D){const w=D.g.length,R=[];for(let N=0;N<w;N++)R[N]=~D.g[N];return new f(R,~D.h).add(C)}r.abs=function(){return Z(this)?W(this):this},r.add=function(D){const w=Math.max(this.g.length,D.g.length),R=[];let N=0;for(let O=0;O<=w;O++){let L=N+(this.i(O)&65535)+(D.i(O)&65535),I=(L>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);N=I>>>16,L&=65535,I&=65535,R[O]=I<<16|L}return new f(R,R[R.length-1]&-2147483648?-1:0)};function ce(D,w){return D.add(W(w))}r.j=function(D){if(J(this)||J(D))return A;if(Z(this))return Z(D)?W(this).j(W(D)):W(W(this).j(D));if(Z(D))return W(this.j(W(D)));if(this.l(H)<0&&D.l(H)<0)return _(this.m()*D.m());const w=this.g.length+D.g.length,R=[];for(var N=0;N<2*w;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(let O=0;O<D.g.length;O++){const L=this.i(N)>>>16,I=this.i(N)&65535,ze=D.i(O)>>>16,at=D.i(O)&65535;R[2*N+2*O]+=I*at,le(R,2*N+2*O),R[2*N+2*O+1]+=L*at,le(R,2*N+2*O+1),R[2*N+2*O+1]+=I*ze,le(R,2*N+2*O+1),R[2*N+2*O+2]+=L*ze,le(R,2*N+2*O+2)}for(D=0;D<w;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=w;D<2*w;D++)R[D]=0;return new f(R,0)};function le(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function me(D,w){this.g=D,this.h=w}function ee(D,w){if(J(w))throw Error("division by zero");if(J(D))return new me(A,A);if(Z(D))return w=ee(W(D),w),new me(W(w.g),W(w.h));if(Z(w))return w=ee(D,W(w)),new me(W(w.g),w.h);if(D.g.length>30){if(Z(D)||Z(w))throw Error("slowDivide_ only works with positive integers.");for(var R=C,N=w;N.l(D)<=0;)R=Ee(R),N=Ee(N);var O=Ce(R,1),L=Ce(N,1);for(N=Ce(N,2),R=Ce(R,2);!J(N);){var I=L.add(N);I.l(D)<=0&&(O=O.add(R),L=I),N=Ce(N,1),R=Ce(R,1)}return w=ce(D,O.j(w)),new me(O,w)}for(O=A;D.l(w)>=0;){for(R=Math.max(1,Math.floor(D.m()/w.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),L=_(R),I=L.j(w);Z(I)||I.l(D)>0;)R-=N,L=_(R),I=L.j(w);J(L)&&(L=C),O=O.add(L),D=ce(D,I)}return new me(O,D)}r.B=function(D){return ee(this,D).h},r.and=function(D){const w=Math.max(this.g.length,D.g.length),R=[];for(let N=0;N<w;N++)R[N]=this.i(N)&D.i(N);return new f(R,this.h&D.h)},r.or=function(D){const w=Math.max(this.g.length,D.g.length),R=[];for(let N=0;N<w;N++)R[N]=this.i(N)|D.i(N);return new f(R,this.h|D.h)},r.xor=function(D){const w=Math.max(this.g.length,D.g.length),R=[];for(let N=0;N<w;N++)R[N]=this.i(N)^D.i(N);return new f(R,this.h^D.h)};function Ee(D){const w=D.g.length+1,R=[];for(let N=0;N<w;N++)R[N]=D.i(N)<<1|D.i(N-1)>>>31;return new f(R,D.h)}function Ce(D,w){const R=w>>5;w%=32;const N=D.g.length-R,O=[];for(let L=0;L<N;L++)O[L]=w>0?D.i(L+R)>>>w|D.i(L+R+1)<<32-w:D.i(L+R);return new f(O,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,UE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=b,Qr=f}).apply(typeof V0<"u"?V0:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var PE,Il,jE,Qc,gm,zE,BE,qE;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)e:{var v=s;u=u.split(".");for(var S=0;S<u.length-1;S++){var U=u[S];if(!(U in v))break e;v=v[U]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(S,U,B){for(var te=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)te[Ae-2]=arguments[Ae];return m.prototype[U].apply(S,te)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function J(u,m){for(let S=1;S<arguments.length;S++){const U=arguments[S];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let te=0;te<B;te++)u[v+te]=U[te]}else u.push(U)}}class Z{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){f.setTimeout(()=>{throw u},0)}function ce(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class le{constructor(){this.h=this.g=null}add(m,v){const S=me.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var me=new Z(()=>new ee,u=>u.reset());class ee{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,Ce=!1,D=new le,w=()=>{const u=Promise.resolve(void 0);Ee=()=>{u.then(R)}};function R(){for(var u;u=ce();){try{u.h.call(u.g)}catch(v){W(v)}var m=me;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ce=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function ze(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(ze,O),ze.prototype.init=function(u,m){const v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ze.Z.h.call(this)},ze.prototype.h=function(){ze.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var at="closure_listenable_"+(Math.random()*1e6|0),F=0;function ne(u,m,v,S,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=U,this.key=++F,this.da=this.fa=!1}function de(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function je(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function Qe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function V(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,m){let v,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(v in S)u[v]=S[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,m,v,S,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const te=Re(u,m,S,U);return te>-1?(m=u[te],v||(m.fa=!1)):(m=new ne(m,this.src,B,!!S,U),m.fa=v,u.push(m)),m};function _e(u,m){const v=m.type;if(v in u.g){var S=u.g[v],U=Array.prototype.indexOf.call(S,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(S,U,1),B&&(de(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Re(u,m,v,S){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==S)return U}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Dt={};function ot(u,m,v,S,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ot(u,m[B],v,S,U);return null}return v=vo(v),u&&u[at]?u.J(m,v,g(S)?!!S.capture:!1,U):as(u,m,v,!1,S,U)}function as(u,m,v,S,U,B){if(!m)throw Error("Invalid event type");const te=g(U)?!!U.capture:!!U;let Ae=os(u);if(Ae||(u[Ue]=Ae=new ae(u)),v=Ae.add(m,v,S,te,B),v.proxy)return v;if(S=$s(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)L||(U=te),U===void 0&&(U=!1),u.addEventListener(m.toString(),S,U);else if(u.attachEvent)u.attachEvent(ii(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function $s(){function u(v){return m.call(u.src,u.listener,v)}const m=yo;return u}function Js(u,m,v,S,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)Js(u,m[B],v,S,U);else S=g(S)?!!S.capture:!!S,v=vo(v),u&&u[at]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Re(m,v,S,U),v>-1&&(de(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=os(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Re(m,v,S,U)),(v=u>-1?m[u]:null)&&Zs(v))}function Zs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[at])_e(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(ii(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=os(m))?(_e(v,u),v.h==0&&(v.src=null,m[Ue]=null)):de(u)}}}function ii(u){return u in Dt?Dt[u]:Dt[u]="on"+u}function yo(u,m){if(u.da)u=!0;else{m=new ze(m,this);const v=u.listener,S=u.ha||u.src;u.fa&&Zs(u),u=v.call(S,m)}return u}function os(u){return u=u[Ue],u instanceof ae?u:null}var _o="__closure_events_fn_"+(Math.random()*1e9>>>0);function vo(u){return typeof u=="function"?u:(u[_o]||(u[_o]=function(m){return u.handleEvent(m)}),u[_o])}function _t(){N.call(this),this.i=new ae(this),this.M=this,this.G=null}A(_t,N),_t.prototype[at]=!0,_t.prototype.removeEventListener=function(u,m,v,S){Js(this,u,m,v,S)};function Ot(u,m){var v,S=u.G;if(S)for(v=[];S;S=S.G)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var U=m;m=new O(S,u),ie(m,U)}U=!0;let B,te;if(v)for(te=v.length-1;te>=0;te--)B=m.g=v[te],U=sr(B,S,!0,m)&&U;if(B=m.g=u,U=sr(B,S,!0,m)&&U,U=sr(B,S,!1,m)&&U,v)for(te=0;te<v.length;te++)B=m.g=v[te],U=sr(B,S,!1,m)&&U}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let S=0;S<v.length;S++)de(v[S]);delete u.g[m],u.h--}}this.G=null},_t.prototype.J=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},_t.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function sr(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const te=m[B];if(te&&!te.da&&te.capture==v){const Ae=te.listener,mt=te.ha||te.src;te.fa&&_e(u.i,te),U=Ae.call(mt,S)!==!1&&U}}return U&&!S.defaultPrevented}function jh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(u,m||0)}function au(u){u.g=jh(()=>{u.g=null,u.i&&(u.i=!1,au(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends N{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:au(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ls(u){N.call(this),this.h=u,this.g={}}A(ls,N);var Eo=[];function To(u){je(u.g,function(m,v){this.g.hasOwnProperty(v)&&Zs(m)},u),u.g={}}ls.prototype.N=function(){ls.Z.N.call(this),To(this)},ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ar=f.JSON.stringify,zh=f.JSON.parse,ou=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function lu(){}function uu(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){O.call(this,"d")}A(Bt,O);function An(){O.call(this,"c")}A(An,O);var dt={},cu=null;function Ws(){return cu=cu||new _t}dt.Ia="serverreachability";function hu(u){O.call(this,dt.Ia,u)}A(hu,O);function ri(u){const m=Ws();Ot(m,new hu(m))}dt.STAT_EVENT="statevent";function us(u,m){O.call(this,dt.STAT_EVENT,u),this.stat=m}A(us,O);function vt(u){const m=Ws();Ot(m,new us(m,u))}dt.Ja="timingevent";function si(u,m){O.call(this,dt.Ja,u),this.size=m}A(si,O);function ai(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function Bh(u,m,v,S,U,B){u.info(function(){if(u.g)if(B){var te="",Ae=B.split("&");for(let Fe=0;Fe<Ae.length;Fe++){var mt=Ae[Fe].split("=");if(mt.length>1){const lt=mt[0];mt=mt[1];const Cn=lt.split("_");te=Cn.length>=2&&Cn[1]=="type"?te+(lt+"="+mt+"&"):te+(lt+"=redacted&")}}}else te=null;else te=B;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+m+`
`+v+`
`+te})}function fu(u,m,v,S,U,B,te){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+te})}function oi(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+qh(u,v)+(S?" "+S:"")})}function cs(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function qh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let te=1;te<S.length;te++)S[te]=""}}}}return ar(B)}catch{return m}}var hs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},So;function fs(){}A(fs,lu),fs.prototype.g=function(){return new XMLHttpRequest},So=new fs;function Oi(u){return encodeURIComponent(String(u))}function du(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Bn(u,m,v,S){this.j=u,this.i=m,this.l=v,this.S=S||1,this.V=new ls(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var Et={},Lt={};function li(u,m,v){u.M=1,u.A=ds(bt(m)),u.u=v,u.R=!0,ea(u,null)}function ea(u,m){u.F=Date.now(),ui(u),u.B=bt(u.A);var v=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),ra(v.i,"t",S),u.C=0,v=u.j.L,u.h=new qn,u.g=Cu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new tn(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,S=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Eo[0]=U.toString()),U=Eo);for(let B=0;B<U.length;B++){const te=ot(v,U[B],S||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ri(),Bh(u.i,u.v,u.B,u.l,u.S,u.u)}Bn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Gn(u)==3?m.j():this.Y(u)},Bn.prototype.Y=function(u){try{if(u==this.g)e:{const Ae=Gn(this.g),mt=this.g.ya(),Fe=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||Ae!=4||mt==7||(mt==8||Fe<=0?ri(3):ri(2)),ci(this);var m=this.g.ca();this.X=m;var v=Hh(this);if(this.o=m==200,fu(this.i,this.v,this.B,this.l,this.S,Ae,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var B=S;break t}}B=null}if(u=B)oi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hi(this,u);else{this.o=!1,this.m=3,vt(12),mn(this),wn(this);break e}}if(this.R){u=!0;let lt;for(;!this.K&&this.C<v.length;)if(lt=gu(this,v),lt==Lt){Ae==4&&(this.m=4,vt(14),u=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==Et){this.m=4,vt(15),oi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else oi(this.i,this.l,lt,null),hi(this,lt);if(mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||v.length!=0||this.h.h||(this.m=1,vt(16),u=!1),this.o=this.o&&u,!u)oi(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),wn(this);else if(v.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Po(te),te.P=!0,vt(11))}}else oi(this.i,this.l,v,null),hi(this,v);Ae==4&&mn(this),this.o&&!this.K&&(Ae==4?Au(this.j,this):(this.o=!1,ui(this)))}else Vi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),mn(this),wn(this)}}}catch{}finally{}};function Hh(u){if(!mu(u))return u.g.la();const m=qt(u.g);if(m==="")return"";let v="";const S=m.length,U=Gn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mn(u),wn(u),"";u.h.i=new f.TextDecoder}for(let B=0;B<S;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(U&&B==S-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function mu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function gu(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?Lt:(v=Number(m.substring(v,S)),isNaN(v)?Et:(S+=1,S+v>m.length?Lt:(m=m.slice(S,S+v),u.C=S+v,m)))}Bn.prototype.cancel=function(){this.K=!0,mn(this)};function ui(u){u.T=Date.now()+u.H,ta(u,u.H)}function ta(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ai(_(u.aa,u),m)}function ci(u){u.D&&(f.clearTimeout(u.D),u.D=null)}Bn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(cs(this.i,this.B),this.M!=2&&(ri(),vt(17)),mn(this),this.m=2,wn(this)):ta(this,this.T-u)};function wn(u){u.j.I==0||u.K||Au(u.j,u)}function mn(u){ci(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,To(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function hi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||di(v.h,u))){if(!u.L&&di(v.h,u)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ua(v),mr(v);else break e;Es(v),vt(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ai(_(v.Va,v),6e3));fi(v.h)<=1&&v.ta&&(v.ta=void 0)}else vi(v,11)}else if((u.L||v.g==u)&&ua(v),!I(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Fe=U[m];const lt=Fe[0];if(!(lt<=v.K))if(v.K=lt,Fe=Fe[1],v.I==2)if(Fe[0]=="c"){v.M=Fe[1],v.ba=Fe[2];const Cn=Fe[3];Cn!=null&&(v.ka=Cn,v.j.info("VER="+v.ka));const Ei=Fe[4];Ei!=null&&(v.za=Ei,v.j.info("SVER="+v.za));const Kn=Fe[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(S=1.5*Kn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Qn=u.g;if(Qn){const Ts=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ts){var B=S.h;B.g||Ts.indexOf("spdy")==-1&&Ts.indexOf("quic")==-1&&Ts.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ro(B,B.h),B.h=null))}if(S.G){const ca=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(S.wa=ca,Ye(S.J,S.G,ca))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var te=u;if(S.na=Iu(S,S.L?S.ba:null,S.W),te.L){Io(S.h,te);var Ae=te,mt=S.O;mt&&(Ae.H=mt),Ae.D&&(ci(Ae),ui(Ae)),S.g=te}else bu(S);v.i.length>0&&_i(v)}else Fe[0]!="stop"&&Fe[0]!="close"||vi(v,7);else v.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?vi(v,7):Lo(v):Fe[0]!="noop"&&v.l&&v.l.qa(Fe),v.A=0)}}ri(4)}catch{}}var Tt=class{constructor(u,m){this.g=u,this.map=m}};function Ao(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function fi(u){return u.h?1:u.g?u.g.size:0}function di(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ro(u,m){u.g?u.g.add(m):u.h=m}function Io(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ao.prototype.cancel=function(){if(this.i=Co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Co(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var pu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function na(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const S=u[v].indexOf("=");let U,B=null;S>=0?(U=u[v].substring(0,S),B=u[v].substring(S+1)):U=u[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function gn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof gn?(this.l=u.l,Ut(this,u.j),this.o=u.o,this.g=u.g,or(this,u.u),this.h=u.h,xo(this,Eu(u.i)),this.m=u.m):u&&(m=String(u).match(pu))?(this.l=!1,Ut(this,m[1]||"",!0),this.o=mi(m[2]||""),this.g=mi(m[3]||"",!0),or(this,m[4]),this.h=mi(m[5]||"",!0),xo(this,m[6]||"",!0),this.m=mi(m[7]||"")):(this.l=!1,this.i=new ur(null,this.l))}gn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ms(m,ia,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ms(m,ia,!0),"@"),u.push(Oi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ms(v,v.charAt(0)=="/"?No:yu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ms(v,_u)),u.join("")},gn.prototype.resolve=function(u){const m=bt(this);let v=!!u.j;v?Ut(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var S=u.h;if(v)or(m,u.u);else if(v=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=m.h.lastIndexOf("/");U!=-1&&(S=m.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let te=0;te<U.length;){const Ae=U[te++];Ae=="."?S&&te==U.length&&B.push(""):Ae==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),S&&te==U.length&&B.push("")):(B.push(Ae),S=!0)}S=B.join("/")}else S=U}return v?m.h=S:v=u.i.toString()!=="",v?xo(m,Eu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function bt(u){return new gn(u)}function Ut(u,m,v){u.j=v?mi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function or(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function xo(u,m,v){m instanceof ur?(u.i=m,sa(u.i,u.l)):(v||(m=ms(m,lr)),u.i=new ur(m,u.l))}function Ye(u,m,v){u.i.set(m,v)}function ds(u){return Ye(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function mi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ms(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,sn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ia=/[#\/\?@]/g,yu=/[#\?:]/g,No=/[#\?]/g,lr=/[#\?@]/g,_u=/#/g;function ur(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&na(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=ur.prototype,r.add=function(u,m){an(this),this.i=null,u=cr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function vu(u,m){an(u),m=cr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Do(u,m){return an(u),m=cr(u,m),u.g.has(m)}r.forEach=function(u,m){an(this),this.g.forEach(function(v,S){v.forEach(function(U){u.call(m,U,S,this)},this)},this)};function Oo(u,m){an(u);let v=[];if(typeof m=="string")Do(u,m)&&(v=v.concat(u.g.get(cr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return an(this),this.i=null,u=cr(this,u),Do(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Oo(this,u),u.length>0?String(u[0]):m):m};function ra(u,m,v){vu(u,m),v.length>0&&(u.i=null,u.g.set(cr(u,m),H(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const U=Oi(v);v=Oo(this,v);for(let B=0;B<v.length;B++){let te=U;v[B]!==""&&(te+="="+Oi(v[B])),u.push(te)}}return this.i=u.join("&")};function Eu(u){const m=new ur;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function cr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function sa(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(v,S){const U=S.toLowerCase();S!=U&&(vu(this,S),ra(this,U,v))},u)),u.j=m}function Hn(u,m){const v=new zn;if(f.Image){const S=new Image;S.onload=b(Rn,v,"TestLoadImage: loaded",!0,m,S),S.onerror=b(Rn,v,"TestLoadImage: error",!1,m,S),S.onabort=b(Rn,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=b(Rn,v,"TestLoadImage: timeout",!1,m,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Mo(u,m){const v=new zn,S=new AbortController,U=setTimeout(()=>{S.abort(),Rn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(B=>{clearTimeout(U),B.ok?Rn(v,"TestPingServer: ok",!0,m):Rn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Rn(v,"TestPingServer: error",!1,m)})}function Rn(u,m,v,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(v)}catch{}}function hr(){this.g=new ou}function gi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(gi,lu),gi.prototype.g=function(){return new gs(this.i,this.h)};function gs(u,m){_t.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(gs,_t),r=gs.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Fn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;aa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function aa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?fr(this):Fn(this),this.readyState==3&&aa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,fr(this))},r.Na=function(u){this.g&&(this.response=u,fr(this))},r.ga=function(){this.g&&fr(this)};function fr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Fn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function In(u){let m="";return je(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function ps(u,m,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=In(v),typeof u=="string"?v!=null&&Oi(v):Ye(u,m,v))}function Je(u){_t.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Je,_t);var pi=/^https?$/i,Vo=["POST","PUT"];r=Je.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():So.g(),this.g.onreadystatechange=C(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){ys(this,B);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)v.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const B of S.keys())v.set(B,S.get(B));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call(Vo,m,void 0)>=0)||S||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,te]of v)this.g.setRequestHeader(B,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){ys(this,B)}};function ys(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,ko(u),Mi(u)}function ko(u){u.A||(u.A=!0,Ot(u,"complete"),Ot(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ot(this,"complete"),Ot(this,"abort"),Mi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mi(this,!0)),Je.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?_s(this):this.Xa())},r.Xa=function(){_s(this)};function _s(u){if(u.h&&typeof c<"u"){if(u.v&&Gn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ot(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var S;if(S=B===0){let te=String(u.D).match(pu)[1]||null;!te&&f.self&&f.self.location&&(te=f.self.location.protocol.slice(0,-1)),S=!pi.test(te?te.toLowerCase():"")}v=S}if(v)Ot(u,"complete"),Ot(u,"success");else{u.o=6;try{var U=Gn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",ko(u)}}finally{Mi(u)}}}}function Mi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ot(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),zh(m)}};function qt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(u){const m={};u=(u.g&&Gn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(I(u[S]))continue;var v=du(u[S]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}Qe(m,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function dr(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,u),this.Za=yi("retryDelaySeedMs",1e4,u),this.Ta=yi("forwardChannelMaxRetries",2,u),this.va=yi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ao(u&&u.concurrentRequestLimit),this.Ba=new hr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=dr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,S){vt(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Iu(this,null,this.W),_i(this)};function Lo(u){if(oa(u),u.I==3){var m=u.V++,v=bt(u.J);if(Ye(v,"SID",u.M),Ye(v,"RID",m),Ye(v,"TYPE","terminate"),vs(u,v),m=new Bn(u,u.j,m),m.M=2,m.A=ds(bt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.A,v=!0),v||(m.g=Cu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ui(m)}Ru(u)}function mr(u){u.g&&(Po(u),u.g.cancel(),u.g=null)}function oa(u){mr(u),u.v&&(f.clearTimeout(u.v),u.v=null),ua(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function _i(u){if(!wo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ee||w(),Ce||(Ee(),Ce=!0),D.add(m,u),u.D=0}}function la(u,m){return fi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ai(_(u.Ea,u,m),wu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Bn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=V(B),ie(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Tu(this,U,m),v=bt(this.J),Ye(v,"RID",u),Ye(v,"CVER",22),this.G&&Ye(v,"X-HTTP-Session-Id",this.G),vs(this,v),B&&(this.R?m="headers="+Oi(In(B))+"&"+m:this.u&&ps(v,this.u,B)),Ro(this.h,U),this.Ra&&Ye(v,"TYPE","init"),this.S?(Ye(v,"$req",m),Ye(v,"SID","null"),U.U=!0,li(U,v,null)):li(U,v,m),this.I=2}}else this.I==3&&(u?Uo(this,u):this.i.length==0||wo(this.h)||Uo(this))};function Uo(u,m){var v;m?v=m.l:v=u.V++;const S=bt(u.J);Ye(S,"SID",u.M),Ye(S,"RID",v),Ye(S,"AID",u.K),vs(u,S),u.u&&u.o&&ps(S,u.u,u.o),v=new Bn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Tu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ro(u.h,v),li(v,S,m)}function vs(u,m){u.H&&je(u.H,function(v,S){Ye(m,S,v)}),u.l&&je({},function(v,S){Ye(m,S,v)})}function Tu(u,m,v){v=Math.min(u.i.length,v);const S=u.l?_(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ae=-1;for(;;){const mt=["count="+v];Ae==-1?v>0?(Ae=U[0].g,mt.push("ofs="+Ae)):Ae=0:mt.push("ofs="+Ae);let Fe=!0;for(let lt=0;lt<v;lt++){var B=U[lt].g;const Cn=U[lt].map;if(B-=Ae,B<0)Ae=Math.max(0,U[lt].g-100),Fe=!1;else try{B="req"+B+"_"||"";try{var te=Cn instanceof Map?Cn:Object.entries(Cn);for(const[Ei,Kn]of te){let Qn=Kn;g(Kn)&&(Qn=ar(Kn)),mt.push(B+Ei+"="+encodeURIComponent(Qn))}}catch(Ei){throw mt.push(B+"type="+encodeURIComponent("_badmap")),Ei}}catch{S&&S(Cn)}}if(Fe){te=mt.join("&");break e}}te=void 0}return u=u.i.splice(0,v),m.G=u,te}function bu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ee||w(),Ce||(Ee(),Ce=!0),D.add(m,u),u.A=0}}function Es(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ai(_(u.Da,u),wu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ai(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),mr(this),Su(this))};function Po(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function Su(u){u.g=new Bn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=bt(u.na);Ye(m,"RID","rpc"),Ye(m,"SID",u.M),Ye(m,"AID",u.K),Ye(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ye(m,"TO",u.ia),Ye(m,"TYPE","xmlhttp"),vs(u,m),u.u&&u.o&&ps(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=ds(bt(m)),v.u=null,v.R=!0,ea(v,u)}r.Va=function(){this.C!=null&&(this.C=null,mr(this),Es(this),vt(19))};function ua(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Au(u,m){var v=null;if(u.g==m){ua(u),Po(u),u.g=null;var S=2}else if(di(u.h,m))v=m.G,Io(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;S=Ws(),Ot(S,new si(S,v)),_i(u)}else bu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(S==1&&la(u,m)||S==2&&Es(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function wu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function vi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),S=u.Ua;const U=!S;S=new gn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ut(S,"https"),ds(S),U?Hn(S.toString(),v):Mo(S.toString(),v)}else vt(2);u.I=0,u.l&&u.l.pa(m),Ru(u),oa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Ru(u){if(u.I=0,u.ja=[],u.l){const m=Co(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function Iu(u,m,v){var S=v instanceof gn?bt(v):new gn(v);if(S.g!="")m&&(S.g=m+"."+S.g),or(S,S.u);else{var U=f.location;S=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new gn(null);S&&Ut(B,S),m&&(B.g=m),U&&or(B,U),v&&(B.h=v),S=B}return v=u.G,m=u.wa,v&&m&&Ye(S,v,m),Ye(S,"VER",u.ka),vs(u,S),S}function Cu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Je(new gi({ab:v})):new Je(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}r=xu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function gr(){}gr.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){_t.call(this),this.g=new dr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!I(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ki(this)}A(nn,_t),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Lo(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ar(u),u=v);m.i.push(new Tt(m.Ya++,u)),m.I==3&&_i(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,Lo(this.g),delete this.g,nn.Z.N.call(this)};function Nu(u){Bt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Nu,Bt);function Du(){An.call(this),this.status=1}A(Du,An);function ki(u){this.g=u}A(ki,xu),ki.prototype.ra=function(){Ot(this.g,"a")},ki.prototype.qa=function(u){Ot(this.g,new Nu(u))},ki.prototype.pa=function(u){Ot(this.g,new Du)},ki.prototype.oa=function(){Ot(this.g,"b")},gr.prototype.createWebChannel=gr.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,qE=function(){return new gr},BE=function(){return Ws()},zE=dt,gm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hs.NO_ERROR=0,hs.TIMEOUT=8,hs.HTTP_ERROR=6,Qc=hs,bo.COMPLETE="complete",jE=bo,uu.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,Il=uu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,PE=Je}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ho="12.9.0";function fI(r){ho=r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new km("@firebase/firestore");function Ba(){return Hs.logLevel}function se(r,...e){if(Hs.logLevel<=Me.DEBUG){const i=e.map(Km);Hs.debug(`Firestore (${ho}): ${r}`,...i)}}function nr(r,...e){if(Hs.logLevel<=Me.ERROR){const i=e.map(Km);Hs.error(`Firestore (${ho}): ${r}`,...i)}}function Fs(r,...e){if(Hs.logLevel<=Me.WARN){const i=e.map(Km);Hs.warn(`Firestore (${ho}): ${r}`,...i)}}function Km(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,HE(r,s,i)}function HE(r,e,i){let s=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw nr(s),new Error(s)}function Ke(r,e,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||HE(e,l,s)}function be(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends rr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Zt.UNAUTHENTICATED)))}shutdown(){}}class mI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class gI{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ke(this.o===void 0,42304);let s=this.i;const l=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let c=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Yr,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Yr)}}),0),f()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new FE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class pI{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class yI{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new pI(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class k0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _I{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ke(this.o===void 0,3512);const s=c=>{c.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,se("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const l=c=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new k0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ke(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new k0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=vI(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=e.charAt(l[c]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function pm(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=e.charAt(s);if(l!==c)return Jd(l)===Jd(c)?Ve(l,c):Jd(l)?1:-1}return Ve(r.length,e.length)}const EI=55296,TI=57343;function Jd(r){const e=r.charCodeAt(0);return e>=EI&&e<=TI}function no(r,e,i){return r.length===e.length&&r.every(((s,l)=>i(s,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="__name__";class wi{constructor(e,i,s){i===void 0?i=0:i>e.length&&ye(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&ye(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return wi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof wi?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let l=0;l<s;l++){const c=wi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Ve(e.length,i.length)}static compareSegments(e,i){const s=wi.isNumericId(e),l=wi.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?wi.extractNumericId(e).compare(wi.extractNumericId(i)):pm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qr.fromString(e.substring(4,e.length-2))}}class nt extends wi{construct(e,i,s){return new nt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new re(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new nt(i)}static emptyPath(){return new nt([])}}const bI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends wi{construct(e,i,s){return new Yt(e,i,s)}static isValidIdentifier(e){return bI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===L0}static keyField(){return new Yt([L0])}static fromServerFormat(e){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new re(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let f=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new re(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new re(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(s+=g,l++):(c(),l++)}if(c(),f)throw new re(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(i)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(nt.fromString(e))}static fromName(e){return new fe(nt.fromString(e).popFirst(5))}static empty(){return new fe(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return nt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(r,e,i){if(!i)throw new re(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function SI(r,e,i,s){if(e===!0&&s===!0)throw new re(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function U0(r){if(!fe.isDocumentKey(r))throw new re(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function P0(r){if(fe.isDocumentKey(r))throw new re(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function KE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ah(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ye(12329,{type:typeof r})}function Gs(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new re(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ah(r);throw new re(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(r,e){const i={typeString:r};return e&&(i.value=e),i}function Zl(r,e){if(!KE(r))throw new re(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const l=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const f=r[s];if(l&&typeof f!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&f!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new re(X.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=-62135596800,z0=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*z0);return new st(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new re(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new re(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<j0)throw new re(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z0}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zl(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-j0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Nt("string",st._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new st(0,0))}static max(){return new ve(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=-1;function AI(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=ve.fromTimestamp(s===1e9?new st(i+1,0):new st(i,s));return new $r(l,fe.empty(),e)}function wI(r){return new $r(r.readTime,r.key,zl)}class $r{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new $r(ve.min(),fe.empty(),zl)}static max(){return new $r(ve.max(),fe.empty(),zl)}}function RI(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=fe.comparator(r.documentKey,e.documentKey),i!==0?i:Ve(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==II)throw r;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,s)=>{i(e)}))}static reject(e){return new $(((i,s)=>{s(e)}))}static waitFor(e){return new $(((i,s)=>{let l=0,c=0,f=!1;e.forEach((g=>{++l,g.next((()=>{++c,f&&c===l&&i()}),(y=>s(y)))})),f=!0,c===l&&i()}))}static or(e){let i=$.resolve(!1);for(const s of e)i=i.next((l=>l?$.resolve(l):s()));return i}static forEach(e,i){const s=[];return e.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(e,i){return new $(((s,l)=>{const c=e.length,f=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((b=>{f[_]=b,++g,g===c&&s(f)}),(b=>l(b)))}}))}static doWhile(e,i){return new $(((s,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):s()};c()}))}}function xI(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function mo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym=-1;function Rh(r){return r==null}function lh(r){return r===0&&1/r==-1/0}function NI(r){return typeof r=="number"&&Number.isInteger(r)&&!lh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="";function DI(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=B0(e)),e=OI(r.get(i),e);return B0(e)}function OI(r,e){let i=e;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case QE:i+="";break;default:i+=c}}return i}function B0(r){return r+QE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function rs(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function YE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,i){this.comparator=e,this.root=i||Qt.EMPTY}insert(e,i){return new ct(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uc(this.root,e,this.comparator,!0)}}class Uc{constructor(e,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,i,s,l,c){this.key=e,this.value=i,this.color=s??Qt.RED,this.left=l??Qt.EMPTY,this.right=c??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,l,c){return new Qt(e??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let l=this;const c=s(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Qt.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,i,s,l,c){return this}insert(e,i,s){return new Qt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new H0(this.data.getIterator())}getIteratorFrom(e){return new H0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new kt(this.comparator);return i.data=e,i}}class H0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Sn([])}unionWith(e){let i=new kt(Yt.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Sn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return no(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new XE("Invalid base64 string: "+c):c}})(e);return new Xt(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let f=0;f<l.length;++f)c+=String.fromCharCode(l[f]);return c})(e);return new Xt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const MI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(r){if(Ke(!!r,39018),typeof r=="string"){let e=0;const i=MI.exec(r);if(Ke(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(r.seconds),nanos:yt(r.nanos)}}function yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Zr(r){return typeof r=="string"?Xt.fromBase64String(r):Xt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="server_timestamp",JE="__type__",ZE="__previous_value__",WE="__local_write_time__";function Xm(r){var i,s;return((s=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[JE])==null?void 0:s.stringValue)===$E}function Ih(r){const e=r.mapValue.fields[ZE];return Xm(e)?Ih(e):e}function Bl(r){const e=Jr(r.mapValue.fields[WE].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,i,s,l,c,f,g,y,_,b,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=b,this.apiKey=A}}const uh="(default)";class ql{constructor(e,i){this.projectId=e,this.database=i||uh}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database===uh}isEqual(e){return e instanceof ql&&e.projectId===this.projectId&&e.database===this.database}}function kI(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new re(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(r.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="__type__",LI="__max__",Pc={mapValue:{}},tT="__vector__",ch="value";function Wr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Xm(r)?4:PI(r)?9007199254740991:UI(r)?10:11:ye(28295,{value:r})}function Di(r,e){if(r===e)return!0;const i=Wr(r);if(i!==Wr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Bl(r).isEqual(Bl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const f=Jr(l.timestampValue),g=Jr(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return Zr(l.bytesValue).isEqual(Zr(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return yt(l.geoPointValue.latitude)===yt(c.geoPointValue.latitude)&&yt(l.geoPointValue.longitude)===yt(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return yt(l.integerValue)===yt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const f=yt(l.doubleValue),g=yt(c.doubleValue);return f===g?lh(f)===lh(g):isNaN(f)&&isNaN(g)}return!1})(r,e);case 9:return no(r.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:case 11:return(function(l,c){const f=l.mapValue.fields||{},g=c.mapValue.fields||{};if(q0(f)!==q0(g))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(g[y]===void 0||!Di(f[y],g[y])))return!1;return!0})(r,e);default:return ye(52216,{left:r})}}function Hl(r,e){return(r.values||[]).find((i=>Di(i,e)))!==void 0}function io(r,e){if(r===e)return 0;const i=Wr(r),s=Wr(e);if(i!==s)return Ve(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(c,f){const g=yt(c.integerValue||c.doubleValue),y=yt(f.integerValue||f.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(r,e);case 3:return F0(r.timestampValue,e.timestampValue);case 4:return F0(Bl(r),Bl(e));case 5:return pm(r.stringValue,e.stringValue);case 6:return(function(c,f){const g=Zr(c),y=Zr(f);return g.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(c,f){const g=c.split("/"),y=f.split("/");for(let _=0;_<g.length&&_<y.length;_++){const b=Ve(g[_],y[_]);if(b!==0)return b}return Ve(g.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,f){const g=Ve(yt(c.latitude),yt(f.latitude));return g!==0?g:Ve(yt(c.longitude),yt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return G0(r.arrayValue,e.arrayValue);case 10:return(function(c,f){var C,H,J,Z;const g=c.fields||{},y=f.fields||{},_=(C=g[ch])==null?void 0:C.arrayValue,b=(H=y[ch])==null?void 0:H.arrayValue,A=Ve(((J=_==null?void 0:_.values)==null?void 0:J.length)||0,((Z=b==null?void 0:b.values)==null?void 0:Z.length)||0);return A!==0?A:G0(_,b)})(r.mapValue,e.mapValue);case 11:return(function(c,f){if(c===Pc.mapValue&&f===Pc.mapValue)return 0;if(c===Pc.mapValue)return 1;if(f===Pc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=f.fields||{},b=Object.keys(_);y.sort(),b.sort();for(let A=0;A<y.length&&A<b.length;++A){const C=pm(y[A],b[A]);if(C!==0)return C;const H=io(g[y[A]],_[b[A]]);if(H!==0)return H}return Ve(y.length,b.length)})(r.mapValue,e.mapValue);default:throw ye(23264,{he:i})}}function F0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const i=Jr(r),s=Jr(e),l=Ve(i.seconds,s.seconds);return l!==0?l:Ve(i.nanos,s.nanos)}function G0(r,e){const i=r.values||[],s=e.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=io(i[l],s[l]);if(c)return c}return Ve(i.length,s.length)}function ro(r){return ym(r)}function ym(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Jr(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Zr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return fe.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=ym(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const f of s)c?c=!1:l+=",",l+=`${f}:${ym(i.fields[f])}`;return l+"}"})(r.mapValue):ye(61005,{value:r})}function Yc(r){switch(Wr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ih(r);return e?16+Yc(e):16;case 5:return 2*r.stringValue.length;case 6:return Zr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Yc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return rs(s.fields,((c,f)=>{l+=c.length+Yc(f)})),l})(r.mapValue);default:throw ye(13486,{value:r})}}function K0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function _m(r){return!!r&&"integerValue"in r}function $m(r){return!!r&&"arrayValue"in r}function Q0(r){return!!r&&"nullValue"in r}function Y0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Xc(r){return!!r&&"mapValue"in r}function UI(r){var i,s;return((s=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[eT])==null?void 0:s.stringValue)===tT}function Ml(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return rs(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Ml(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ml(r.arrayValue.values[i]);return e}return{...r}}function PI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===LI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Xc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ml(i)}setAll(e){let i=Yt.emptyPath(),s={},l=[];e.forEach(((f,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,s,l),s={},l=[],i=g.popLast()}f?s[g.lastSegment()]=Ml(f):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(e){const i=this.field(e.popLast());Xc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=i.mapValue.fields[e.get(s)];Xc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,s){rs(i,((l,c)=>e[l]=c));for(const l of s)delete e[l]}clone(){return new dn(Ml(this.value))}}function nT(r){const e=[];return rs(r.fields,((i,s)=>{const l=new Yt([i]);if(Xc(s)){const c=nT(s.mapValue).fields;if(c.length===0)e.push(l);else for(const f of c)e.push(l.child(f))}else e.push(l)})),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,i,s,l,c,f,g){this.key=e,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(e){return new Wt(e,0,ve.min(),ve.min(),ve.min(),dn.empty(),0)}static newFoundDocument(e,i,s,l){return new Wt(e,1,i,ve.min(),s,l,0)}static newNoDocument(e,i){return new Wt(e,2,i,ve.min(),ve.min(),dn.empty(),0)}static newUnknownDocument(e,i){return new Wt(e,3,i,ve.min(),ve.min(),dn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,i){this.position=e,this.inclusive=i}}function X0(r,e,i){let s=0;for(let l=0;l<r.position.length;l++){const c=e[l],f=r.position[l];if(c.field.isKeyField()?s=fe.comparator(fe.fromName(f.referenceValue),i.key):s=io(f,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function $0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Di(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,i="asc"){this.field=e,this.dir=i}}function jI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{}class xt extends iT{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new BI(e,i,s):i==="array-contains"?new FI(e,s):i==="in"?new GI(e,s):i==="not-in"?new KI(e,s):i==="array-contains-any"?new QI(e,s):new xt(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new qI(e,s):new HI(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(io(i,this.value)):i!==null&&Wr(this.value)===Wr(i)&&this.matchesComparison(io(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends iT{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ni(e,i)}matches(e){return rT(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rT(r){return r.op==="and"}function sT(r){return zI(r)&&rT(r)}function zI(r){for(const e of r.filters)if(e instanceof ni)return!1;return!0}function vm(r){if(r instanceof xt)return r.field.canonicalString()+r.op.toString()+ro(r.value);if(sT(r))return r.filters.map((e=>vm(e))).join(",");{const e=r.filters.map((i=>vm(i))).join(",");return`${r.op}(${e})`}}function aT(r,e){return r instanceof xt?(function(s,l){return l instanceof xt&&s.op===l.op&&s.field.isEqual(l.field)&&Di(s.value,l.value)})(r,e):r instanceof ni?(function(s,l){return l instanceof ni&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,f,g)=>c&&aT(f,l.filters[g])),!0):!1})(r,e):void ye(19439)}function oT(r){return r instanceof xt?(function(i){return`${i.field.canonicalString()} ${i.op} ${ro(i.value)}`})(r):r instanceof ni?(function(i){return i.op.toString()+" {"+i.getFilters().map(oT).join(" ,")+"}"})(r):"Filter"}class BI extends xt{constructor(e,i,s){super(e,i,s),this.key=fe.fromName(s.referenceValue)}matches(e){const i=fe.comparator(e.key,this.key);return this.matchesComparison(i)}}class qI extends xt{constructor(e,i){super(e,"in",i),this.keys=lT("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class HI extends xt{constructor(e,i){super(e,"not-in",i),this.keys=lT("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function lT(r,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((s=>fe.fromName(s.referenceValue)))}class FI extends xt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return $m(i)&&Hl(i.arrayValue,this.value)}}class GI extends xt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Hl(this.value.arrayValue,i)}}class KI extends xt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Hl(this.value.arrayValue,i)}}class QI extends xt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!$m(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Hl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,i=null,s=[],l=[],c=null,f=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=f,this.endAt=g,this.Te=null}}function J0(r,e=null,i=[],s=[],l=null,c=null,f=null){return new YI(r,e,i,s,l,c,f)}function Jm(r){const e=be(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>vm(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Rh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>ro(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>ro(s))).join(",")),e.Te=i}return e.Te}function Zm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!jI(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!aT(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!$0(r.startAt,e.startAt)&&$0(r.endAt,e.endAt)}function Em(r){return fe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,i=null,s=[],l=[],c=null,f="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function XI(r,e,i,s,l,c,f,g){return new Wl(r,e,i,s,l,c,f,g)}function uT(r){return new Wl(r)}function Z0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function $I(r){return fe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function cT(r){return r.collectionGroup!==null}function Vl(r){const e=be(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new kt(Yt.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new fh(c,s))})),i.has(Yt.keyField().canonicalString())||e.Ie.push(new fh(Yt.keyField(),s))}return e.Ie}function Ci(r){const e=be(r);return e.Ee||(e.Ee=JI(e,Vl(r))),e.Ee}function JI(r,e){if(r.limitType==="F")return J0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new fh(l.field,c)}));const i=r.endAt?new hh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new hh(r.startAt.position,r.startAt.inclusive):null;return J0(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Tm(r,e){const i=r.filters.concat([e]);return new Wl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function bm(r,e,i){return new Wl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Ch(r,e){return Zm(Ci(r),Ci(e))&&r.limitType===e.limitType}function hT(r){return`${Jm(Ci(r))}|lt:${r.limitType}`}function qa(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>oT(l))).join(", ")}]`),Rh(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>ro(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>ro(l))).join(",")),`Target(${s})`})(Ci(r))}; limitType=${r.limitType})`}function xh(r,e){return e.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):fe.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,l){for(const c of Vl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(f,g,y){const _=X0(f,g,y);return f.inclusive?_<=0:_<0})(s.startAt,Vl(s),l)||s.endAt&&!(function(f,g,y){const _=X0(f,g,y);return f.inclusive?_>=0:_>0})(s.endAt,Vl(s),l))})(r,e)}function ZI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function fT(r){return(e,i)=>{let s=!1;for(const l of Vl(r)){const c=WI(l,e,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function WI(r,e,i){const s=r.field.isKeyField()?fe.comparator(e.key,i.key):(function(c,f,g){const y=f.data.field(c),_=g.data.field(c);return y!==null&&_!==null?io(y,_):ye(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ye(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){rs(this.inner,((i,s)=>{for(const[l,c]of s)e(l,c)}))}isEmpty(){return YE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=new ct(fe.comparator);function ir(){return eC}const dT=new ct(fe.comparator);function Cl(...r){let e=dT;for(const i of r)e=e.insert(i.key,i);return e}function mT(r){let e=dT;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Ps(){return kl()}function gT(){return kl()}function kl(){return new Ys((r=>r.toString()),((r,e)=>r.isEqual(e)))}const tC=new ct(fe.comparator),nC=new kt(fe.comparator);function ke(...r){let e=nC;for(const i of r)e=e.add(i);return e}const iC=new kt(Ve);function rC(){return iC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(e)?"-0":e}}function pT(r){return{integerValue:""+r}}function sC(r,e){return NI(e)?pT(e):Wm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(){this._=void 0}}function aC(r,e,i){return r instanceof dh?(function(l,c){const f={fields:{[JE]:{stringValue:$E},[WE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Xm(c)&&(c=Ih(c)),c&&(f.fields[ZE]=c),{mapValue:f}})(i,e):r instanceof Fl?_T(r,e):r instanceof Gl?vT(r,e):(function(l,c){const f=yT(l,c),g=W0(f)+W0(l.Ae);return _m(f)&&_m(l.Ae)?pT(g):Wm(l.serializer,g)})(r,e)}function oC(r,e,i){return r instanceof Fl?_T(r,e):r instanceof Gl?vT(r,e):i}function yT(r,e){return r instanceof mh?(function(s){return _m(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class dh extends Nh{}class Fl extends Nh{constructor(e){super(),this.elements=e}}function _T(r,e){const i=ET(e);for(const s of r.elements)i.some((l=>Di(l,s)))||i.push(s);return{arrayValue:{values:i}}}class Gl extends Nh{constructor(e){super(),this.elements=e}}function vT(r,e){let i=ET(e);for(const s of r.elements)i=i.filter((l=>!Di(l,s)));return{arrayValue:{values:i}}}class mh extends Nh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function W0(r){return yt(r.integerValue||r.doubleValue)}function ET(r){return $m(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function lC(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof Fl&&l instanceof Fl||s instanceof Gl&&l instanceof Gl?no(s.elements,l.elements,Di):s instanceof mh&&l instanceof mh?Di(s.Ae,l.Ae):s instanceof dh&&l instanceof dh})(r.transform,e.transform)}class uC{constructor(e,i){this.version=e,this.transformResults=i}}class Wn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $c(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Dh{}function TT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new eg(r.key,Wn.none()):new eu(r.key,r.data,Wn.none());{const i=r.data,s=dn.empty();let l=new kt(Yt.comparator);for(let c of e.fields)if(!l.has(c)){let f=i.field(c);f===null&&c.length>1&&(c=c.popLast(),f=i.field(c)),f===null?s.delete(c):s.set(c,f),l=l.add(c)}return new ss(r.key,s,new Sn(l.toArray()),Wn.none())}}function cC(r,e,i){r instanceof eu?(function(l,c,f){const g=l.value.clone(),y=tv(l.fieldTransforms,c,f.transformResults);g.setAll(y),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,i):r instanceof ss?(function(l,c,f){if(!$c(l.precondition,c))return void c.convertToUnknownDocument(f.version);const g=tv(l.fieldTransforms,c,f.transformResults),y=c.data;y.setAll(bT(l)),y.setAll(g),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(r,e,i):(function(l,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,i)}function Ll(r,e,i,s){return r instanceof eu?(function(c,f,g,y){if(!$c(c.precondition,f))return g;const _=c.value.clone(),b=nv(c.fieldTransforms,y,f);return _.setAll(b),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null})(r,e,i,s):r instanceof ss?(function(c,f,g,y){if(!$c(c.precondition,f))return g;const _=nv(c.fieldTransforms,y,f),b=f.data;return b.setAll(bT(c)),b.setAll(_),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,e,i,s):(function(c,f,g){return $c(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(r,e,i)}function hC(r,e){let i=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),c=yT(s.transform,l||null);c!=null&&(i===null&&(i=dn.empty()),i.set(s.field,c))}return i||null}function ev(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&no(s,l,((c,f)=>lC(c,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class eu extends Dh{constructor(e,i,s,l=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ss extends Dh{constructor(e,i,s,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function bT(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function tv(r,e,i){const s=new Map;Ke(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let l=0;l<i.length;l++){const c=r[l],f=c.transform,g=e.data.field(c.field);s.set(c.field,oC(f,g,i[l]))}return s}function nv(r,e,i){const s=new Map;for(const l of r){const c=l.transform,f=i.data.field(l.field);s.set(l.field,aC(c,f,e))}return s}class eg extends Dh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fC extends Dh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,i,s,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&cC(c,e,s[l])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Ll(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Ll(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=gT();return this.mutations.forEach((l=>{const c=e.get(l.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=i.has(l.key)?null:g;const y=TT(f,g);y!==null&&s.set(l.key,y),f.isValidDocument()||f.convertToNoDocument(ve.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),ke())}isEqual(e){return this.batchId===e.batchId&&no(this.mutations,e.mutations,((i,s)=>ev(i,s)))&&no(this.baseMutations,e.baseMutations,((i,s)=>ev(i,s)))}}class tg{constructor(e,i,s,l){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(e,i,s){Ke(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return tC})();const c=e.mutations;for(let f=0;f<c.length;f++)l=l.insert(c[f].key,s[f].version);return new tg(e,i,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,Pe;function pC(r){switch(r){case X.OK:return ye(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ye(15467,{code:r})}}function ST(r){if(r===void 0)return nr("GRPC error has no .code"),X.UNKNOWN;switch(r){case It.OK:return X.OK;case It.CANCELLED:return X.CANCELLED;case It.UNKNOWN:return X.UNKNOWN;case It.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case It.INTERNAL:return X.INTERNAL;case It.UNAVAILABLE:return X.UNAVAILABLE;case It.UNAUTHENTICATED:return X.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case It.NOT_FOUND:return X.NOT_FOUND;case It.ALREADY_EXISTS:return X.ALREADY_EXISTS;case It.PERMISSION_DENIED:return X.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case It.ABORTED:return X.ABORTED;case It.OUT_OF_RANGE:return X.OUT_OF_RANGE;case It.UNIMPLEMENTED:return X.UNIMPLEMENTED;case It.DATA_LOSS:return X.DATA_LOSS;default:return ye(39323,{code:r})}}(Pe=It||(It={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=new Qr([4294967295,4294967295],0);function iv(r){const e=yC().encode(r),i=new UE;return i.update(e),new Uint8Array(i.digest())}function rv(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Qr([i,s],0),new Qr([l,c],0)]}class ng{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new xl(`Invalid padding: ${i}`);if(s<0)throw new xl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new xl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Qr.fromNumber(this.ge)}ye(e,i,s){let l=e.add(i.multiply(Qr.fromNumber(s)));return l.compare(_C)===1&&(l=new Qr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=iv(e),[s,l]=rv(i);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,l,c);if(!this.we(f))return!1}return!0}static create(e,i,s){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new ng(c,l,i);return s.forEach((g=>f.insert(g))),f}insert(e){if(this.ge===0)return;const i=iv(e),[s,l]=rv(i);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,l,c);this.be(f)}}be(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,i,s,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const l=new Map;return l.set(e,tu.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Oh(ve.min(),l,new ct(Ve),ir(),ke())}}class tu{constructor(e,i,s,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new tu(s,i,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,i,s,l){this.Se=e,this.removedTargetIds=i,this.key=s,this.De=l}}class AT{constructor(e,i){this.targetId=e,this.Ce=i}}class wT{constructor(e,i,s=Xt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=l}}class sv{constructor(){this.ve=0,this.Fe=av(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),i=ke(),s=ke();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:ye(38017,{changeType:c})}})),new tu(this.Me,this.xe,e,i,s)}Ke(){this.Oe=!1,this.Fe=av()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class vC{constructor(e){this.Ge=e,this.ze=new Map,this.je=ir(),this.He=jc(),this.Je=jc(),this.Ze=new ct(Ve)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,s=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Em(c))if(s===0){const f=new fe(c.path);this.et(i,f,Wt.newNoDocument(f,ve.min()))}else Ke(s===1,20013,{expectedCount:s});else{const f=this._t(i);if(f!==s){const g=this.ut(e),y=g?this.ct(g,e,f):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let f,g;try{f=Zr(s).toUint8Array()}catch(y){if(y instanceof XE)return Fs("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new ng(f,l,c)}catch(y){return Fs(y instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,f)=>{const g=this.ot(f);if(g){if(c.current&&Em(g.target)){const y=new fe(g.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,Wt.newNoDocument(y,e))}c.Be&&(i.set(f,c.ke()),c.Ke())}}));let s=ke();this.Je.forEach(((c,f)=>{let g=!0;f.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const l=new Oh(e,i,this.Ze,this.je,s);return this.je=ir(),this.He=jc(),this.Je=jc(),this.Ze=new ct(Ve),l}Ye(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,s),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new sv,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new kt(Ve),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new kt(Ve),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||se("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new sv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function jc(){return new ct(fe.comparator)}function av(){return new ct(fe.comparator)}const EC={asc:"ASCENDING",desc:"DESCENDING"},TC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bC={and:"AND",or:"OR"};class SC{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Sm(r,e){return r.useProto3Json||Rh(e)?e:{value:e}}function gh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function AC(r,e){return gh(r,e.toTimestamp())}function xi(r){return Ke(!!r,49232),ve.fromTimestamp((function(i){const s=Jr(i);return new st(s.seconds,s.nanos)})(r))}function ig(r,e){return Am(r,e).canonicalString()}function Am(r,e){const i=(function(l){return new nt(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function IT(r){const e=nt.fromString(r);return Ke(OT(e),10190,{key:e.toString()}),e}function wm(r,e){return ig(r.databaseId,e.path)}function Zd(r,e){const i=IT(e);if(i.get(1)!==r.databaseId.projectId)throw new re(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new re(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new fe(xT(i))}function CT(r,e){return ig(r.databaseId,e)}function wC(r){const e=IT(r);return e.length===4?nt.emptyPath():xT(e)}function Rm(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function xT(r){return Ke(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function ov(r,e,i){return{name:wm(r,e),fields:i.value.mapValue.fields}}function RC(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ye(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?(Ke(b===void 0||typeof b=="string",58123),Xt.fromBase64String(b||"")):(Ke(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Xt.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&(function(_){const b=_.code===void 0?X.UNKNOWN:ST(_.code);return new re(b,_.message||"")})(f);i=new wT(s,l,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=Zd(r,s.document.name),c=xi(s.document.updateTime),f=s.document.createTime?xi(s.document.createTime):ve.min(),g=new dn({mapValue:{fields:s.document.fields}}),y=Wt.newFoundDocument(l,c,f,g),_=s.targetIds||[],b=s.removedTargetIds||[];i=new Jc(_,b,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=Zd(r,s.document),c=s.readTime?xi(s.readTime):ve.min(),f=Wt.newNoDocument(l,c),g=s.removedTargetIds||[];i=new Jc([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=Zd(r,s.document),c=s.removedTargetIds||[];i=new Jc([],c,l,null)}else{if(!("filter"in e))return ye(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,f=new gC(l,c),g=s.targetId;i=new AT(g,f)}}return i}function IC(r,e){let i;if(e instanceof eu)i={update:ov(r,e.key,e.value)};else if(e instanceof eg)i={delete:wm(r,e.key)};else if(e instanceof ss)i={update:ov(r,e.key,e.data),updateMask:LC(e.fieldMask)};else{if(!(e instanceof fC))return ye(16599,{dt:e.type});i={verify:wm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,f){const g=f.transform;if(g instanceof dh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Fl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Gl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof mh)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw ye(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:AC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ye(27497)})(r,e.precondition)),i}function CC(r,e){return r&&r.length>0?(Ke(e!==void 0,14353),r.map((i=>(function(l,c){let f=l.updateTime?xi(l.updateTime):xi(c);return f.isEqual(ve.min())&&(f=xi(c)),new uC(f,l.transformResults||[])})(i,e)))):[]}function xC(r,e){return{documents:[CT(r,e.path)]}}function NC(r,e){const i={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=CT(r,l);const c=(function(_){if(_.length!==0)return DT(ni.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const f=(function(_){if(_.length!==0)return _.map((b=>(function(C){return{field:Ha(C.field),direction:MC(C.dir)}})(b)))})(e.orderBy);f&&(i.structuredQuery.orderBy=f);const g=Sm(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function DC(r){let e=wC(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){Ke(s===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const C=NT(A);return C instanceof ni&&sT(C)?C.getFilters():[C]})(i.where));let f=[];i.orderBy&&(f=(function(A){return A.map((C=>(function(J){return new fh(Fa(J.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(C)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let C;return C=typeof A=="object"?A.value:A,Rh(C)?null:C})(i.limit));let y=null;i.startAt&&(y=(function(A){const C=!!A.before,H=A.values||[];return new hh(H,C)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const C=!A.before,H=A.values||[];return new hh(H,C)})(i.endAt)),XI(e,l,f,c,g,"F",y,_)}function OC(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function NT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Fa(i.unaryFilter.field);return xt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Fa(i.unaryFilter.field);return xt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Fa(i.unaryFilter.field);return xt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Fa(i.unaryFilter.field);return xt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(r):r.fieldFilter!==void 0?(function(i){return xt.create(Fa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ni.create(i.compositeFilter.filters.map((s=>NT(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(i.compositeFilter.op))})(r):ye(30097,{filter:r})}function MC(r){return EC[r]}function VC(r){return TC[r]}function kC(r){return bC[r]}function Ha(r){return{fieldPath:r.canonicalString()}}function Fa(r){return Yt.fromServerFormat(r.fieldPath)}function DT(r){return r instanceof xt?(function(i){if(i.op==="=="){if(Y0(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NAN"}};if(Q0(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Y0(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NAN"}};if(Q0(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(i.field),op:VC(i.op),value:i.value}}})(r):r instanceof ni?(function(i){const s=i.getFilters().map((l=>DT(l)));return s.length===1?s[0]:{compositeFilter:{op:kC(i.op),filters:s}}})(r):ye(54877,{filter:r})}function LC(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function OT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function MT(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,i,s,l,c=ve.min(),f=ve.min(),g=Xt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new Hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e){this.yt=e}}function PC(r){const e=DC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?bm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.Sn=new zC}addToCollectionParentIndex(e,i){return this.Sn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve($r.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve($r.min())}updateCollectionGroup(e,i,s){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class zC{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i]||new kt(nt.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(e){return(this.index[e]||new kt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VT=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(VT,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new so(0)}static ar(){return new so(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="LruGarbageCollector",BC=1048576;function cv([r,e],[i,s]){const l=Ve(r,i);return l===0?Ve(e,s):l}class qC{constructor(e){this.Pr=e,this.buffer=new kt(cv),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();cv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class HC{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){se(uv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){mo(i)?se(uv,"Ignoring IndexedDB error during garbage collection: ",i):await fo(i)}await this.Ar(3e5)}))}}class FC{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(wh.ce);const s=new qC(i);return this.Vr.forEachTarget(e,(l=>s.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>s.Er(l))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.Vr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(lv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lv):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let s,l,c,f,g,y,_;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,f=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(s=A,g=Date.now(),this.removeTargets(e,s,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((A=>(_=Date.now(),Ba()<=Me.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${l} in `+(g-f)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function GC(r,e){return new FC(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(){this.changes=new Ys((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?$.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,i,s,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(s!==null&&Ll(s.mutation,l,Sn.empty(),st.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=ke()){const l=Ps();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,s).next((c=>{let f=Cl();return c.forEach(((g,y)=>{f=f.insert(g,y.overlayedDocument)})),f}))))}getOverlayedDocuments(e,i){const s=Ps();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,ke())))}populateOverlays(e,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((f,g)=>{i.set(f,g)}))}))}computeViews(e,i,s,l){let c=ir();const f=kl(),g=(function(){return kl()})();return i.forEach(((y,_)=>{const b=s.get(_.key);l.has(_.key)&&(b===void 0||b.mutation instanceof ss)?c=c.insert(_.key,_):b!==void 0?(f.set(_.key,b.mutation.getFieldMask()),Ll(b.mutation,_,b.mutation.getFieldMask(),st.now())):f.set(_.key,Sn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,b)=>f.set(_,b))),i.forEach(((_,b)=>g.set(_,new QC(b,f.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const s=kl();let l=new ct(((f,g)=>f-g)),c=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((f=>{for(const g of f)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let b=s.get(y)||Sn.empty();b=g.applyToLocalView(_,b),s.set(y,b);const A=(l.get(g.batchId)||ke()).add(y);l=l.insert(g.batchId,A)}))})).next((()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,b=y.value,A=gT();b.forEach((C=>{if(!c.has(C)){const H=TT(i.get(C),s.get(C));H!==null&&A.set(C,H),c=c.add(C)}})),f.push(this.documentOverlayCache.saveOverlays(e,_,A))}return $.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,l){return $I(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):cT(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,l):this.getDocumentsMatchingCollectionQuery(e,i,s,l)}getNextDocuments(e,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,l).next((c=>{const f=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,l-c.size):$.resolve(Ps());let g=zl,y=c;return f.next((_=>$.forEach(_,((b,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(b)?$.resolve():this.remoteDocumentCache.getEntry(e,b).next((C=>{y=y.insert(b,C)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,ke()))).next((b=>({batchId:g,changes:mT(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new fe(i)).next((s=>{let l=Cl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,l){const c=i.collectionGroup;let f=Cl();return this.indexManager.getCollectionParents(e,c).next((g=>$.forEach(g,(y=>{const _=(function(A,C){return new Wl(C,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,s,l).next((b=>{b.forEach(((A,C)=>{f=f.insert(A,C)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,l)))).next((f=>{c.forEach(((y,_)=>{const b=_.getKey();f.get(b)===null&&(f=f.insert(b,Wt.newInvalidDocument(b)))}));let g=Cl();return f.forEach(((y,_)=>{const b=c.get(y);b!==void 0&&Ll(b.mutation,_,Sn.empty(),st.now()),xh(i,_)&&(g=g.insert(y,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:xi(l.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:PC(l.bundledQuery),readTime:xi(l.readTime)}})(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.overlays=new ct(fe.comparator),this.Lr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Ps();return $.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((l,c)=>{this.bt(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,s){const l=this.Lr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),$.resolve()}getOverlaysForCollection(e,i,s){const l=Ps(),c=i.length+1,f=new fe(i.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>s&&l.set(y.getKey(),y)}return $.resolve(l)}getOverlaysForCollectionGroup(e,i,s,l){let c=new ct(((_,b)=>_-b));const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let b=c.get(_.largestBatchId);b===null&&(b=Ps(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const g=Ps(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,b)=>g.set(_,b))),!(g.size()>=l)););return $.resolve(g)}bt(e,i,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.Lr.get(l.largestBatchId).delete(s.key);this.Lr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new mC(i,s));let c=this.Lr.get(i);c===void 0&&(c=ke(),this.Lr.set(i,c)),this.Lr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this.kr=new kt(jt.Kr),this.qr=new kt(jt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const s=new jt(e,i);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Wr(new jt(e,i))}Qr(e,i){e.forEach((s=>this.removeReference(s,i)))}Gr(e){const i=new fe(new nt([])),s=new jt(i,e),l=new jt(i,e+1),c=[];return this.qr.forEachInRange([s,l],(f=>{this.Wr(f),c.push(f.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new fe(new nt([])),s=new jt(i,e),l=new jt(i,e+1);let c=ke();return this.qr.forEachInRange([s,l],(f=>{c=c.add(f.key)})),c}containsKey(e){const i=new jt(e,0),s=this.kr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return fe.comparator(e.key,i.key)||Ve(e.Hr,i.Hr)}static Ur(e,i){return Ve(e.Hr,i.Hr)||fe.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new kt(jt.Kr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new dC(c,i,s,l);this.mutationQueue.push(f);for(const g of l)this.Jr=this.Jr.add(new jt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return $.resolve(f)}lookupMutationBatch(e,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,l=this.Xr(s),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Ym:this.Yn-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new jt(i,0),l=new jt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,l],(f=>{const g=this.Zr(f.Hr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new kt(Ve);return i.forEach((l=>{const c=new jt(l,0),f=new jt(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,f],(g=>{s=s.add(g.Hr)}))})),$.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,l=s.length+1;let c=s;fe.isDocumentKey(c)||(c=c.child(""));const f=new jt(new fe(c),0);let g=new kt(Ve);return this.Jr.forEachWhile((y=>{const _=y.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(g=g.add(y.Hr)),!0)}),f),$.resolve(this.Yr(g))}Yr(e){const i=[];return e.forEach((s=>{const l=this.Zr(s);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){Ke(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return $.forEach(i.mutations,(l=>{const c=new jt(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,i){const s=new jt(i,0),l=this.Jr.firstAfterOrEqual(s);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.ti=e,this.docs=(function(){return new ct(fe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,f=this.ti(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return $.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(i))}getEntries(e,i){let s=ir();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Wt.newInvalidDocument(l))})),$.resolve(s)}getDocumentsMatchingQuery(e,i,s,l){let c=ir();const f=i.path,g=new fe(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:b}}=y.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||RI(wI(b),s)<=0||(l.has(b.key)||xh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,s,l){ye(9500)}ni(e,i){return $.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new ex(this)}getSize(e){return $.resolve(this.size)}}class ex extends KC{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(s)})),$.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e){this.persistence=e,this.ri=new Ys((i=>Jm(i)),Zm),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.ii=0,this.si=new rg,this.targetCount=0,this.oi=so._r()}forEachTarget(e,i){return this.ri.forEach(((s,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ii&&(this.ii=i),$.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new so(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.lr(i),$.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,s){let l=0;const c=[];return this.ri.forEach(((f,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.ri.delete(f),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const s=this.ri.get(i)||null;return $.resolve(s)}addMatchingKeys(e,i,s){return this.si.$r(i,s),$.resolve()}removeMatchingKeys(e,i,s){this.si.Qr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((f=>{c.push(l.markPotentiallyOrphaned(e,f))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const s=this.si.jr(i);return $.resolve(s)}containsKey(e,i){return $.resolve(this.si.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,i){this._i={},this.overlays={},this.ai=new wh(0),this.ui=!1,this.ui=!0,this.ci=new JC,this.referenceDelegate=e(this),this.li=new tx(this),this.indexManager=new jC,this.remoteDocumentCache=(function(l){return new WC(l)})((s=>this.referenceDelegate.hi(s))),this.serializer=new UC(i),this.Pi=new XC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new $C,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this._i[e.toKey()];return s||(s=new ZC(i,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,s){se("MemoryPersistence","Starting transaction:",e);const l=new nx(this.ai.next());return this.referenceDelegate.Ti(),s(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,i){return $.or(Object.values(this._i).map((s=>()=>s.containsKey(e,i))))}}class nx extends CI{constructor(e){super(),this.currentSequenceNumber=e}}class sg{constructor(e){this.persistence=e,this.Ri=new rg,this.Ai=null}static Vi(e){return new sg(e)}get di(){if(this.Ai)return this.Ai;throw ye(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.di.delete(s.toString()),$.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.di.add(s.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(s=>{const l=fe.fromPath(s);return this.mi(e,l).next((c=>{c||i.removeEntry(l,ve.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class ph{constructor(e,i){this.persistence=e,this.fi=new Ys((s=>DI(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=GC(this,i)}static Vi(e,i){return new ph(e,i)}Ti(){}Ii(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((l=>s+l))))}pr(e){let i=0;return this.mr(e,(s=>{i++})).next((()=>i))}mr(e,i){return $.forEach(this.fi,((s,l)=>this.wr(e,s,l).next((c=>c?$.resolve():i(l)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(f=>this.wr(e,f,i).next((g=>{g||(s++,c.removeEntry(f,ve.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.fi.set(s,e.currentSequenceNumber),$.resolve()}removeReference(e,i,s){return this.fi.set(s,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Yc(e.data.value)),i}wr(e,i,s){return $.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.fi.get(i);return $.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,i,s,l){this.targetId=e,this.fromCache=i,this.Ts=s,this.Is=l}static Es(e,i){let s=ke(),l=ke();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new ag(e,i.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return DA()?8:xI(en())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,l){const c={result:null};return this.gs(e,i).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ps(e,i,l,s).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new ix;return this.ys(e,i,f).next((g=>{if(c.result=g,this.As)return this.ws(e,i,f,g.size)}))})).next((()=>c.result))}ws(e,i,s,l){return s.documentReadCount<this.Vs?(Ba()<=Me.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(Ba()<=Me.DEBUG&&se("QueryEngine","Query:",qa(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ds*l?(Ba()<=Me.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(i))):$.resolve())}gs(e,i){if(Z0(i))return $.resolve(null);let s=Ci(i);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=bm(i,null,"F"),s=Ci(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const f=ke(...c);return this.fs.getDocuments(e,f).next((g=>this.indexManager.getMinOffset(e,s).next((y=>{const _=this.bs(i,g);return this.Ss(i,_,f,y.readTime)?this.gs(e,bm(i,null,"F")):this.Ds(e,_,i,y)}))))})))))}ps(e,i,s,l){return Z0(i)||l.isEqual(ve.min())?$.resolve(null):this.fs.getDocuments(e,s).next((c=>{const f=this.bs(i,c);return this.Ss(i,f,s,l)?$.resolve(null):(Ba()<=Me.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),qa(i)),this.Ds(e,f,i,AI(l,zl)).next((g=>g)))}))}bs(e,i){let s=new kt(fT(e));return i.forEach(((l,c)=>{xh(e,c)&&(s=s.add(c))})),s}Ss(e,i,s,l){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,i,s){return Ba()<=Me.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",qa(i)),this.fs.getDocumentsMatchingQuery(e,i,$r.min(),s)}Ds(e,i,s,l){return this.fs.getDocumentsMatchingQuery(e,s,l).next((c=>(i.forEach((f=>{c=c.insert(f.key,f)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="LocalStore",sx=3e8;class ax{constructor(e,i,s,l){this.persistence=e,this.Cs=i,this.serializer=l,this.vs=new ct(Ve),this.Fs=new Ys((c=>Jm(c)),Zm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function ox(r,e,i,s){return new ax(r,e,i,s)}async function LT(r,e){const i=be(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Os(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const f=[],g=[];let y=ke();for(const _ of l){f.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}for(const _ of c){g.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}return i.localDocuments.getDocuments(s,y).next((_=>({Ns:_,removedBatchIds:f,addedBatchIds:g})))}))}))}function lx(r,e){const i=be(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,b){const A=_.batch,C=A.keys();let H=$.resolve();return C.forEach((J=>{H=H.next((()=>b.getEntry(y,J))).next((Z=>{const W=_.docVersions.get(J);Ke(W!==null,48541),Z.version.compareTo(W)<0&&(A.applyToRemoteDocument(Z,_),Z.isValidDocument()&&(Z.setReadTime(_.commitVersion),b.addEntry(Z)))}))})),H.next((()=>g.mutationQueue.removeMutationBatch(y,A)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let y=ke();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function UT(r){const e=be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function ux(r,e){const i=be(r),s=e.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const g=[];e.targetChanges.forEach(((b,A)=>{const C=l.get(A);if(!C)return;g.push(i.li.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,A))));let H=C.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?H=H.withResumeToken(Xt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):b.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(b.resumeToken,s)),l=l.insert(A,H),(function(Z,W,ce){return Z.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=sx?!0:ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0})(C,H,b)&&g.push(i.li.updateTargetData(c,H))}));let y=ir(),_=ke();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(cx(c,f,e.documentUpdates).next((b=>{y=b.Bs,_=b.Ls}))),!s.isEqual(ve.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));g.push(b)}return $.waitFor(g).next((()=>f.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.vs=l,c)))}function cx(r,e,i){let s=ke(),l=ke();return i.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let f=ir();return i.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(ve.min())?(e.removeEntry(g,y.readTime),f=f.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),f=f.insert(g,y)):se(og,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{Bs:f,Ls:l}}))}function hx(r,e){const i=be(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ym),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function fx(r,e){const i=be(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.li.getTargetData(s,e).next((c=>c?(l=c,$.resolve(l)):i.li.allocateTargetId(s).next((f=>(l=new Hr(e,f,"TargetPurposeListen",s.currentSequenceNumber),i.li.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.vs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(s.targetId,s),i.Fs.set(e,s.targetId)),s}))}async function Im(r,e,i){const s=be(r),l=s.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(f=>s.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!mo(f))throw f;se(og,`Failed to update sequence numbers for target ${e}: ${f}`)}s.vs=s.vs.remove(e),s.Fs.delete(l.target)}function hv(r,e,i){const s=be(r);let l=ve.min(),c=ke();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,_,b){const A=be(y),C=A.Fs.get(b);return C!==void 0?$.resolve(A.vs.get(C)):A.li.getTargetData(_,b)})(s,f,Ci(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,g.targetId).next((y=>{c=y}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,i?l:ve.min(),i?c:ke()))).next((g=>(dx(s,ZI(e),g),{documents:g,ks:c})))))}function dx(r,e,i){let s=r.Ms.get(e)||ve.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Ms.set(e,s)}class fv{constructor(){this.activeTargetIds=rC()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mx{constructor(){this.vo=new fv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,s){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new fv,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="ConnectivityMonitor";class mv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){se(dv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){se(dv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc=null;function Cm(){return zc===null?zc=(function(){return 268435456+Math.round(2147483648*Math.random())})():zc++,"0x"+zc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="RestConnection",px={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class yx{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${s}/databases/${l}`,this.$o=this.databaseId.database===uh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Wo(e,i,s,l,c){const f=Cm(),g=this.Qo(e,i.toUriEncodedString());se(Wd,`Sending RPC '${e}' ${f}:`,g,s);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,l,c);const{host:_}=new URL(g),b=lo(_);return this.zo(e,g,y,s,b).then((A=>(se(Wd,`Received RPC '${e}' ${f}: `,A),A)),(A=>{throw Fs(Wd,`RPC '${e}' ${f} failed with error: `,A,"url: ",g,"request:",s),A}))}jo(e,i,s,l,c,f){return this.Wo(e,i,s,l,c)}Go(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ho})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),s&&s.headers.forEach(((l,c)=>e[c]=l))}Qo(e,i){const s=px[e];let l=`${this.qo}/v1/${i}:${s}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection",Al=(r,e,i)=>{r.listen(e,(s=>{try{i(s)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Ja extends yx{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ja.c_){const e=BE();Al(e,zE.STAT_EVENT,(i=>{i.stat===gm.PROXY?se(Jt,"STAT_EVENT: detected buffering proxy"):i.stat===gm.NOPROXY&&se(Jt,"STAT_EVENT: detected no buffering proxy")})),Ja.c_=!0}}zo(e,i,s,l,c){const f=Cm();return new Promise(((g,y)=>{const _=new PE;_.setWithCredentials(!0),_.listenOnce(jE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Qc.NO_ERROR:const A=_.getResponseJson();se(Jt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),g(A);break;case Qc.TIMEOUT:se(Jt,`RPC '${e}' ${f} timed out`),y(new re(X.DEADLINE_EXCEEDED,"Request time out"));break;case Qc.HTTP_ERROR:const C=_.getStatus();if(se(Jt,`RPC '${e}' ${f} failed with status:`,C,"response text:",_.getResponseText()),C>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const J=H==null?void 0:H.error;if(J&&J.status&&J.message){const Z=(function(ce){const le=ce.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(le)>=0?le:X.UNKNOWN})(J.status);y(new re(Z,J.message))}else y(new re(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new re(X.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:f,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{se(Jt,`RPC '${e}' ${f} completed.`)}}));const b=JSON.stringify(l);se(Jt,`RPC '${e}' ${f} sending request:`,l),_.send(i,"POST",b,s,15)}))}T_(e,i,s){const l=Cm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,s),g.encodeInitMessageHeaders=!0;const _=c.join("");se(Jt,`Creating RPC '${e}' stream ${l}: ${_}`,g);const b=f.createWebChannel(_,g);this.I_(b);let A=!1,C=!1;const H=new _x({Ho:J=>{C?se(Jt,`Not sending because RPC '${e}' stream ${l} is closed:`,J):(A||(se(Jt,`Opening RPC '${e}' stream ${l} transport.`),b.open(),A=!0),se(Jt,`RPC '${e}' stream ${l} sending:`,J),b.send(J))},Jo:()=>b.close()});return Al(b,Il.EventType.OPEN,(()=>{C||(se(Jt,`RPC '${e}' stream ${l} transport opened.`),H.i_())})),Al(b,Il.EventType.CLOSE,(()=>{C||(C=!0,se(Jt,`RPC '${e}' stream ${l} transport closed`),H.o_(),this.E_(b))})),Al(b,Il.EventType.ERROR,(J=>{C||(C=!0,Fs(Jt,`RPC '${e}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),H.o_(new re(X.UNAVAILABLE,"The operation could not be completed")))})),Al(b,Il.EventType.MESSAGE,(J=>{var Z;if(!C){const W=J.data[0];Ke(!!W,16349);const ce=W,le=(ce==null?void 0:ce.error)||((Z=ce[0])==null?void 0:Z.error);if(le){se(Jt,`RPC '${e}' stream ${l} received error:`,le);const me=le.status;let ee=(function(D){const w=It[D];if(w!==void 0)return ST(w)})(me),Ee=le.message;me==="NOT_FOUND"&&Ee.includes("database")&&Ee.includes("does not exist")&&Ee.includes(this.databaseId.database)&&Fs(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ee===void 0&&(ee=X.INTERNAL,Ee="Unknown error status: "+me+" with message "+le.message),C=!0,H.o_(new re(ee,Ee)),b.close()}else se(Jt,`RPC '${e}' stream ${l} received:`,W),H.__(W)}})),Ja.u_(),setTimeout((()=>{H.s_()}),0),H}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,s){super.Go(e,i,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return qE()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(r){return new Ja(r)}function em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(r){return new SC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ja.c_=!1;class PT{constructor(e,i,s=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=s,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&se("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="PersistentStream";class jT{constructor(e,i,s,l,c,f,g,y){this.Ci=e,this.b_=s,this.S_=l,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new PT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(nr(i.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{e((()=>{const l=new re(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,i){const s=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return se(gv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(se(gv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Ex extends jT{constructor(e,i,s,l,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,f),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=RC(this.serializer,e),s=(function(c){if(!("targetChange"in c))return ve.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?ve.min():f.readTime?xi(f.readTime):ve.min()})(e);return this.listener.J_(i,s)}Z_(e){const i={};i.database=Rm(this.serializer),i.addTarget=(function(c,f){let g;const y=f.target;if(g=Em(y)?{documents:xC(c,y)}:{query:NC(c,y).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=RT(c,f.resumeToken);const _=Sm(c,f.expectedCount);_!==null&&(g.expectedCount=_)}else if(f.snapshotVersion.compareTo(ve.min())>0){g.readTime=gh(c,f.snapshotVersion.toTimestamp());const _=Sm(c,f.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const s=OC(this.serializer,e);s&&(i.labels=s),this.K_(i)}X_(e){const i={};i.database=Rm(this.serializer),i.removeTarget=e,this.K_(i)}}class Tx extends jT{constructor(e,i,s,l,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,f),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=CC(e.writeResults,e.commitTime),s=xi(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=Rm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>IC(this.serializer,s)))};this.K_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{}class Sx extends bx{constructor(e,i,s,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new re(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Wo(e,Am(i,s),l,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new re(X.UNKNOWN,c.toString())}))}jo(e,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.jo(e,Am(i,s),l,f,g,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new re(X.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Ax(r,e,i,s){return new Sx(r,e,i,s)}class wx{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(nr(i),this.aa=!1):se("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="RemoteStore";class Rx{constructor(e,i,s,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{Xs(this)&&(se(Ks,"Restarting streams for network reachability change."),await(async function(y){const _=be(y);_.Ea.add(4),await nu(_),_.Va.set("Unknown"),_.Ea.delete(4),await Vh(_)})(this))}))})),this.Va=new wx(s,l)}}async function Vh(r){if(Xs(r))for(const e of r.Ra)await e(!0)}async function nu(r){for(const e of r.Ra)await e(!1)}function zT(r,e){const i=be(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),hg(i)?cg(i):go(i).O_()&&ug(i,e))}function lg(r,e){const i=be(r),s=go(i);i.Ia.delete(e),s.O_()&&BT(i,e),i.Ia.size===0&&(s.O_()?s.L_():Xs(i)&&i.Va.set("Unknown"))}function ug(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}go(r).Z_(e)}function BT(r,e){r.da.$e(e),go(r).X_(e)}function cg(r){r.da=new vC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),go(r).start(),r.Va.ua()}function hg(r){return Xs(r)&&!go(r).x_()&&r.Ia.size>0}function Xs(r){return be(r).Ea.size===0}function qT(r){r.da=void 0}async function Ix(r){r.Va.set("Online")}async function Cx(r){r.Ia.forEach(((e,i)=>{ug(r,e)}))}async function xx(r,e){qT(r),hg(r)?(r.Va.ha(e),cg(r)):r.Va.set("Unknown")}async function Nx(r,e,i){if(r.Va.set("Online"),e instanceof wT&&e.state===2&&e.cause)try{await(async function(l,c){const f=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.Ia.delete(g),l.da.removeTarget(g))})(r,e)}catch(s){se(Ks,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await yh(r,s)}else if(e instanceof Jc?r.da.Xe(e):e instanceof AT?r.da.st(e):r.da.tt(e),!i.isEqual(ve.min()))try{const s=await UT(r.localStore);i.compareTo(s)>=0&&await(function(c,f){const g=c.da.Tt(f);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(y.resumeToken,f))}})),g.targetMismatches.forEach(((y,_)=>{const b=c.Ia.get(y);if(!b)return;c.Ia.set(y,b.withResumeToken(Xt.EMPTY_BYTE_STRING,b.snapshotVersion)),BT(c,y);const A=new Hr(b.target,y,_,b.sequenceNumber);ug(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(s){se(Ks,"Failed to raise snapshot:",s),await yh(r,s)}}async function yh(r,e,i){if(!mo(e))throw e;r.Ea.add(1),await nu(r),r.Va.set("Offline"),i||(i=()=>UT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{se(Ks,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Vh(r)}))}function HT(r,e){return e().catch((i=>yh(r,i,e)))}async function kh(r){const e=be(r),i=es(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ym;for(;Dx(e);)try{const l=await hx(e.localStore,s);if(l===null){e.Ta.length===0&&i.L_();break}s=l.batchId,Ox(e,l)}catch(l){await yh(e,l)}FT(e)&&GT(e)}function Dx(r){return Xs(r)&&r.Ta.length<10}function Ox(r,e){r.Ta.push(e);const i=es(r);i.O_()&&i.Y_&&i.ea(e.mutations)}function FT(r){return Xs(r)&&!es(r).x_()&&r.Ta.length>0}function GT(r){es(r).start()}async function Mx(r){es(r).ra()}async function Vx(r){const e=es(r);for(const i of r.Ta)e.ea(i.mutations)}async function kx(r,e,i){const s=r.Ta.shift(),l=tg.from(s,e,i);await HT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await kh(r)}async function Lx(r,e){e&&es(r).Y_&&await(async function(s,l){if((function(f){return pC(f)&&f!==X.ABORTED})(l.code)){const c=s.Ta.shift();es(s).B_(),await HT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await kh(s)}})(r,e),FT(r)&&GT(r)}async function pv(r,e){const i=be(r);i.asyncQueue.verifyOperationInProgress(),se(Ks,"RemoteStore received new credentials");const s=Xs(i);i.Ea.add(3),await nu(i),s&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Vh(i)}async function Ux(r,e){const i=be(r);e?(i.Ea.delete(2),await Vh(i)):e||(i.Ea.add(2),await nu(i),i.Va.set("Unknown"))}function go(r){return r.ma||(r.ma=(function(i,s,l){const c=be(i);return c.sa(),new Ex(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:Ix.bind(null,r),Yo:Cx.bind(null,r),t_:xx.bind(null,r),J_:Nx.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),hg(r)?cg(r):r.Va.set("Unknown")):(await r.ma.stop(),qT(r))}))),r.ma}function es(r){return r.fa||(r.fa=(function(i,s,l){const c=be(i);return c.sa(),new Tx(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Mx.bind(null,r),t_:Lx.bind(null,r),ta:Vx.bind(null,r),na:kx.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await kh(r)):(await r.fa.stop(),r.Ta.length>0&&(se(Ks,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,i,s,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,l,c){const f=Date.now()+s,g=new fg(e,i,f,l,c);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dg(r,e){if(nr("AsyncQueue",`${e}: ${r}`),mo(r))return new re(X.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{static emptySet(e){return new Za(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||fe.comparator(i.key,s.key):(i,s)=>fe.comparator(i.key,s.key),this.keyedMap=Cl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Za)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Za;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(){this.ga=new ct(fe.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ye(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class ao{constructor(e,i,s,l,c,f,g,y,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,l,c){const f=[];return i.forEach((g=>{f.push({type:0,doc:g})})),new ao(e,i,Za.emptySet(i),f,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class jx{constructor(){this.queries=_v(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=be(i),c=l.queries;l.queries=_v(),c.forEach(((f,g)=>{for(const y of g.ba)y.onError(s)}))})(this,new re(X.ABORTED,"Firestore shutting down"))}}function _v(){return new Ys((r=>hT(r)),Ch)}async function zx(r,e){const i=be(r);let s=3;const l=e.query;let c=i.queries.get(l);c?!c.Sa()&&e.Da()&&(s=2):(c=new Px,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(f){const g=dg(f,`Initialization of query '${qa(e.query)}' failed`);return void e.onError(g)}i.queries.set(l,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&mg(i)}async function Bx(r,e){const i=be(r),s=e.query;let l=3;const c=i.queries.get(s);if(c){const f=c.ba.indexOf(e);f>=0&&(c.ba.splice(f,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function qx(r,e){const i=be(r);let s=!1;for(const l of e){const c=l.query,f=i.queries.get(c);if(f){for(const g of f.ba)g.Fa(l)&&(s=!0);f.wa=l}}s&&mg(i)}function Hx(r,e,i){const s=be(r),l=s.queries.get(e);if(l)for(const c of l.ba)c.onError(i);s.queries.delete(e)}function mg(r){r.Ca.forEach((e=>{e.next()}))}var xm,vv;(vv=xm||(xm={})).Ma="default",vv.Cache="cache";class Fx{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new ao(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==xm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this.key=e}}class QT{constructor(e){this.key=e}}class Gx{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ke(),this.mutatedKeys=ke(),this.eu=fT(e),this.tu=new Za(this.eu)}get nu(){return this.Za}ru(e,i){const s=i?i.iu:new yv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,f=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,A)=>{const C=l.get(b),H=xh(this.query,A)?A:null,J=!!C&&this.mutatedKeys.has(C.key),Z=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let W=!1;C&&H?C.data.isEqual(H.data)?J!==Z&&(s.track({type:3,doc:H}),W=!0):this.su(C,H)||(s.track({type:2,doc:H}),W=!0,(y&&this.eu(H,y)>0||_&&this.eu(H,_)<0)&&(g=!0)):!C&&H?(s.track({type:0,doc:H}),W=!0):C&&!H&&(s.track({type:1,doc:C}),W=!0,(y||_)&&(g=!0)),W&&(H?(f=f.add(H),c=Z?c.add(b):c.delete(b)):(f=f.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),c=c.delete(b.key),s.track({type:1,doc:b})}return{tu:f,iu:s,Ss:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,A)=>(function(H,J){const Z=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Vt:W})}};return Z(H)-Z(J)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(s),l=l??!1;const g=i&&!l?this._u():[],y=this.Ya.size===0&&this.current&&!l?1:0,_=y!==this.Xa;return this.Xa=y,f.length!==0||_?{snapshot:new ao(this.query,e.tu,c,f,e.mutatedKeys,y===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const i=[];return e.forEach((s=>{this.Ya.has(s)||i.push(new QT(s))})),this.Ya.forEach((s=>{e.has(s)||i.push(new KT(s))})),i}cu(e){this.Za=e.ks,this.Ya=ke();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const gg="SyncEngine";class Kx{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class Qx{constructor(e){this.key=e,this.hu=!1}}class Yx{constructor(e,i,s,l,c,f){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ys((g=>hT(g)),Ch),this.Iu=new Map,this.Eu=new Set,this.Ru=new ct(fe.comparator),this.Au=new Map,this.Vu=new rg,this.du={},this.mu=new Map,this.fu=so.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Xx(r,e,i=!0){const s=WT(r);let l;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await YT(s,e,i,!0),l}async function $x(r,e){const i=WT(r);await YT(i,e,!0,!1)}async function YT(r,e,i,s){const l=await fx(r.localStore,Ci(e)),c=l.targetId,f=r.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await Jx(r,e,c,f==="current",l.resumeToken)),r.isPrimaryClient&&i&&zT(r.remoteStore,l),g}async function Jx(r,e,i,s,l){r.pu=(A,C,H)=>(async function(Z,W,ce,le){let me=W.view.ru(ce);me.Ss&&(me=await hv(Z.localStore,W.query,!1).then((({documents:D})=>W.view.ru(D,me))));const ee=le&&le.targetChanges.get(W.targetId),Ee=le&&le.targetMismatches.get(W.targetId)!=null,Ce=W.view.applyChanges(me,Z.isPrimaryClient,ee,Ee);return Tv(Z,W.targetId,Ce.au),Ce.snapshot})(r,A,C,H);const c=await hv(r.localStore,e,!0),f=new Gx(e,c.ks),g=f.ru(c.documents),y=tu.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),_=f.applyChanges(g,r.isPrimaryClient,y);Tv(r,i,_.au);const b=new Kx(e,i,f);return r.Tu.set(e,b),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function Zx(r,e,i){const s=be(r),l=s.Tu.get(e),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((f=>!Ch(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Im(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&lg(s.remoteStore,l.targetId),Nm(s,l.targetId)})).catch(fo)):(Nm(s,l.targetId),await Im(s.localStore,l.targetId,!0))}async function Wx(r,e){const i=be(r),s=i.Tu.get(e),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),lg(i.remoteStore,s.targetId))}async function eN(r,e,i){const s=oN(r);try{const l=await(function(f,g){const y=be(f),_=st.now(),b=g.reduce(((H,J)=>H.add(J.key)),ke());let A,C;return y.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let J=ir(),Z=ke();return y.xs.getEntries(H,b).next((W=>{J=W,J.forEach(((ce,le)=>{le.isValidDocument()||(Z=Z.add(ce))}))})).next((()=>y.localDocuments.getOverlayedDocuments(H,J))).next((W=>{A=W;const ce=[];for(const le of g){const me=hC(le,A.get(le.key).overlayedDocument);me!=null&&ce.push(new ss(le.key,me,nT(me.value.mapValue),Wn.exists(!0)))}return y.mutationQueue.addMutationBatch(H,_,ce,g)})).next((W=>{C=W;const ce=W.applyToLocalDocumentSet(A,Z);return y.documentOverlayCache.saveOverlays(H,W.batchId,ce)}))})).then((()=>({batchId:C.batchId,changes:mT(A)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(f,g,y){let _=f.du[f.currentUser.toKey()];_||(_=new ct(Ve)),_=_.insert(g,y),f.du[f.currentUser.toKey()]=_})(s,l.batchId,i),await iu(s,l.changes),await kh(s.remoteStore)}catch(l){const c=dg(l,"Failed to persist write");i.reject(c)}}async function XT(r,e){const i=be(r);try{const s=await ux(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const f=i.Au.get(c);f&&(Ke(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?Ke(f.hu,14607):l.removedDocuments.size>0&&(Ke(f.hu,42227),f.hu=!1))})),await iu(i,s,e)}catch(s){await fo(s)}}function Ev(r,e,i){const s=be(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,f)=>{const g=f.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(f,g){const y=be(f);y.onlineState=g;let _=!1;y.queries.forEach(((b,A)=>{for(const C of A.ba)C.va(g)&&(_=!0)})),_&&mg(y)})(s.eventManager,e),l.length&&s.Pu.J_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function tN(r,e,i){const s=be(r);s.sharedClientState.updateQueryState(e,"rejected",i);const l=s.Au.get(e),c=l&&l.key;if(c){let f=new ct(fe.comparator);f=f.insert(c,Wt.newNoDocument(c,ve.min()));const g=ke().add(c),y=new Oh(ve.min(),new Map,new ct(Ve),f,g);await XT(s,y),s.Ru=s.Ru.remove(c),s.Au.delete(e),pg(s)}else await Im(s.localStore,e,!1).then((()=>Nm(s,e,i))).catch(fo)}async function nN(r,e){const i=be(r),s=e.batch.batchId;try{const l=await lx(i.localStore,e);JT(i,s,null),$T(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await iu(i,l)}catch(l){await fo(l)}}async function iN(r,e,i){const s=be(r);try{const l=await(function(f,g){const y=be(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return y.mutationQueue.lookupMutationBatch(_,g).next((A=>(Ke(A!==null,37113),b=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,b,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>y.localDocuments.getDocuments(_,b)))}))})(s.localStore,e);JT(s,e,i),$T(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await iu(s,l)}catch(l){await fo(l)}}function $T(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function JT(r,e,i){const s=be(r);let l=s.du[s.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),s.du[s.currentUser.toKey()]=l}}function Nm(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||ZT(r,s)}))}function ZT(r,e){r.Eu.delete(e.path.canonicalString());const i=r.Ru.get(e);i!==null&&(lg(r.remoteStore,i),r.Ru=r.Ru.remove(e),r.Au.delete(i),pg(r))}function Tv(r,e,i){for(const s of i)s instanceof KT?(r.Vu.addReference(s.key,e),rN(r,s)):s instanceof QT?(se(gg,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||ZT(r,s.key)):ye(19791,{wu:s})}function rN(r,e){const i=e.key,s=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(s)||(se(gg,"New document in limbo: "+i),r.Eu.add(s),pg(r))}function pg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new fe(nt.fromString(e)),s=r.fu.next();r.Au.set(s,new Qx(i)),r.Ru=r.Ru.insert(i,s),zT(r.remoteStore,new Hr(Ci(uT(i.path)),s,"TargetPurposeLimboResolution",wh.ce))}}async function iu(r,e,i){const s=be(r),l=[],c=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,y)=>{f.push(s.pu(y,e,i).then((_=>{var b;if((_||i)&&s.isPrimaryClient){const A=_?!_.fromCache:(b=i==null?void 0:i.targetChanges.get(y.targetId))==null?void 0:b.current;s.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){l.push(_);const A=ag.Es(y.targetId,_);c.push(A)}})))})),await Promise.all(f),s.Pu.J_(l),await(async function(y,_){const b=be(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$.forEach(_,(C=>$.forEach(C.Ts,(H=>b.persistence.referenceDelegate.addReference(A,C.targetId,H))).next((()=>$.forEach(C.Is,(H=>b.persistence.referenceDelegate.removeReference(A,C.targetId,H)))))))))}catch(A){if(!mo(A))throw A;se(og,"Failed to update sequence numbers: "+A)}for(const A of _){const C=A.targetId;if(!A.fromCache){const H=b.vs.get(C),J=H.snapshotVersion,Z=H.withLastLimboFreeSnapshotVersion(J);b.vs=b.vs.insert(C,Z)}}})(s.localStore,c))}async function sN(r,e){const i=be(r);if(!i.currentUser.isEqual(e)){se(gg,"User change. New user:",e.toKey());const s=await LT(i.localStore,e);i.currentUser=e,(function(c,f){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new re(X.CANCELLED,f))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await iu(i,s.Ns)}}function aN(r,e){const i=be(r),s=i.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let l=ke();const c=i.Iu.get(e);if(!c)return l;for(const f of c){const g=i.Tu.get(f);l=l.unionWith(g.view.nu)}return l}}function WT(r){const e=be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=XT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tN.bind(null,e),e.Pu.J_=qx.bind(null,e.eventManager),e.Pu.yu=Hx.bind(null,e.eventManager),e}function oN(r){const e=be(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iN.bind(null,e),e}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return ox(this.persistence,new rx,e.initialUser,this.serializer)}Cu(e){return new kT(sg.Vi,this.serializer)}Du(e){return new mx}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class lN extends _h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ke(this.persistence.referenceDelegate instanceof ph,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new HC(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new kT((s=>ph.Vi(s,i)),this.serializer)}}class Dm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Ev(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=sN.bind(null,this.syncEngine),await Ux(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new jx})()}createDatastore(e){const i=Mh(e.databaseInfo.databaseId),s=vx(e.databaseInfo);return Ax(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,l,c,f,g){return new Rx(s,l,c,f,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>Ev(this.syncEngine,i,0)),(function(){return mv.v()?new mv:new gx})())}createSyncEngine(e,i){return(function(l,c,f,g,y,_,b){const A=new Yx(l,c,f,g,y,_);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(l){const c=be(l);se(Ks,"RemoteStore shutting down."),c.Ea.add(5),await nu(c),c.Aa.shutdown(),c.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}Dm.provider={build:()=>new Dm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):nr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="FirestoreClient";class cN{constructor(e,i,s,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this._databaseInfo=l,this.user=Zt.UNAUTHENTICATED,this.clientId=Qm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async f=>{se(ts,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(se(ts,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=dg(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function tm(r,e){r.asyncQueue.verifyOperationInProgress(),se(ts,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await LT(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function bv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await hN(r);se(ts,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>pv(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>pv(e.remoteStore,l))),r._onlineComponents=e}async function hN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){se(ts,"Using user provided OfflineComponentProvider");try{await tm(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Fs("Error using user provided cache. Falling back to memory cache: "+i),await tm(r,new _h)}}else se(ts,"Using default OfflineComponentProvider"),await tm(r,new lN(void 0));return r._offlineComponents}async function e1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(se(ts,"Using user provided OnlineComponentProvider"),await bv(r,r._uninitializedComponentsProvider._online)):(se(ts,"Using default OnlineComponentProvider"),await bv(r,new Dm))),r._onlineComponents}function fN(r){return e1(r).then((e=>e.syncEngine))}async function dN(r){const e=await e1(r),i=e.eventManager;return i.onListen=Xx.bind(null,e.syncEngine),i.onUnlisten=Zx.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=$x.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Wx.bind(null,e.syncEngine),i}function mN(r,e,i={}){const s=new Yr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,f,g,y,_){const b=new uN({next:C=>{b.Nu(),f.enqueueAndForget((()=>Bx(c,A))),C.fromCache&&y.source==="server"?_.reject(new re(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(C)},error:C=>_.reject(C)}),A=new Fx(g,b,{includeMetadataChanges:!0,Ka:!0});return zx(c,A)})(await dN(r),r.asyncQueue,e,i,s))),s.promise}function gN(r,e){const i=new Yr;return r.asyncQueue.enqueueAndForget((async()=>eN(await fN(r),e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="ComponentProvider",Sv=new Map;function yN(r,e,i,s,l){return new VI(r,e,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,t1(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="firestore.googleapis.com",Av=!0;class wv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new re(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=n1,this.ssl=Av}else this.host=e.host,this.ssl=e.ssl??Av;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<BC)throw new re(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=t1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new re(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new re(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new re(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lh{constructor(e,i,s,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new dI;switch(s.type){case"firstParty":return new yI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new re(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=Sv.get(i);s&&(se(pN,"Removing Datastore"),Sv.delete(i),s.terminate())})(this),Promise.resolve()}}function _N(r,e,i,s={}){var _;r=Gs(r,Lh);const l=lo(e),c=r._getSettings(),f={...c,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${i}`;l&&(Xv(`https://${g}`),$v("Firestore",!0)),c.host!==n1&&c.host!==g&&Fs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:l,emulatorOptions:s};if(!js(y,f)&&(r._setSettings(y),s.mockUserToken)){let b,A;if(typeof s.mockUserToken=="string")b=s.mockUserToken,A=Zt.MOCK_USER;else{b=bA(s.mockUserToken,(_=r._app)==null?void 0:_.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new re(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Zt(C)}r._authCredentials=new mI(new FE(b,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new po(this.firestore,e,this._query)}}class Vt{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(Zl(i,Vt._jsonSchema))return new Vt(e,s||null,new fe(nt.fromString(i.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:Nt("string",Vt._jsonSchemaVersion),referencePath:Nt("string")};class Xr extends po{constructor(e,i,s){super(e,i,uT(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new fe(e))}withConverter(e){return new Xr(this.firestore,e,this._path)}}function Rv(r,e,...i){if(r=zt(r),GE("collection","path",e),r instanceof Lh){const s=nt.fromString(e,...i);return P0(s),new Xr(r,null,s)}{if(!(r instanceof Vt||r instanceof Xr))throw new re(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...i));return P0(s),new Xr(r.firestore,null,s)}}function Nl(r,e,...i){if(r=zt(r),arguments.length===1&&(e=Qm.newId()),GE("doc","path",e),r instanceof Lh){const s=nt.fromString(e,...i);return U0(s),new Vt(r,null,new fe(s))}{if(!(r instanceof Vt||r instanceof Xr))throw new re(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...i));return U0(s),new Vt(r.firestore,r instanceof Xr?r.converter:null,new fe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="AsyncQueue";class Cv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new PT(this,"async_queue_retry"),this._c=()=>{const s=em();s&&se(Iv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=em();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=em();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Yr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!mo(e))throw e;se(Iv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,nr("INTERNAL UNHANDLED ERROR: ",xv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=fg.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&ye(47125,{Pc:xv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function xv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class ru extends Lh{constructor(e,i,s,l){super(e,i,s,l),this.type="firestore",this._queue=new Cv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Cv(e),this._firestoreClient=void 0,await e}}}function vN(r,e){const i=typeof r=="object"?r:eE(),s=typeof r=="string"?r:uh,l=Um(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=EA("firestore");c&&_N(l,...c)}return l}function i1(r){if(r._terminated)throw new re(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||EN(r),r._firestoreClient}function EN(r){var s,l,c,f;const e=r._freezeSettings(),i=yN(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,(l=r._app)==null?void 0:l.options.apiKey,e);r._componentsProvider||(c=e.localCache)!=null&&c._offlineComponentProvider&&((f=e.localCache)!=null&&f._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new cN(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(y){const _=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(_),_online:_}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(Xt.fromBase64String(e))}catch(i){throw new re(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Pn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zl(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Nt("string",Pn._jsonSchemaVersion),bytes:Nt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new re(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new re(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new re(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(e){if(Zl(e,Ni._jsonSchema))return new Ni(e.latitude,e.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:Nt("string",Ni._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zl(e,ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ei(e.vectorValues);throw new re(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ei._jsonSchemaVersion="firestore/vectorValue/1.0",ei._jsonSchema={type:Nt("string",ei._jsonSchemaVersion),vectorValues:Nt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=/^__.*__$/;class bN{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new ss(e,this.data,this.fieldMask,i,this.fieldTransforms):new eu(e,this.data,i,this.fieldTransforms)}}class r1{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new ss(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function s1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{dataSource:r})}}class vg{constructor(e,i,s,l,c,f){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new vg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var l;const i=(l=this.path)==null?void 0:l.child(e),s=this.contextWith({path:i,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){var l;const i=(l=this.path)==null?void 0:l.child(e),s=this.contextWith({path:i,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return vh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(s1(this.dataSource)&&TN.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class SN{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Mh(e)}createContext(e,i,s,l=!1){return new vg({dataSource:e,methodName:i,targetDoc:s,path:Yt.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Eg(r){const e=r._freezeSettings(),i=Mh(r._databaseId);return new SN(r._databaseId,!!e.ignoreUndefinedProperties,i)}function AN(r,e,i,s,l,c={}){const f=r.createContext(c.merge||c.mergeFields?2:0,e,i,l);Tg("Data must be an object, but it was:",f,s);const g=a1(s,f);let y,_;if(c.merge)y=new Sn(f.fieldMask),_=f.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const C=oo(e,A,i);if(!f.contains(C))throw new re(X.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);u1(b,C)||b.push(C)}y=new Sn(b),_=f.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=f.fieldTransforms;return new bN(new dn(g),y,_)}class Uh extends _g{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uh}}function wN(r,e,i,s){const l=r.createContext(1,e,i);Tg("Data must be an object, but it was:",l,s);const c=[],f=dn.empty();rs(s,((y,_)=>{const b=l1(e,y,i);_=zt(_);const A=l.childContextForFieldPath(b);if(_ instanceof Uh)c.push(b);else{const C=su(_,A);C!=null&&(c.push(b),f.set(b,C))}}));const g=new Sn(c);return new r1(f,g,l.fieldTransforms)}function RN(r,e,i,s,l,c){const f=r.createContext(1,e,i),g=[oo(e,s,i)],y=[l];if(c.length%2!=0)throw new re(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<c.length;C+=2)g.push(oo(e,c[C])),y.push(c[C+1]);const _=[],b=dn.empty();for(let C=g.length-1;C>=0;--C)if(!u1(_,g[C])){const H=g[C];let J=y[C];J=zt(J);const Z=f.childContextForFieldPath(H);if(J instanceof Uh)_.push(H);else{const W=su(J,Z);W!=null&&(_.push(H),b.set(H,W))}}const A=new Sn(_);return new r1(b,A,f.fieldTransforms)}function IN(r,e,i,s=!1){return su(i,r.createContext(s?4:3,e))}function su(r,e){if(o1(r=zt(r)))return Tg("Unsupported field value:",e,r),a1(r,e);if(r instanceof _g)return(function(s,l){if(!s1(l.dataSource))throw l.createError(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,l){const c=[];let f=0;for(const g of s){let y=su(g,l.childContextForArray(f));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),f++}return{arrayValue:{values:c}}})(r,e)}return(function(s,l){if((s=zt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return sC(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=st.fromDate(s);return{timestampValue:gh(l.serializer,c)}}if(s instanceof st){const c=new st(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:gh(l.serializer,c)}}if(s instanceof Ni)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Pn)return{bytesValue:RT(l.serializer,s._byteString)};if(s instanceof Vt){const c=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw l.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ig(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof ei)return(function(f,g){const y=f instanceof ei?f.toArray():f;return{mapValue:{fields:{[eT]:{stringValue:tT},[ch]:{arrayValue:{values:y.map((b=>{if(typeof b!="number")throw g.createError("VectorValues must only contain numeric values.");return Wm(g.serializer,b)}))}}}}}})(s,l);if(MT(s))return s._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Ah(s)}`)})(r,e)}function a1(r,e){const i={};return YE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rs(r,((s,l)=>{const c=su(l,e.childContextForField(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function o1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof st||r instanceof Ni||r instanceof Pn||r instanceof Vt||r instanceof _g||r instanceof ei||MT(r))}function Tg(r,e,i){if(!o1(i)||!KE(i)){const s=Ah(i);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function oo(r,e,i){if((e=zt(e))instanceof yg)return e._internalPath;if(typeof e=="string")return l1(r,e);throw vh("Field path arguments must be of type string or ",r,!1,void 0,i)}const CN=new RegExp("[~\\*/\\[\\]]");function l1(r,e,i){if(e.search(CN)>=0)throw vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new yg(...e.split("."))._internalPath}catch{throw vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function vh(r,e,i,s,l){const c=s&&!s.isEmpty(),f=l!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||f)&&(y+=" (found",c&&(y+=` in field ${s}`),f&&(y+=` in document ${l}`),y+=")"),new re(X.INVALID_ARGUMENT,g+r+y)}function u1(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{convertValue(e,i="none"){switch(Wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return rs(e,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(e){var s,l,c;const i=(c=(l=(s=e.fields)==null?void 0:s[ch].arrayValue)==null?void 0:l.values)==null?void 0:c.map((f=>yt(f.doubleValue)));return new ei(i)}convertGeoPoint(e){return new Ni(yt(e.latitude),yt(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Ih(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Bl(e));default:return null}}convertTimestamp(e){const i=Jr(e);return new st(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=nt.fromString(e);Ke(OT(s),9688,{name:e});const l=new ql(s.get(1),s.get(3)),c=new fe(s.popFirst(5));return l.isEqual(i)||nr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN extends xN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,i)}}const Nv="@firebase/firestore",Dv="4.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,i,s,l,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const i=this._document.data.field(oo("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class DN extends c1{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new re(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bg{}class MN extends bg{}function VN(r,e,...i){let s=[];e instanceof bg&&s.push(e),s=s.concat(i),(function(c){const f=c.filter((y=>y instanceof Sg)).length,g=c.filter((y=>y instanceof Ph)).length;if(f>1||f>0&&g>0)throw new re(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Ph extends MN{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Ph(e,i,s)}_apply(e){const i=this._parse(e);return h1(e._query,i),new po(e.firestore,e.converter,Tm(e._query,i))}_parse(e){const i=Eg(e.firestore);return(function(c,f,g,y,_,b,A){let C;if(_.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new re(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Mv(A,b);const J=[];for(const Z of A)J.push(Ov(y,c,Z));C={arrayValue:{values:J}}}else C=Ov(y,c,A)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Mv(A,b),C=IN(g,f,A,b==="in"||b==="not-in");return xt.create(_,b,C)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function kN(r,e,i){const s=e,l=oo("where",r);return Ph._create(l,s,i)}class Sg extends bg{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Sg(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:ni.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let f=l;const g=c.getFlattenedFilters();for(const y of g)h1(f,y),f=Tm(f,y)})(e._query,i),new po(e.firestore,e.converter,Tm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Ov(r,e,i){if(typeof(i=zt(i))=="string"){if(i==="")throw new re(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cT(e)&&i.indexOf("/")!==-1)throw new re(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(nt.fromString(i));if(!fe.isDocumentKey(s))throw new re(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return K0(r,new fe(s))}if(i instanceof Vt)return K0(r,i._key);throw new re(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ah(i)}.`)}function Mv(r,e){if(!Array.isArray(r)||r.length===0)throw new re(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function h1(r,e){const i=(function(l,c){for(const f of l)for(const g of f.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new re(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function LN(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class Bc{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wa extends c1{constructor(e,i,s,l,c,f){super(e,i,s,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(oo("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new re(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Wa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Wa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wa._jsonSchema={type:Nt("string",Wa._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Zc extends Wa{data(e={}){return super.data(e)}}class eo{constructor(e,i,s,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Bc(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Zc(this._firestore,this._userDataWriter,s.key,s,new Bc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new re(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((g=>{const y=new Zc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Bc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new Zc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Bc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,b=-1;return g.type!==0&&(_=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),b=f.indexOf(g.doc.key)),{type:UN(g.type),doc:y,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new re(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=eo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function UN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:r})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */eo._jsonSchemaVersion="firestore/querySnapshot/1.0",eo._jsonSchema={type:Nt("string",eo._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};function PN(r){r=Gs(r,po);const e=Gs(r.firestore,ru),i=i1(e),s=new NN(e);return ON(r._query),mN(i,r._query).then((l=>new eo(e,s,r,l)))}function nm(r,e,i,...s){r=Gs(r,Vt);const l=Gs(r.firestore,ru),c=Eg(l);let f;return f=typeof(e=zt(e))=="string"||e instanceof yg?RN(c,"updateDoc",r._key,e,i,s):wN(c,"updateDoc",r._key,e),Ag(l,[f.toMutation(r._key,Wn.exists(!0))])}function jN(r){return Ag(Gs(r.firestore,ru),[new eg(r._key,Wn.none())])}function zN(r,e){const i=Gs(r.firestore,ru),s=Nl(r),l=LN(r.converter,e),c=Eg(r.firestore);return Ag(i,[AN(c,"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,Wn.exists(!1))]).then((()=>s))}function Ag(r,e){const i=i1(r);return gN(i,e)}(function(e,i=!0){fI(uo),to(new zs("firestore",((s,{instanceIdentifier:l,options:c})=>{const f=s.getProvider("app").getImmediate(),g=new ru(new gI(s.getProvider("auth-internal")),new _I(f,s.getProvider("app-check-internal")),kI(f,l),f);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Kr(Nv,Dv,e),Kr(Nv,Dv,"esm2020")})();const BN={apiKey:"AIzaSyCGzA_DFO_mnMoZTC4Rshzhoeidd_JSkkc",authDomain:"travel-expense-tracker-040898.firebaseapp.com",projectId:"travel-expense-tracker-040898",storageBucket:"travel-expense-tracker-040898.firebasestorage.app",messagingSenderId:"561193976326",appId:"1:561193976326:web:b6666d9fddc9e25cd6f987",measurementId:"G-SNLXRH902H"},f1=Wv(BN),qc=cI(f1),za=vN(f1),qN=()=>{const[r,e]=Se.useState(null),[i,s]=Se.useState(!0),[l,c]=Se.useState(""),[f,g]=Se.useState(null),[y,_]=Se.useState([]),[b,A]=Se.useState(!1);Se.useEffect(()=>{const R=Z2(qc,async N=>{e(N),N?await C(N.uid):(g(null),_([])),s(!1)});return()=>R()},[]);const C=async R=>{try{const N=Rv(za,"tours"),O=VN(N,kN("userId","==",R)),L=await PN(O);let I=null;const ze=[];L.forEach(at=>{const F={id:at.id,...at.data()};F.status==="active"?I=F:ze.push(F)}),g(I),_(ze.sort((at,F)=>new Date(F.completionDate).getTime()-new Date(at.completionDate).getTime())),I||A(!0)}catch(N){console.error("Error fetching tours: ",N)}},H=async(R,N)=>{try{await X2(qc,R,N),c("")}catch(O){["auth/user-not-found","auth/wrong-password","auth/invalid-credential"].includes(O.code)?c("Invalid email or password."):c("An error occurred during login.")}},J=async(R,N)=>{try{await Y2(qc,R,N),c("")}catch(O){O.code==="auth/email-already-in-use"?c("An account with this email already exists."):c("Failed to create an account.")}},Z=async()=>{try{await W2(qc)}catch(R){console.error("Error logging out:",R)}},W=Se.useMemo(()=>(f==null?void 0:f.expenses.reduce((R,N)=>R+N.amount,0))??0,[f]),ce=async R=>{if(!r)return;const N={...R,userId:r.uid,status:"active",expenses:[]};try{const O=await zN(Rv(za,"tours"),N);g({...N,id:O.id}),A(!1)}catch(O){console.error("Error starting tour: ",O)}},le=async R=>{if(f)try{const N=Nl(za,"tours",f.id);await nm(N,{expenses:R}),g({...f,expenses:R})}catch(N){console.error("Error updating expenses: ",N)}},me=R=>{if(f){const N={...R,id:Date.now().toString()};le([...f.expenses,N])}},ee=R=>{f&&le(f.expenses.map(N=>N.id===R.id?R:N))},Ee=R=>{f&&le(f.expenses.filter(N=>N.id!==R))},Ce=async R=>{if(f){const N={status:"completed",completionDate:R,totalExpenses:W};try{const O=Nl(za,"tours",f.id);await nm(O,N);const L={...f,...N};_(I=>[L,...I]),g(null)}catch(O){console.error("Error completing tour: ",O)}}},D=async R=>{try{const N=R.expenses.reduce((I,ze)=>I+ze.amount,0),O={...R,totalExpenses:N},L=Nl(za,"tours",O.id);await nm(L,O),_(I=>I.map(ze=>ze.id===O.id?O:ze))}catch(N){console.error("Error updating completed tour: ",N)}},w=async R=>{try{await jN(Nl(za,"tours",R)),_(N=>N.filter(O=>O.id!==R))}catch(N){console.error("Error deleting tour: ",N)}};return i?T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:T.jsxs("div",{className:"flex flex-col items-center gap-4 text-indigo-600",children:[T.jsx(rm,{className:"h-12 w-12 animate-bounce"}),T.jsx("span",{className:"text-xl font-bold",children:"Loading your trips..."})]})}):r?T.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-gray-800",children:[T.jsx("header",{className:"bg-gradient-to-r from-indigo-700 to-indigo-900 shadow-lg text-white p-4 sticky top-0 z-40",children:T.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx(rm,{className:"h-8 w-8"}),T.jsx("h1",{className:"text-xl md:text-2xl font-bold tracking-tight hidden md:block",children:"Travel Expense Tracker"}),T.jsx("h1",{className:"text-xl font-bold tracking-tight md:hidden",children:"Travel Tracker"})]}),T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs("div",{className:"flex items-center gap-2 text-indigo-100 text-sm md:text-base",children:[T.jsx(WS,{size:18}),T.jsx("span",{className:"hidden sm:inline",children:r.email})]}),T.jsxs("button",{onClick:Z,className:"bg-indigo-800 hover:bg-indigo-600 p-2 rounded-lg transition text-xs md:text-sm font-semibold flex items-center gap-2",children:[T.jsx(US,{size:16})," Logout"]})]})]})}),T.jsxs("main",{className:"container mx-auto p-4 md:p-6 lg:p-8",children:[f?T.jsx(oA,{tour:f,totalExpenses:W,onAddExpense:me,onUpdateExpense:ee,onDeleteExpense:Ee,onCompleteTour:Ce,isHistoryVisible:b,onToggleHistory:()=>A(R=>!R),hasHistory:y.length>0}):T.jsx(nA,{onStartTour:ce}),(!f&&y.length>0||f&&b)&&T.jsx(cA,{tours:y,onUpdateTour:D,onDeleteTour:w})]})]}):T.jsx(hA,{onLogin:H,onSignup:J,error:l,clearError:()=>c("")})},d1=document.getElementById("root");if(!d1)throw new Error("Could not find root element to mount to");const HN=eS.createRoot(d1);HN.render(T.jsx(Jn.StrictMode,{children:T.jsx(qN,{})}));
